<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>General Ledger: editorElement.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>editorElement.cpp</h1><a href="editorElement_8cpp.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="preprocessor">#include &lt;qobject.h&gt;</span>
00002 <span class="preprocessor">#include &lt;qframe.h&gt;</span>
00003 <span class="preprocessor">#include &lt;qlayout.h&gt;</span>
00004 <span class="preprocessor">#include &lt;qlabel.h&gt;</span>
00005 <span class="preprocessor">#include &lt;qpushbutton.h&gt;</span>
00006 <span class="preprocessor">#include &lt;qstring.h&gt;</span>
00007 
00008 <span class="preprocessor">#include "config.h"</span>
00009 <span class="preprocessor">#include "<a class="code" href="database_8h.html">database.h</a>"</span>
00010 <span class="preprocessor">#include "<a class="code" href="editorElement_8h.html">editorElement.h</a>"</span>
00011 
<a name="l00012"></a><a class="code" href="classEditorElement.html#a0">00012</a> <a class="code" href="classEditorElement.html#a0">EditorElement::EditorElement</a>(Database::editorCategories newCategory, QString newId, QString newType,
00013     QString newDesc, QString newAccountBegin, QString newAccountEnd)
00014 
00015     : QObject(), category(newCategory), id(newId), type(newType), desc(newDesc),
00016       accountBegin(newAccountBegin), accountEnd(newAccountEnd)
00017 {
00018     <a class="code" href="classEditorElement.html#r2">db</a> = <a class="code" href="classDatabase.html#e0">Database::instance</a>();
00019 }
00020 
<a name="l00021"></a><a class="code" href="classEditorElement.html#a1">00021</a> <a class="code" href="classEditorElement.html#a1">EditorElement::~EditorElement</a>()
00022 {}
00023    
<a name="l00024"></a><a class="code" href="classEditorElement.html#a2">00024</a> QFrame* <a class="code" href="classEditorElement.html#a2">EditorElement::getFrame</a>(QWidget *parent, <span class="keywordtype">void</span> *newSection)
00025 {
00026     <a class="code" href="classEditorElement.html#r1">section</a> = newSection;
00027     
00028     <a class="code" href="classEditorElement.html#r8">frame</a> = <span class="keyword">new</span> QFrame(parent);
00029     <a class="code" href="classEditorElement.html#r9">layout</a> = <span class="keyword">new</span> QHBoxLayout(<a class="code" href="classEditorElement.html#r8">frame</a>);
00030     <a class="code" href="classEditorElement.html#r10">descLabel</a> = <span class="keyword">new</span> QLabel(<a class="code" href="classEditorElement.html#r5">desc</a>, <a class="code" href="classEditorElement.html#r8">frame</a>);
00031    
00032     <span class="keywordflow">if</span>(<a class="code" href="classEditorElement.html#r4">type</a> == <span class="stringliteral">"0"</span>)
00033         <a class="code" href="classEditorElement.html#r11">accountsLabel</a> = <span class="keyword">new</span> QLabel(<a class="code" href="classEditorElement.html#r6">accountBegin</a>, <a class="code" href="classEditorElement.html#r8">frame</a>);
00034     <span class="keywordflow">else</span>
00035         <a class="code" href="classEditorElement.html#r11">accountsLabel</a> = <span class="keyword">new</span> QLabel(<a class="code" href="classEditorElement.html#r6">accountBegin</a> + <span class="stringliteral">" - "</span> + <a class="code" href="classEditorElement.html#r7">accountEnd</a>, <a class="code" href="classEditorElement.html#r8">frame</a>);
00036     
00037     <a class="code" href="classEditorElement.html#r12">upButton</a> = <span class="keyword">new</span> QPushButton(
00038             QIconSet( QPixmap::fromMimeSource(ICON_PATH + <span class="stringliteral">"/elementUp.png"</span>) ), <span class="stringliteral">""</span>, <a class="code" href="classEditorElement.html#r8">frame</a>);
00039     <a class="code" href="classEditorElement.html#r12">upButton</a>-&gt;setFixedSize(28, 28);
00040     connect(<a class="code" href="classEditorElement.html#r12">upButton</a>, SIGNAL(clicked()), <span class="keyword">this</span>, SLOT(<a class="code" href="classEditorElement.html#k0">elementUp</a>()));
00041     
00042     <a class="code" href="classEditorElement.html#r13">downButton</a> = <span class="keyword">new</span> QPushButton(
00043                 QIconSet( QPixmap::fromMimeSource(ICON_PATH + <span class="stringliteral">"/elementDown.png"</span>) ), <span class="stringliteral">""</span>, <a class="code" href="classEditorElement.html#r8">frame</a>);
00044     <a class="code" href="classEditorElement.html#r13">downButton</a>-&gt;setFixedSize(28, 28);
00045     connect(<a class="code" href="classEditorElement.html#r13">downButton</a>, SIGNAL(clicked()), <span class="keyword">this</span>, SLOT(<a class="code" href="classEditorElement.html#k1">elementDown</a>()));
00046     
00047     <a class="code" href="classEditorElement.html#r14">removeButton</a> = <span class="keyword">new</span> QPushButton(
00048             QIconSet( QPixmap::fromMimeSource(ICON_PATH + <span class="stringliteral">"/elementRemove.png"</span>) ), <span class="stringliteral">""</span>, <a class="code" href="classEditorElement.html#r8">frame</a>);
00049     <a class="code" href="classEditorElement.html#r14">removeButton</a>-&gt;setFixedSize(28, 28);
00050     connect(<a class="code" href="classEditorElement.html#r14">removeButton</a>, SIGNAL(clicked()), <span class="keyword">this</span>, SLOT(<a class="code" href="classEditorElement.html#k2">removeElement</a>()));
00051     
00052     <a class="code" href="classEditorElement.html#r9">layout</a>-&gt;addWidget(<a class="code" href="classEditorElement.html#r10">descLabel</a>);
00053     <a class="code" href="classEditorElement.html#r9">layout</a>-&gt;addWidget(<a class="code" href="classEditorElement.html#r11">accountsLabel</a>);
00054     <a class="code" href="classEditorElement.html#r9">layout</a>-&gt;addWidget(<a class="code" href="classEditorElement.html#r12">upButton</a>);
00055     <a class="code" href="classEditorElement.html#r9">layout</a>-&gt;addWidget(<a class="code" href="classEditorElement.html#r13">downButton</a>);
00056     <a class="code" href="classEditorElement.html#r9">layout</a>-&gt;addWidget(<a class="code" href="classEditorElement.html#r14">removeButton</a>);
00057     
00058     <span class="keywordflow">return</span> <a class="code" href="classEditorElement.html#r8">frame</a>;
00059 }
00060 
<a name="l00061"></a><a class="code" href="classEditorElement.html#k0">00061</a> <span class="keywordtype">void</span> <a class="code" href="classEditorElement.html#k0">EditorElement::elementUp</a>()
00062 {
00063     <a class="code" href="classEditorElement.html#r2">db</a>-&gt;<a class="code" href="classDatabase.html#a21">moveElement</a>(<a class="code" href="classEditorElement.html#r0">category</a>, <span class="keywordtype">id</span>, <span class="keyword">true</span>);
00064     emit <a class="code" href="classEditorElement.html#l0">changed</a>(<a class="code" href="classEditorElement.html#r1">section</a>);
00065 }
00066 
<a name="l00067"></a><a class="code" href="classEditorElement.html#k1">00067</a> <span class="keywordtype">void</span> <a class="code" href="classEditorElement.html#k1">EditorElement::elementDown</a>()
00068 {
00069     <a class="code" href="classEditorElement.html#r2">db</a>-&gt;<a class="code" href="classDatabase.html#a21">moveElement</a>(<a class="code" href="classEditorElement.html#r0">category</a>, <span class="keywordtype">id</span>, <span class="keyword">false</span>);
00070     emit <a class="code" href="classEditorElement.html#l0">changed</a>(<a class="code" href="classEditorElement.html#r1">section</a>);
00071 }
00072 
<a name="l00073"></a><a class="code" href="classEditorElement.html#k2">00073</a> <span class="keywordtype">void</span> <a class="code" href="classEditorElement.html#k2">EditorElement::removeElement</a>()
00074 {
00075     <a class="code" href="classEditorElement.html#r2">db</a>-&gt;<a class="code" href="classDatabase.html#a20">removeElement</a>(<a class="code" href="classEditorElement.html#r0">category</a>, <span class="keywordtype">id</span>);
00076     emit <a class="code" href="classEditorElement.html#l0">changed</a>(<a class="code" href="classEditorElement.html#r1">section</a>);
00077 }
00078 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Fri Sep 17 18:11:39 2004 for General Ledger by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
