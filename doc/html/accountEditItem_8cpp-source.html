<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>General Ledger: accountEditItem.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>accountEditItem.cpp</h1><a href="accountEditItem_8cpp.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="preprocessor">#include &lt;qtable.h&gt;</span>
00002 <span class="preprocessor">#include &lt;qstringlist.h&gt;</span>
00003 <span class="preprocessor">#include &lt;qlineedit.h&gt;</span>
00004 <span class="preprocessor">#include &lt;qvalidator.h&gt;</span>
00005 <span class="preprocessor">#include &lt;qregexp.h&gt;</span>
00006 
00007 <span class="preprocessor">#include "<a class="code" href="accountEditItem_8h.html">accountEditItem.h</a>"</span>
00008 <span class="preprocessor">#include "<a class="code" href="accountEditList_8h.html">accountEditList.h</a>"</span>
00009 
<a name="l00010"></a><a class="code" href="classAccountEditItem.html#a0">00010</a> <a class="code" href="classAccountEditItem.html#a0">AccountEditItem::AccountEditItem</a>(QTable *table, QStringList &amp;newAccounts, <span class="keyword">const</span> QString &amp;newText, <span class="keyword">const</span> QString &amp;newKey)
00011     : QTableItem(table, QTableItem::OnTyping), accounts(newAccounts), itemText(newText), itemKey(newKey)
00012 {}
00013 
<a name="l00014"></a><a class="code" href="classAccountEditItem.html#a1">00014</a> <a class="code" href="classAccountEditItem.html#a0">AccountEditItem::AccountEditItem</a>(QTable *table, <span class="keyword">const</span> QString &amp;newText, <span class="keyword">const</span> QString &amp;newKey)
00015     : QTableItem(table, QTableItem::OnTyping), itemText(newText), itemKey(newKey)
00016 {
00017     <a class="code" href="classAccountEditItem.html#r0">accounts</a> = QStringList();
00018 }
00019 
<a name="l00020"></a><a class="code" href="classAccountEditItem.html#a2">00020</a> QWidget* <a class="code" href="classAccountEditItem.html#a2">AccountEditItem::createEditor</a>()<span class="keyword"> const</span>
00021 <span class="keyword"></span>{
00022     <span class="keywordflow">if</span>(<a class="code" href="classAccountEditItem.html#r0">accounts</a>.count())
00023     {
00024         <a class="code" href="classAccountEditList.html">AccountEditList</a> *editor = <span class="keyword">new</span> <a class="code" href="classAccountEditList.html">AccountEditList</a>(table()-&gt;viewport(), 0, <a class="code" href="classAccountEditItem.html#r0">accounts</a>, <a class="code" href="classAccountEditItem.html#r1">itemText</a>);
00025         <span class="keywordflow">return</span> editor;
00026     }
00027     <span class="keywordflow">else</span>
00028     {
00029         QLineEdit *editor = <span class="keyword">new</span> QLineEdit(<a class="code" href="classAccountEditItem.html#r1">itemText</a>, table()-&gt;viewport());
00030         editor-&gt;setValidator(<span class="keyword">new</span> QRegExpValidator(QRegExp(<span class="stringliteral">"\\d+-?\\d*"</span>), editor));
00031         <span class="keywordflow">return</span> editor;
00032     }
00033 }
00034 
<a name="l00035"></a><a class="code" href="classAccountEditItem.html#a3">00035</a> <span class="keywordtype">void</span> <a class="code" href="classAccountEditItem.html#a3">AccountEditItem::setContentFromEditor</a>(QWidget *widget)
00036 {
00037     <span class="keywordflow">if</span>(widget-&gt;inherits(<span class="stringliteral">"QComboBox"</span>))
00038         <a class="code" href="classAccountEditItem.html#r1">itemText</a> = ((<a class="code" href="classAccountEditList.html">AccountEditList</a>*)widget)-&gt;currentText();
00039     <span class="keywordflow">else</span>
00040         <a class="code" href="classAccountEditItem.html#r1">itemText</a> = ((QLineEdit*)widget)-&gt;text();
00041 }
00042 
<a name="l00043"></a><a class="code" href="classAccountEditItem.html#a4">00043</a> QString <a class="code" href="classAccountEditItem.html#a4">AccountEditItem::text</a>()<span class="keyword"> const</span>
00044 <span class="keyword"></span>{
00045     <span class="keywordflow">return</span> <a class="code" href="classAccountEditItem.html#r1">itemText</a>;
00046 }
00047 
<a name="l00048"></a><a class="code" href="classAccountEditItem.html#a5">00048</a> QString <a class="code" href="classAccountEditItem.html#a5">AccountEditItem::getKey</a>()<span class="keyword"> const</span>
00049 <span class="keyword"></span>{
00050     <span class="keywordflow">return</span> <a class="code" href="classAccountEditItem.html#r2">itemKey</a>;
00051 }
00052 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Fri Sep 17 18:11:38 2004 for General Ledger by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.8 </small></address>
</body>
</html>
