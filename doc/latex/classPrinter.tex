\hypertarget{classPrinter}{
\section{Printer Class Reference}
\label{classPrinter}\index{Printer@{Printer}}
}
{\tt \#include $<$printer.h$>$}

Collaboration diagram for Printer:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=71pt]{classPrinter__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
void \hyperlink{classPrinter_a0}{destroy} ()
\item 
void \hyperlink{classPrinter_a1}{print\-Report} (const QString \&header, const QString \&data)
\end{CompactItemize}
\subsection*{Static Public Member Functions}
\begin{CompactItemize}
\item 
\hyperlink{classPrinter}{Printer} $\ast$ \hyperlink{classPrinter_e0}{instance} ()
\end{CompactItemize}
\subsection*{Private Member Functions}
\begin{CompactItemize}
\item 
\hyperlink{classPrinter_d0}{Printer} ()
\item 
\hyperlink{classPrinter_d1}{$\sim$Printer} ()
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
\hyperlink{classSettings}{Settings} $\ast$ \hyperlink{classPrinter_r0}{settings}
\end{CompactItemize}
\subsection*{Static Private Attributes}
\begin{CompactItemize}
\item 
\hyperlink{classPrinter}{Printer} $\ast$ \hyperlink{classPrinter_v0}{printer} = 0
\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classPrinter_d0}{
\index{Printer@{Printer}!Printer@{Printer}}
\index{Printer@{Printer}!Printer@{Printer}}
\subsubsection[Printer]{\setlength{\rightskip}{0pt plus 5cm}Printer::Printer ()\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{classPrinter_d0}


Definition at line 17 of file printer.cpp.

References Settings::get\-Printer\-Color\-Mode(), Settings::get\-Printer\-Orientation(), Settings::get\-Printer\-Output\-File\-Name(), Settings::get\-Printer\-Output\-To\-File(), Settings::get\-Printer\-Page\-Order(), Settings::get\-Printer\-Page\-Size(), Settings::get\-Printer\-Paper\-Source(), Settings::get\-Printer\-Printer\-Name(), Settings::get\-Printer\-Print\-Program(), Settings::instance(), and settings.

\footnotesize\begin{verbatim}17                  : QPrinter(QPrinter::HighResolution)
18 {
19     settings = Settings::instance();
20     setPrinterName(settings->getPrinterPrinterName());
21     setOutputToFile(settings->getPrinterOutputToFile());
22     setOutputFileName(settings->getPrinterOutputFileName());
23     setPrintProgram(settings->getPrinterPrintProgram());
24     setOrientation(settings->getPrinterOrientation());
25     setPageSize(settings->getPrinterPageSize());
26     setPageOrder(settings->getPrinterPageOrder());
27     setColorMode(settings->getPrinterColorMode());
28     setPaperSource(settings->getPrinterPaperSource());
29 }
\end{verbatim}\normalsize 


\hypertarget{classPrinter_d1}{
\index{Printer@{Printer}!~Printer@{$\sim$Printer}}
\index{~Printer@{$\sim$Printer}!Printer@{Printer}}
\subsubsection[$\sim$Printer]{\setlength{\rightskip}{0pt plus 5cm}Printer::$\sim$\hyperlink{classPrinter}{Printer} ()\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{classPrinter_d1}


Definition at line 31 of file printer.cpp.

References Settings::set\-Printer\-Color\-Mode(), Settings::set\-Printer\-Orientation(), Settings::set\-Printer\-Output\-File\-Name(), Settings::set\-Printer\-Output\-To\-File(), Settings::set\-Printer\-Page\-Order(), Settings::set\-Printer\-Page\-Size(), Settings::set\-Printer\-Paper\-Source(), Settings::set\-Printer\-Printer\-Name(), Settings::set\-Printer\-Print\-Program(), and settings.

\footnotesize\begin{verbatim}32 {
33     settings->setPrinterPrinterName(printerName());
34     settings->setPrinterOutputToFile(outputToFile());
35     settings->setPrinterOutputFileName(outputFileName());
36     settings->setPrinterPrintProgram(printProgram());
37     settings->setPrinterOrientation(orientation());
38     settings->setPrinterPageSize(pageSize());
39     settings->setPrinterPageOrder(pageOrder());
40     settings->setPrinterColorMode(colorMode());
41     settings->setPrinterPaperSource(paperSource());
42 }
\end{verbatim}\normalsize 




\subsection{Member Function Documentation}
\hypertarget{classPrinter_a0}{
\index{Printer@{Printer}!destroy@{destroy}}
\index{destroy@{destroy}!Printer@{Printer}}
\subsubsection[destroy]{\setlength{\rightskip}{0pt plus 5cm}void Printer::destroy ()}}
\label{classPrinter_a0}


Definition at line 51 of file printer.cpp.

References printer.

Referenced by main().

\footnotesize\begin{verbatim}52 {
53     if(printer != 0)
54         delete printer;
55 }
\end{verbatim}\normalsize 


\hypertarget{classPrinter_e0}{
\index{Printer@{Printer}!instance@{instance}}
\index{instance@{instance}!Printer@{Printer}}
\subsubsection[instance]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{classPrinter}{Printer} $\ast$ Printer::instance ()\hspace{0.3cm}{\tt  \mbox{[}static\mbox{]}}}}
\label{classPrinter_e0}


Definition at line 44 of file printer.cpp.

References printer.

Referenced by Journal\-Stack::Journal\-Stack(), main(), and Report\-Stack::Report\-Stack().

\footnotesize\begin{verbatim}45 {
46     if(printer == 0)
47         printer = new Printer;
48     return printer;
49 }
\end{verbatim}\normalsize 


\hypertarget{classPrinter_a1}{
\index{Printer@{Printer}!printReport@{printReport}}
\index{printReport@{printReport}!Printer@{Printer}}
\subsubsection[printReport]{\setlength{\rightskip}{0pt plus 5cm}void Printer::print\-Report (const QString \& {\em header}, const QString \& {\em data})}}
\label{classPrinter_a1}


Definition at line 57 of file printer.cpp.

Referenced by Journal\-Stack::print\-Journal().

\footnotesize\begin{verbatim}58 {
59     if(setup(0))
60     {
61 
62         QPainter painter(this);
63 
64         QPaintDeviceMetrics metrics(this);
65         int headerGap = metrics.logicalDpiY() / 4;  // quarter inch
66 
67         QFont headerFont("Verdana", 8);
68         QFont dataFont("Verdana", 8);
69     
70         QSimpleRichText headerText(header, headerFont);
71     
72         headerText.setWidth(&painter, painter.window().width());
73 
74         int pageHeight = painter.window().height() - headerText.height() - headerGap;
75 
76         QSimpleRichText dataText(data, dataFont, "", 0, 0, pageHeight);
77         dataText.setWidth(&painter, painter.window().width());
78 
79         int numPages = (int)ceil((double)dataText.height() / pageHeight);
80 
81         int index;
82 
83         for(int i = 0; i < (int)numCopies(); ++i)
84         {
85             for(int j = 0; j < numPages; ++j)
86             {
87                 if(i > 0 || j > 0)
88                     newPage();
89 
90                 if(pageOrder() == QPrinter::LastPageFirst)
91                     index = numPages - j - 1;
92                 else
93                     index = j;
94 
95                 QRect headerRect(0, 0, headerText.width(), headerText.height());
96 
97                 QRect dataRect(0, (index * pageHeight), dataText.width(), pageHeight);
98             
99 
100                 headerText.draw(&painter, 0, 0, headerRect, QColorGroup());
101 
102                 painter.save();
103                 painter.translate(0, -dataRect.top() + headerText.height());
104                 dataText.draw(&painter, 0, 0, dataRect, QColorGroup());
105                 painter.restore();
106 
107                 painter.setFont(dataFont);
108                 painter.drawText(painter.window(), Qt::AlignHCenter | Qt::AlignBottom,
109                                  QString("Page " + QString::number(j + 1) + " of " + QString::number(numPages)));
110 
111             }
112         }
113     }
114 }
\end{verbatim}\normalsize 




\subsection{Member Data Documentation}
\hypertarget{classPrinter_v0}{
\index{Printer@{Printer}!printer@{printer}}
\index{printer@{printer}!Printer@{Printer}}
\subsubsection[printer]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{classPrinter}{Printer} $\ast$ \hyperlink{classPrinter_v0}{Printer::printer} = 0\hspace{0.3cm}{\tt  \mbox{[}static, private\mbox{]}}}}
\label{classPrinter_v0}


Definition at line 116 of file printer.cpp.

Referenced by destroy(), and instance().\hypertarget{classPrinter_r0}{
\index{Printer@{Printer}!settings@{settings}}
\index{settings@{settings}!Printer@{Printer}}
\subsubsection[settings]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{classSettings}{Settings}$\ast$ \hyperlink{classPrinter_r0}{Printer::settings}\hspace{0.3cm}{\tt  \mbox{[}private\mbox{]}}}}
\label{classPrinter_r0}


Definition at line 23 of file printer.h.

Referenced by Printer(), and $\sim$Printer().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
\hyperlink{printer_8h}{printer.h}\item 
\hyperlink{printer_8cpp}{printer.cpp}\end{CompactItemize}
