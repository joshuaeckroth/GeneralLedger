<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>General Ledger: ReportsGenerator class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>ReportsGenerator Class Reference</h1>Creates reports.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>&gt;</code>
<p>
<a href="classReportsGenerator-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a0">destroy</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a1">genGeneralDetailReport</a> (<a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> periodBegin, <a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> periodEnd, <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountBegin, <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountEnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a2">genGeneralTrialReport</a> (<a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> periodEnd, <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountBegin="", <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountEnd="")</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a3">genBalanceSheetReport</a> (<a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> periodEnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a4">genIncomeSvcReport</a> (<a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> periodEnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a5">genIncomeRetailReport</a> (<a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> periodEnd)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a6">genChartOfAccountsReport</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>bool&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a7">printJournalEntryReport</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a8">getReportHeader</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a9">getReportHTML</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> &amp;&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a10">getReportCSV</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a11">setDocName</a> (const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> newDocName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#a12">getDocName</a> () const </td></tr>

<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classReportsGenerator.html">ReportsGenerator</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#e0">instance</a> ()</td></tr>

<tr><td colspan=2><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#d0">ReportsGenerator</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#d1">numberToString</a> (int number) const </td></tr>

<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classClient.html">Client</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r0">client</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classAccountsData.html">AccountsData</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r1">accountsData</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classJournalData.html">JournalData</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r2">journalData</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classReportsEditor.html">ReportsEditor</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r3">reportsEditor</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r4">docName</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r5">header</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r6">html</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#r7">csv</a></td></tr>

<tr><td colspan=2><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classReportsGenerator.html">ReportsGenerator</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classReportsGenerator.html#v0">thisInstance</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Creates reports. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00032">32</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d0" doxytag="ReportsGenerator::ReportsGenerator" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> ReportsGenerator::ReportsGenerator </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00802">802</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>, <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>, <a class="el" href="reportsEditor_8cpp-source.html#l00034">ReportsEditor::instance()</a>, <a class="el" href="journalData_8cpp-source.html#l00037">JournalData::instance()</a>, <a class="el" href="accountsData_8cpp-source.html#l00035">AccountsData::instance()</a>, and <a class="el" href="client_8cpp-source.html#l00034">Client::instance()</a>.
<p>
<div class="fragment"><pre>00803 {
00804     <a class="code" href="classReportsGenerator.html#r0">client</a> = <a class="code" href="classClient.html#e0">Client::instance</a>();
00805     <a class="code" href="classReportsGenerator.html#r1">accountsData</a> = <a class="code" href="classAccountsData.html#e0">AccountsData::instance</a>();
00806     <a class="code" href="classReportsGenerator.html#r2">journalData</a> = <a class="code" href="classJournalData.html#e0">JournalData::instance</a>();
00807     <a class="code" href="classReportsGenerator.html#r3">reportsEditor</a> = <a class="code" href="classReportsEditor.html#e0">ReportsEditor::instance</a>();
00808 
00809     <a class="code" href="classReportsGenerator.html#r6">html</a> = QString::null;
00810     <a class="code" href="classReportsGenerator.html#r7">csv</a> = QString::null;
00811 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e0" doxytag="ReportsGenerator::instance" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classReportsGenerator.html">ReportsGenerator</a> * ReportsGenerator::instance </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the single instance of this class. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00038">38</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8cpp-source.html#l00036">thisInstance</a>.
<p>
Referenced by <a class="el" href="journalTab_8cpp-source.html#l00201">JournalTab::printJournal()</a>, and <a class="el" href="reportsTab_8cpp-source.html#l00055">ReportsTab::ReportsTab()</a>.
<p>
<div class="fragment"><pre>00039 {
00040     <span class="keywordflow">if</span>(<a class="code" href="classReportsGenerator.html#v0">thisInstance</a> == 0)
00041         <a class="code" href="classReportsGenerator.html#v0">thisInstance</a> = <span class="keyword">new</span> <a class="code" href="classReportsGenerator.html">ReportsGenerator</a>;
00042     <span class="keywordflow">return</span> <a class="code" href="classReportsGenerator.html#v0">thisInstance</a>;
00043 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="ReportsGenerator::destroy" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::destroy </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destroys the single instance. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00045">45</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8cpp-source.html#l00036">thisInstance</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00908">ReportsTab::~ReportsTab()</a>.
<p>
<div class="fragment"><pre>00046 {
00047     <span class="keywordflow">if</span>(<a class="code" href="classReportsGenerator.html#v0">thisInstance</a> != 0)
00048         <span class="keyword">delete</span> <a class="code" href="classReportsGenerator.html#v0">thisInstance</a>;
00049 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="ReportsGenerator::genGeneralDetailReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::genGeneralDetailReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>periodBegin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>periodEnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>accountBegin</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>accountEnd</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate General Ledger Detail report. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00051">51</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>, <a class="el" href="main_8cpp-source.html#l00034">formatCurrency()</a>, <a class="el" href="accountsData_8cpp-source.html#l00111">AccountsData::getAccounts()</a>, <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>, <a class="el" href="journalData_8cpp-source.html#l00168">JournalData::getJournalRecords()</a>, <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00791">setDocName()</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00643">ReportsTab::generalDetailReport()</a>.
<p>
<div class="fragment"><pre>00054 {
00055     <a class="code" href="classReportsGenerator.html#a11">setDocName</a>(<span class="stringliteral">"General Ledger Detail"</span>);
00056     <a class="code" href="classReportsGenerator.html#r7">csv</a> = <span class="stringliteral">"\"Account ID\",\"Account Description\",\"Date\",\"Reference\","</span>
00057           <span class="stringliteral">"\"Description\",\"Debit Amt\",\"Credit Amt\",\"Balance\"\n"</span>;
00058     <a class="code" href="classReportsGenerator.html#r5">header</a> = <span class="stringliteral">"&lt;html&gt;&lt;body&gt;&lt;center&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00059          <span class="stringliteral">" - General Ledger Detail&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00060     <a class="code" href="classReportsGenerator.html#r6">html</a> = <span class="stringliteral">"&lt;html&gt;&lt;head&gt;&lt;title&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00061        <span class="stringliteral">"&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n"</span>
00062            <span class="stringliteral">"&lt;center&gt;&lt;h1&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() + <span class="stringliteral">"&lt;/h1&gt;&lt;/center&gt;\n"</span>
00063            <span class="stringliteral">"&lt;center&gt;&lt;h2&gt;General Ledger Detail&lt;/h2&gt;&lt;/center&gt;\n"</span>
00064            <span class="stringliteral">"&lt;center&gt;&lt;h3&gt;For the Period From "</span> +
00065        periodBegin.toString(<span class="stringliteral">"MMM d, yyyy"</span>) +
00066            <span class="stringliteral">" to "</span> + periodEnd.toString(<span class="stringliteral">"MMM d, yyyy"</span>) + <span class="stringliteral">"&lt;/h3&gt;&lt;/center&gt;\n"</span>;
00067     <span class="keywordflow">if</span>(accountBegin == <span class="stringliteral">""</span> &amp;&amp; accountEnd == <span class="stringliteral">""</span>)
00068     {
00069         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;center&gt;&lt;h4&gt;All Accounts&lt;/h4&gt;&lt;/center&gt;\n"</span>;
00070     }
00071     <span class="keywordflow">else</span>
00072     {
00073         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;center&gt;&lt;h4&gt;Account Range: "</span> + accountBegin +
00074                 <span class="stringliteral">" to "</span> + accountEnd + <span class="stringliteral">"&lt;/h4&gt;&lt;/center&gt;\n"</span>;
00075     }
00076 
00077     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;table width=\"100%\"&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;\n"</span>
00078             <span class="stringliteral">"&lt;td width=\"19%\"&gt;&lt;b&gt;Account ID&lt;br&gt;Account Description&lt;/b&gt;&lt;/td&gt;\n"</span>
00079             <span class="stringliteral">"&lt;td width=\"10%\"&gt;&lt;b&gt;Date&lt;/b&gt;&lt;/td&gt;\n"</span>
00080             <span class="stringliteral">"&lt;td width=\"10%\"&gt;&lt;b&gt;Reference&lt;/b&gt;&lt;/td&gt;\n"</span>
00081             <span class="stringliteral">"&lt;td width=\"31%\"&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/td&gt;\n"</span>
00082             <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;Debit Amt&lt;/b&gt;&lt;/td&gt;\n"</span>
00083             <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;Credit Amt&lt;/b&gt;&lt;/td&gt;\n"</span>
00084             <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;Balance&lt;/b&gt;&lt;/td&gt;\n"</span>
00085             <span class="stringliteral">"&lt;/tr&gt;\n"</span>;
00086 
00087     <span class="comment">// Get all the accounts we need, sorted, with REAccount added</span>
00088     vector&lt;AccountsData::Account*&gt; accounts = <a class="code" href="classReportsGenerator.html#r1">accountsData</a>-&gt;<a class="code" href="classAccountsData.html#a5">getAccounts</a>(
00089                     accountBegin, accountEnd, <span class="keyword">true</span>, <span class="keyword">true</span>);
00090 
00091     Q_INT64 beginningBalance;
00092     Q_INT64 debitBalance;
00093     Q_INT64 creditBalance;
00094 
00095     <span class="keywordtype">bool</span> accountDisplayed;
00096 
00097     <span class="comment">// Prepare the journal records container</span>
00098     vector&lt;JournalData::JournalRecord*&gt; journalRecords;
00099 
00100     <span class="comment">// Look at every account</span>
00101     <span class="keywordflow">for</span>(vector&lt;AccountsData::Account*&gt;::const_iterator accountIt =
00102     accounts.begin(); accountIt != accounts.end(); ++accountIt)
00103     {
00104         accountDisplayed = <span class="keyword">false</span>;
00105 
00106         beginningBalance = 0;
00107         debitBalance = 0;
00108         creditBalance = 0;
00109 
00110         <span class="comment">// Get the journal entries prior to our periodBegin date</span>
00111         <span class="comment">// to compute the Beginning Balance column</span>
00112         journalRecords = <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a6">getJournalRecords</a>(
00113             (*accountIt)-&gt;id, (*accountIt)-&gt;id,
00114             <a class="codeRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>(), periodBegin.addDays(-1));
00115 
00116         <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator journalIt =
00117         journalRecords.begin(); journalIt != journalRecords.end();
00118             ++journalIt)
00119         {
00120             beginningBalance += (*journalIt)-&gt;amount;
00121         }
00122 
00123         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt;"</span> + (*accountIt)-&gt;id + <span class="stringliteral">"&lt;/td&gt;"</span>
00124                 <span class="stringliteral">"&lt;td width=\"10%\"&gt;"</span> + periodBegin.toString(<span class="stringliteral">"MM/dd/yyyy"</span>) + <span class="stringliteral">"&lt;/td&gt;"</span>
00125                 <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>
00126                 <span class="stringliteral">"&lt;td width=\"31%\"&gt;Beginning Balance&lt;/td&gt;"</span>
00127                 <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>
00128                 <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00129 
00130         <span class="keywordflow">if</span>(beginningBalance == 0)
00131             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00132         <span class="keywordflow">else</span>
00133             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00134                     <a class="code" href="main_8h.html#a0">formatCurrency</a>(beginningBalance) + <span class="stringliteral">"&lt;/td&gt;"</span>;
00135 
00136         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/tr&gt;\n"</span>;
00137 
00138         <a class="code" href="classReportsGenerator.html#r7">csv</a> += (*accountIt)-&gt;id + <span class="stringliteral">",\""</span> + (*accountIt)-&gt;desc + <span class="stringliteral">"\","</span> +
00139                periodBegin.toString(Qt::ISODate) + <span class="stringliteral">",,\"Beginning Balance\",,,"</span> +
00140                <a class="code" href="main_8h.html#a0">formatCurrency</a>(beginningBalance, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00141 
00142         <span class="comment">// Get the journal records for this account, with max and min dates,</span>
00143         <span class="comment">// sorted by date</span>
00144         journalRecords = <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a6">getJournalRecords</a>(
00145                         (*accountIt)-&gt;id, (*accountIt)-&gt;id,
00146                         periodBegin, periodEnd, JournalData::SortDate);
00147 
00148         <span class="comment">// Look at every journal record</span>
00149         <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator journalIt =
00150             journalRecords.begin(); journalIt != journalRecords.end();
00151             ++journalIt)
00152         {
00153             <span class="keywordflow">if</span>((*journalIt)-&gt;amount &lt; 0)
00154                 creditBalance += abs((*journalIt)-&gt;amount);
00155             <span class="keywordflow">else</span>
00156                 debitBalance += (*journalIt)-&gt;amount;
00157 
00158 
00159             <span class="keywordflow">if</span>(!accountDisplayed)
00160             {
00161                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt;"</span> + (*accountIt)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>;
00162                 accountDisplayed = <span class="keyword">true</span>;
00163             }
00164             <span class="keywordflow">else</span>
00165             {
00166                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt; &lt;/td&gt;"</span>;
00167             }
00168 
00169             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt;"</span> +
00170                     ((*journalIt)-&gt;date).toString(<span class="stringliteral">"MM/dd/yyyy"</span>) + <span class="stringliteral">"&lt;/td&gt;"</span>
00171                     <span class="stringliteral">"&lt;td width=\"10%\"&gt;"</span> + (*journalIt)-&gt;reference + <span class="stringliteral">"&lt;/td&gt;"</span>
00172                     <span class="stringliteral">"&lt;td width=\"31%\"&gt;"</span> + (*journalIt)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>;
00173 
00174             <a class="code" href="classReportsGenerator.html#r7">csv</a> += (*accountIt)-&gt;id + <span class="stringliteral">",\""</span> + (*accountIt)-&gt;desc + <span class="stringliteral">"\","</span> +
00175                    ((*journalIt)-&gt;date).toString(Qt::ISODate) + <span class="stringliteral">","</span> +
00176                    <span class="stringliteral">"\""</span> + (*journalIt)-&gt;reference + <span class="stringliteral">"\","</span> +
00177                    <span class="stringliteral">"\""</span> + (*journalIt)-&gt;desc + <span class="stringliteral">"\","</span>;
00178 
00179             <span class="keywordflow">if</span>((*journalIt)-&gt;amount &gt; 0)
00180             {
00181                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00182                         <a class="code" href="main_8h.html#a0">formatCurrency</a>((*journalIt)-&gt;amount) +
00183                         <span class="stringliteral">"&lt;/td&gt;&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00184 
00185                 <a class="code" href="classReportsGenerator.html#r7">csv</a> += <a class="code" href="main_8h.html#a0">formatCurrency</a>((*journalIt)-&gt;amount, <span class="keyword">false</span>);
00186             }
00187             <span class="keywordflow">else</span>
00188             {
00189                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;&lt;td align=\"right\" "</span>
00190                         <span class="stringliteral">"width=\"10%\"&gt;"</span> +
00191                         <a class="code" href="main_8h.html#a0">formatCurrency</a>(abs((*journalIt)-&gt;amount)) + <span class="stringliteral">"&lt;/td&gt;"</span>;
00192 
00193                 <a class="code" href="classReportsGenerator.html#r7">csv</a> += <a class="code" href="main_8h.html#a0">formatCurrency</a>((*journalIt)-&gt;amount, <span class="keyword">false</span>);
00194             }
00195 
00196             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">",\n"</span>;
00197         }
00198 
00199         <span class="keywordflow">if</span>(debitBalance != 0 || creditBalance != 0)
00200         {
00201             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/tr&gt;\n"</span>
00202                     <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt; &lt;/td&gt;"</span>
00203                     <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>
00204                     <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>
00205                     <span class="stringliteral">"&lt;td width=\"31%\"&gt;Current Period Change&lt;/td&gt;"</span>;
00206             
00207             <span class="keywordflow">if</span>(debitBalance == 0)
00208                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00209             <span class="keywordflow">else</span>
00210                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00211                         <a class="code" href="main_8h.html#a0">formatCurrency</a>(debitBalance) + <span class="stringliteral">"&lt;/td&gt;"</span>;
00212 
00213             <span class="keywordflow">if</span>(creditBalance == 0)
00214                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00215             <span class="keywordflow">else</span>
00216                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00217                         <a class="code" href="main_8h.html#a0">formatCurrency</a>(creditBalance) + <span class="stringliteral">"&lt;/td&gt;"</span>;
00218 
00219             <span class="keywordflow">if</span>(creditBalance == 0 &amp;&amp; debitBalance == 0)
00220             {
00221                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00222             }
00223             <span class="keywordflow">else</span>
00224             {
00225                 <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00226                         <a class="code" href="main_8h.html#a0">formatCurrency</a>(debitBalance - creditBalance) + <span class="stringliteral">"&lt;/td&gt;"</span>;
00227             }
00228 
00229             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">",,,,\"Current Period Change\","</span> +
00230                    <a class="code" href="main_8h.html#a0">formatCurrency</a>(debitBalance, <span class="keyword">false</span>) + <span class="stringliteral">","</span> +
00231                    <a class="code" href="main_8h.html#a0">formatCurrency</a>(creditBalance, <span class="keyword">false</span>) + <span class="stringliteral">","</span> +
00232                    <a class="code" href="main_8h.html#a0">formatCurrency</a>(debitBalance - creditBalance, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00233         }
00234 
00235         <span class="keywordflow">if</span>(!accountDisplayed)
00236             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt;"</span> + (*accountIt)-&gt;desc +
00237                     <span class="stringliteral">"&lt;/td&gt;&lt;/tr&gt;\n"</span>;
00238 
00239         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt; &lt;/td&gt;"</span>
00240                 <span class="stringliteral">"&lt;td width=\"10%\"&gt;&lt;b&gt;"</span> + periodEnd.toString(<span class="stringliteral">"MM/dd/yyyy"</span>) +
00241                 <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;"</span>
00242                 <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>
00243                 <span class="stringliteral">"&lt;td width=\"31%\"&gt;&lt;b&gt;Ending Balance&lt;/b&gt;&lt;/td&gt;"</span>
00244                 <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>
00245                 <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00246 
00247         <span class="keywordflow">if</span>(beginningBalance == 0 &amp;&amp; debitBalance == 0 &amp;&amp; creditBalance == 0)
00248         {
00249             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00250         }
00251         <span class="keywordflow">else</span>
00252         {
00253             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;"</span> +
00254                     <a class="code" href="main_8h.html#a0">formatCurrency</a>(beginningBalance + debitBalance
00255                                     - creditBalance) + <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;"</span>;
00256         }
00257 
00258         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/tr&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>;
00259 
00260         <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">",,"</span> + periodEnd.toString(Qt::ISODate) +
00261                <span class="stringliteral">",,\"Ending Balance\",,,"</span> +
00262                <a class="code" href="main_8h.html#a0">formatCurrency</a>(beginningBalance + debitBalance 
00263                                - creditBalance, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00264     }
00265 
00266     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00267 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ReportsGenerator::genGeneralTrialReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::genGeneralTrialReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>periodEnd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>accountBegin</em> = "", </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>accountEnd</em> = ""</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate General Ledger Trial Balance report. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00269">269</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>, <a class="el" href="main_8cpp-source.html#l00034">formatCurrency()</a>, <a class="el" href="accountsData_8cpp-source.html#l00111">AccountsData::getAccounts()</a>, <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>, <a class="el" href="journalData_8cpp-source.html#l00168">JournalData::getJournalRecords()</a>, <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00791">setDocName()</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00668">ReportsTab::generalTrialReport()</a>.
<p>
<div class="fragment"><pre>00271 {
00272     <a class="code" href="classReportsGenerator.html#a11">setDocName</a>(<span class="stringliteral">"General Ledger Trial Balance"</span>);
00273     <a class="code" href="classReportsGenerator.html#r7">csv</a> = <span class="stringliteral">"\"Account Id\",\"Account Description\",\"Debit Amt\","</span>
00274           <span class="stringliteral">"\"Credit Amt\"\n"</span>;
00275     <a class="code" href="classReportsGenerator.html#r5">header</a> = <span class="stringliteral">"&lt;html&gt;&lt;body&gt;&lt;center&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00276          <span class="stringliteral">" - General Ledger Trial Balance&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00277     <a class="code" href="classReportsGenerator.html#r6">html</a> = <span class="stringliteral">"&lt;html&gt;&lt;head&gt;&lt;title&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00278            <span class="stringliteral">"&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n"</span>
00279            <span class="stringliteral">"&lt;center&gt;&lt;h1&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() + <span class="stringliteral">"&lt;/h1&gt;&lt;/center&gt;\n"</span>
00280            <span class="stringliteral">"&lt;center&gt;&lt;h2&gt;General Ledger Trial Balance&lt;/h2&gt;&lt;/center&gt;\n"</span>
00281            <span class="stringliteral">"&lt;center&gt;&lt;h3&gt;As of "</span> + periodEnd.toString(<span class="stringliteral">"MMM d, yyyy"</span>) +
00282            <span class="stringliteral">"&lt;/h3&gt;&lt;/center&gt;\n"</span>;
00283     <span class="keywordflow">if</span>(accountBegin == <span class="stringliteral">""</span> || accountEnd == <span class="stringliteral">""</span>)
00284     {
00285         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;center&gt;&lt;h4&gt;All Accounts&lt;/h4&gt;&lt;/center&gt;\n"</span>;
00286     }
00287     <span class="keywordflow">else</span>
00288     {
00289         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;center&gt;&lt;h4&gt;Account Range: "</span> + accountBegin + <span class="stringliteral">" to "</span>
00290                 + accountEnd +
00291                 <span class="stringliteral">"&lt;/h4&gt;&lt;/center&gt;\n"</span>;
00292     }
00293     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;table width=\"100%\"&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td width=\"19%\"&gt;"</span>
00294             <span class="stringliteral">"&lt;b&gt;Account ID&lt;/b&gt;&lt;/td&gt;\n"</span>
00295             <span class="stringliteral">"&lt;td width=\"31%\"&gt;&lt;b&gt;Account Description&lt;/b&gt;&lt;/td&gt;\n"</span>
00296             <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;Debit Amt&lt;/b&gt;&lt;/td&gt;\n"</span>
00297             <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;Credit Amt&lt;/b&gt;&lt;/td&gt;\n"</span>
00298             <span class="stringliteral">"&lt;td width=\"30%\"&gt; &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n"</span>
00299             <span class="stringliteral">"&lt;table width=\"100%\"&gt;\n"</span>;
00300 
00301     <span class="comment">// Get all the accounts we need, sorted, with REAccount added</span>
00302     vector&lt;AccountsData::Account*&gt; accounts = <a class="code" href="classReportsGenerator.html#r1">accountsData</a>-&gt;<a class="code" href="classAccountsData.html#a5">getAccounts</a>(
00303                     accountBegin, accountEnd, <span class="keyword">true</span>, <span class="keyword">true</span>);
00304 
00305     <span class="comment">// Prepare our running totals</span>
00306     Q_INT64 accountBalance;
00307     Q_INT64 totalDebit = 0;
00308     Q_INT64 totalCredit = 0;
00309 
00310     <span class="comment">// Prepare the journal records container</span>
00311     vector&lt;JournalData::JournalRecord*&gt; journalRecords;
00312 
00313     <span class="comment">// Look at every account</span>
00314     <span class="keywordflow">for</span>(vector&lt;AccountsData::Account*&gt;::const_iterator accountIt =
00315         accounts.begin(); accountIt != accounts.end(); ++accountIt)
00316     {
00317         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt;"</span> + (*accountIt)-&gt;id + <span class="stringliteral">"&lt;/td&gt;"</span>
00318                 <span class="stringliteral">"&lt;td width=\"31%\"&gt;"</span> + (*accountIt)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>;
00319 
00320         <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\""</span> + (*accountIt)-&gt;id + <span class="stringliteral">"\","</span> +
00321                <span class="stringliteral">"\""</span> + (*accountIt)-&gt;desc + <span class="stringliteral">"\","</span>;
00322 
00323         <span class="comment">// Initialize our account balance</span>
00324         accountBalance = 0;
00325 
00326         <span class="comment">// Get the journal records for this account, with a max date</span>
00327         journalRecords = <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a6">getJournalRecords</a>(
00328             (*accountIt)-&gt;id, (*accountIt)-&gt;id, <a class="codeRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>(), periodEnd);
00329 
00330         <span class="comment">// Look at every journal record</span>
00331         <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator journalIt =
00332             journalRecords.begin(); journalIt != journalRecords.end();
00333             ++journalIt)
00334         {
00335             <span class="comment">// Update our account balance</span>
00336             accountBalance += (*journalIt)-&gt;amount;
00337         }
00338 
00339         <span class="comment">// Update our total balances</span>
00340         <span class="keywordflow">if</span>(accountBalance &gt; 0)
00341             totalDebit += accountBalance;
00342         <span class="keywordflow">else</span>
00343             totalCredit += accountBalance;
00344 
00345         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span>;
00346         <span class="keywordflow">if</span>(accountBalance &gt; 0)
00347         {
00348             <a class="code" href="classReportsGenerator.html#r6">html</a> += <a class="code" href="main_8h.html#a0">formatCurrency</a>(abs(accountBalance));
00349             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <a class="code" href="main_8h.html#a0">formatCurrency</a>(abs(accountBalance), <span class="keyword">false</span>) + <span class="stringliteral">","</span>;
00350         }
00351         <span class="keywordflow">else</span>
00352         {
00353             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"0,"</span>;
00354         }
00355         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/td&gt;&lt;td align=\"right\" width=\"10%\"&gt;"</span>;
00356         <span class="keywordflow">if</span>(accountBalance &lt; 0)
00357         {
00358             <a class="code" href="classReportsGenerator.html#r6">html</a> += <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalance);
00359             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalance, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00360         }
00361         <span class="keywordflow">else</span>
00362         {
00363             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"0\n"</span>;
00364         }
00365         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/td&gt;&lt;td width=\"30%\"&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>;
00366     }
00367 
00368     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>
00369             <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"19%\"&gt; &lt;/td&gt;&lt;td width=\"31%\"&gt;&lt;b&gt;Total&lt;/b&gt;&lt;/td&gt;\n"</span>
00370             <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;"</span> +
00371             <a class="code" href="main_8h.html#a0">formatCurrency</a>(abs(totalDebit)) +
00372             <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;td align=\"right\" width=\"10%\"&gt;&lt;b&gt;"</span> +
00373             <a class="code" href="main_8h.html#a0">formatCurrency</a>(totalCredit) +
00374             <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;td width=\"30%\"&gt; &lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n"</span>;
00375 
00376     <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">",\"Total\","</span> + <a class="code" href="main_8h.html#a0">formatCurrency</a>(abs(totalDebit), <span class="keyword">false</span>) + <span class="stringliteral">","</span> +
00377            <a class="code" href="main_8h.html#a0">formatCurrency</a>(totalCredit, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00378 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ReportsGenerator::genBalanceSheetReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::genBalanceSheetReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>periodEnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate Balance Sheet report. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00380">380</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>, <a class="el" href="main_8cpp-source.html#l00034">formatCurrency()</a>, <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>, <a class="el" href="reportsEditor_8cpp-source.html#l00189">ReportsEditor::getEntities()</a>, <a class="el" href="journalData_8cpp-source.html#l00168">JournalData::getJournalRecords()</a>, <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00791">setDocName()</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00692">ReportsTab::balanceReport()</a>.
<p>
<div class="fragment"><pre>00381 {
00382     <a class="code" href="classReportsGenerator.html#a11">setDocName</a>(<span class="stringliteral">"Balance Sheet"</span>);
00383     <a class="code" href="classReportsGenerator.html#r7">csv</a> = <span class="stringliteral">"\"Account Description\",\"Balance\"\n"</span>;
00384     <a class="code" href="classReportsGenerator.html#r5">header</a> = <span class="stringliteral">"&lt;html&gt;&lt;body&gt;&lt;center&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00385          <span class="stringliteral">" - Balance Sheet&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00386     <a class="code" href="classReportsGenerator.html#r6">html</a> = <span class="stringliteral">"&lt;html&gt;&lt;head&gt;&lt;title&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00387            <span class="stringliteral">" - Balance Sheet&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n"</span>
00388            <span class="stringliteral">"&lt;center&gt;&lt;h1&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() + <span class="stringliteral">"&lt;/h1&gt;&lt;/center&gt;\n"</span>
00389            <span class="stringliteral">"&lt;center&gt;&lt;h2&gt;Balance Sheet&lt;/h2&gt;&lt;/center&gt;\n"</span>
00390            <span class="stringliteral">"&lt;center&gt;&lt;h3&gt;"</span> + periodEnd.toString(<span class="stringliteral">"MMM d, yyyy"</span>) +
00391            <span class="stringliteral">"&lt;/h3&gt;&lt;/center&gt;\n"</span>
00392            <span class="stringliteral">"&lt;center&gt;&lt;table width=\"60%\"&gt;&lt;tr&gt;"</span>
00393            <span class="stringliteral">"&lt;td width=\"70%\"&gt;&lt;b&gt;Account Description&lt;/b&gt;&lt;/td&gt;"</span>
00394            <span class="stringliteral">"&lt;td align=\"right\" width=\"30%\"&gt;&lt;b&gt;Balance&lt;/b&gt;&lt;/td&gt;"</span>
00395            <span class="stringliteral">"&lt;/tr&gt;&lt;/table&gt;&lt;/center&gt;\n"</span>
00396            <span class="stringliteral">"&lt;center&gt;&lt;table width=\"60%\"&gt;\n"</span>;
00397 
00398     vector&lt;ReportsEditor::Section&gt; sections;
00399     sections.push_back(ReportsEditor::Assets);
00400     sections.push_back(ReportsEditor::Liabilities);
00401     sections.push_back(ReportsEditor::Equities);
00402 
00403     Q_INT64 accountBalance;
00404     Q_INT64 sectionBalance;
00405 
00406     <span class="keywordflow">for</span>(vector&lt;ReportsEditor::Section&gt;::const_iterator sectionIt =
00407         sections.begin(); sectionIt != sections.end(); ++sectionIt)
00408     {
00409     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td colspan=\"2\"&gt;&lt;center&gt;&lt;b&gt;"</span>;
00410     <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w3">ReportsEditor::Assets</a>)
00411     {
00412         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Assets"</span>;
00413     }
00414     <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w4">ReportsEditor::Liabilities</a>)
00415     {
00416         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Liabilities"</span>;
00417     }
00418     <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w5">ReportsEditor::Equities</a>)
00419     {
00420         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Equities"</span>;
00421     }
00422     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;\n"</span>;
00423     
00424         sectionBalance = 0;
00425 
00426         vector&lt;ReportsEditor::Entity*&gt; entities = 
00427             <a class="code" href="classReportsGenerator.html#r3">reportsEditor</a>-&gt;<a class="code" href="classReportsEditor.html#a7">getEntities</a>(ReportsEditor::BalanceSheet, *sectionIt);
00428 
00429         <span class="keywordflow">for</span>(vector&lt;ReportsEditor::Entity*&gt;::const_iterator entityIt =
00430             entities.begin(); entityIt != entities.end(); ++entityIt)
00431         {
00432             accountBalance = 0;
00433 
00434             vector&lt;JournalData::JournalRecord*&gt; records =
00435                 <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a6">getJournalRecords</a>((*entityIt)-&gt;accountBegin,
00436                     (*entityIt)-&gt;accountEnd, <a class="codeRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>(), periodEnd);
00437 
00438             <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator recordIt =
00439                 records.begin(); recordIt != records.end(); ++recordIt)
00440             {
00441                 accountBalance += (*recordIt)-&gt;amount;
00442             }
00443 
00444             sectionBalance += accountBalance;
00445 
00446             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"70%\"&gt;"</span> + (*entityIt)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>
00447                     <span class="stringliteral">"&lt;td align=\"right\" width=\"30%\"&gt;"</span> +
00448                     <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalance) + <span class="stringliteral">"&lt;/td&gt;&lt;/tr&gt;\n"</span>;
00449 
00450             <a class="code" href="classReportsGenerator.html#r7">csv</a> += (*entityIt)-&gt;desc + <span class="stringliteral">","</span> +
00451                    <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalance, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00452         }
00453 
00454         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>
00455                 <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"70%\"&gt;&lt;b&gt;"</span>;
00456         <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w3">ReportsEditor::Assets</a>)
00457         {
00458             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Total Assets"</span>;
00459             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\"Total Assets\""</span>;
00460         }
00461         <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w4">ReportsEditor::Liabilities</a>)
00462         {
00463             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Total Liabilities"</span>;
00464             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\"Total Liabilities\""</span>;
00465         }
00466         <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w5">ReportsEditor::Equities</a>)
00467         {
00468             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Total Equities"</span>;
00469             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\"Total Equities\""</span>;
00470         }
00471 
00472         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;td align=\"right\" width=\"30%\"&gt;&lt;b&gt;"</span> + 
00473                 <a class="code" href="main_8h.html#a0">formatCurrency</a>(sectionBalance) + <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;"</span>
00474                 <span class="stringliteral">"&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>;
00475 
00476         <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">","</span> + <a class="code" href="main_8h.html#a0">formatCurrency</a>(sectionBalance, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00477     } 
00478 
00479     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n"</span>;
00480 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ReportsGenerator::genIncomeSvcReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::genIncomeSvcReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>periodEnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate Income Statement Service report. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00482">482</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>, <a class="el" href="main_8cpp-source.html#l00034">formatCurrency()</a>, <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>, <a class="el" href="reportsEditor_8cpp-source.html#l00189">ReportsEditor::getEntities()</a>, <a class="el" href="journalData_8cpp-source.html#l00168">JournalData::getJournalRecords()</a>, <a class="el" href="client_8cpp-source.html#l00338">Client::getPeriodDate()</a>, <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00740">numberToString()</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00707">ReportsTab::incomeSvcReport()</a>.
<p>
<div class="fragment"><pre>00483 {
00484     <a class="codeRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> rangeBegin = <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(1, <span class="keyword">false</span>);
00485     <a class="codeRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a> monthBegin = periodEnd.addMonths(-1).addDays(1);
00486 
00487     <span class="keywordtype">int</span> monthRangeInt = periodEnd.month() - rangeBegin.month();
00488     <span class="keywordflow">if</span>(monthRangeInt &lt; 0)
00489         monthRangeInt += 12;
00490     ++monthRangeInt;
00491 
00492     <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> monthRange = <a class="code" href="classReportsGenerator.html#d1">numberToString</a>(monthRangeInt);
00493 
00494     <a class="code" href="classReportsGenerator.html#r7">csv</a> = <span class="stringliteral">"\"Account Description\",\"One Month Balance\","</span>;
00495     <span class="keywordflow">if</span>(monthRangeInt == 1)
00496         <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\"One Month Balance\"\n"</span>;
00497     <span class="keywordflow">else</span>
00498         <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\""</span> + monthRange + <span class="stringliteral">" Month's Balance\"\n"</span>;
00499 
00500     <a class="code" href="classReportsGenerator.html#r6">html</a> = <span class="stringliteral">"&lt;html&gt;&lt;head&gt;&lt;title&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00501            <span class="stringliteral">" - Income Statement Service Company&lt;/title&gt;&lt;/head&gt;&lt;/body&gt;\n"</span>
00502            <span class="stringliteral">"&lt;center&gt;&lt;h1&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() + <span class="stringliteral">"&lt;/center&gt;&lt;/h1&gt;\n"</span>
00503            <span class="stringliteral">"&lt;center&gt;&lt;h2&gt;Income Statement Service Company&lt;/h2&gt;&lt;/center&gt;\n"</span>
00504            <span class="stringliteral">"&lt;center&gt;&lt;h3&gt;For One Month and "</span>;
00505     <span class="keywordflow">if</span>(monthRangeInt == 1)
00506         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"One Month"</span>;
00507     <span class="keywordflow">else</span>
00508         <a class="code" href="classReportsGenerator.html#r6">html</a> += monthRange + <span class="stringliteral">" Months"</span>;
00509 
00510     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">" Ended "</span> + periodEnd.toString(<span class="stringliteral">"MMM d, yyyy"</span>) + <span class="stringliteral">"&lt;/h3&gt;\n"</span>
00511             <span class="stringliteral">"&lt;table width=\"80%\"&gt;&lt;tr&gt;"</span>
00512             <span class="stringliteral">"&lt;td width=\"50%\"&gt;&lt;b&gt;Account Description&lt;/b&gt;&lt;/td&gt;"</span>
00513             <span class="stringliteral">"&lt;td align=\"right\" width=\"25%\"&gt;&lt;b&gt;One Month&lt;/b&gt;&lt;/td&gt;"</span>
00514             <span class="stringliteral">"&lt;td align=\"right\" width=\"25%\"&gt;&lt;b&gt;"</span>;
00515     <span class="keywordflow">if</span>(monthRangeInt == 1)
00516         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"One Month"</span>;
00517     <span class="keywordflow">else</span>
00518         <a class="code" href="classReportsGenerator.html#r6">html</a> += monthRange + <span class="stringliteral">" Months"</span>;
00519 
00520     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/center&gt;"</span>
00521             <span class="stringliteral">"&lt;center&gt;&lt;table width=\"80%\"&gt;"</span>;
00522 
00523     vector&lt;ReportsEditor::Section&gt; sections;
00524     sections.push_back(ReportsEditor::Income);
00525     sections.push_back(ReportsEditor::Expenses);
00526 
00527     Q_INT64 sectionBalanceRange;
00528     Q_INT64 sectionBalanceMonth;
00529     Q_INT64 accountBalanceRange;
00530     Q_INT64 accountBalanceMonth;
00531 
00532     <span class="keywordflow">for</span>(vector&lt;ReportsEditor::Section&gt;::const_iterator sectionIt =
00533         sections.begin(); sectionIt != sections.end(); ++sectionIt)
00534     {
00535         sectionBalanceRange = 0;
00536         sectionBalanceMonth = 0;
00537 
00538         vector&lt;ReportsEditor::Entity*&gt; entities =
00539             <a class="code" href="classReportsGenerator.html#r3">reportsEditor</a>-&gt;<a class="code" href="classReportsEditor.html#a7">getEntities</a>(ReportsEditor::IncomeSvc, *sectionIt);
00540 
00541         <span class="keywordflow">for</span>(vector&lt;ReportsEditor::Entity*&gt;::const_iterator entityIt =
00542             entities.begin(); entityIt != entities.end(); ++entityIt)
00543         {
00544             accountBalanceRange = 0;
00545             accountBalanceMonth = 0;
00546 
00547             vector&lt;JournalData::JournalRecord*&gt; recordsRange =
00548                 <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a6">getJournalRecords</a>((*entityIt)-&gt;accountBegin,
00549                     (*entityIt)-&gt;accountEnd, rangeBegin, periodEnd);
00550 
00551             <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator recordRangeIt =
00552                 recordsRange.begin(); recordRangeIt != recordsRange.end();
00553                 ++recordRangeIt)
00554             {
00555                 accountBalanceRange += (*recordRangeIt)-&gt;amount;
00556             }
00557 
00558             vector&lt;JournalData::JournalRecord*&gt; recordsMonth =
00559                 <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a6">getJournalRecords</a>((*entityIt)-&gt;accountBegin,
00560                     (*entityIt)-&gt;accountEnd, monthBegin, periodEnd);
00561 
00562             <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator recordMonthIt =
00563                 recordsMonth.begin(); recordMonthIt != recordsMonth.end();
00564                 ++recordMonthIt)
00565             {
00566                 accountBalanceMonth += (*recordMonthIt)-&gt;amount;
00567             }
00568 
00569             sectionBalanceRange += accountBalanceRange;
00570             sectionBalanceMonth += accountBalanceMonth;
00571 
00572             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"50%\"&gt;"</span> + (*entityIt)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>
00573                     <span class="stringliteral">"&lt;td align=\"right\" width=\"25%\"&gt;"</span> +
00574                     <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalanceMonth) + <span class="stringliteral">"&lt;/td&gt;"</span>
00575                     <span class="stringliteral">"&lt;td align=\"right\" width=\"25%\"&gt;"</span> +
00576                     <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalanceRange) + <span class="stringliteral">"&lt;/td&gt;&lt;/tr&gt;\n"</span>;
00577 
00578             <a class="code" href="classReportsGenerator.html#r7">csv</a> += (*entityIt)-&gt;desc + <span class="stringliteral">","</span> +
00579                    <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalanceMonth, <span class="keyword">false</span>) + <span class="stringliteral">","</span> +
00580                    <a class="code" href="main_8h.html#a0">formatCurrency</a>(accountBalanceRange, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00581         }
00582 
00583         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>
00584                 <span class="stringliteral">"&lt;tr&gt;&lt;td align=\"right\" width=\"50%\"&gt;&lt;b&gt;"</span>;
00585         <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w6">ReportsEditor::Income</a>)
00586         {
00587             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Total Income"</span>;
00588             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\"Total Income\""</span>;
00589         }
00590         <span class="keywordflow">else</span> <span class="keywordflow">if</span>((*sectionIt) == <a class="code" href="classReportsEditor.html#w10w8">ReportsEditor::Expenses</a>)
00591         {
00592             <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"Total Expenses"</span>;
00593             <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">"\"Total Expenses\""</span>;
00594         }
00595         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;td align=\"right\" width=\"25%\"&gt;&lt;b&gt;"</span> +
00596                 <a class="code" href="main_8h.html#a0">formatCurrency</a>(sectionBalanceMonth) + <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;"</span>
00597                 <span class="stringliteral">"&lt;td align=\"right\" width=\"25%\"&gt;&lt;b&gt;"</span> +
00598                 <a class="code" href="main_8h.html#a0">formatCurrency</a>(sectionBalanceRange) + <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;\n"</span>;
00599 
00600         <a class="code" href="classReportsGenerator.html#r7">csv</a> += <span class="stringliteral">","</span> + <a class="code" href="main_8h.html#a0">formatCurrency</a>(sectionBalanceMonth, <span class="keyword">false</span>) + <span class="stringliteral">","</span> +
00601                 <a class="code" href="main_8h.html#a0">formatCurrency</a>(sectionBalanceRange, <span class="keyword">false</span>) + <span class="stringliteral">"\n"</span>;
00602     }
00603 
00604     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;\n"</span>;
00605 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="ReportsGenerator::genIncomeRetailReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::genIncomeRetailReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="elRef" doxygen="doxy-qt.tag:" href="qdate.html">QDate</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>periodEnd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate Income Statement Retail report. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00607">607</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00716">ReportsTab::incomeRetailReport()</a>.
<p>
<div class="fragment"><pre>00608 {
00609 
00610 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ReportsGenerator::genChartOfAccountsReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::genChartOfAccountsReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Generate Chart of Accounts report. 
<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00612">612</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>, <a class="el" href="accountsData_8cpp-source.html#l00111">AccountsData::getAccounts()</a>, <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>, <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00791">setDocName()</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00701">ReportsTab::chartAccountsReport()</a>.
<p>
<div class="fragment"><pre>00613 {
00614     <a class="code" href="classReportsGenerator.html#a11">setDocName</a>(<span class="stringliteral">"Chart of Accounts"</span>);
00615     <a class="code" href="classReportsGenerator.html#r7">csv</a> = <span class="stringliteral">"\"Account ID\",\"Account Description\"\n"</span>;
00616     <a class="code" href="classReportsGenerator.html#r5">header</a> = <span class="stringliteral">"&lt;html&gt;&lt;body&gt;&lt;center&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00617          <span class="stringliteral">"&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00618     <a class="code" href="classReportsGenerator.html#r6">html</a> = <span class="stringliteral">"&lt;html&gt;&lt;head&gt;&lt;title&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00619            <span class="stringliteral">" - Chart of Accounts&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n"</span>
00620            <span class="stringliteral">"&lt;center&gt;&lt;h1&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() + <span class="stringliteral">"&lt;/center&gt;&lt;/h1&gt;\n"</span>
00621            <span class="stringliteral">"&lt;center&gt;&lt;h2&gt;Chart of Accounts&lt;/h2&gt;&lt;/center&gt;\n"</span>
00622            <span class="stringliteral">"&lt;center&gt;&lt;h3&gt;As of "</span> + QDate::currentDate().toString(<span class="stringliteral">"MMM d, yyyy"</span>) +
00623            <span class="stringliteral">"&lt;/h3&gt;&lt;/center&gt;\n"</span>
00624            <span class="stringliteral">"&lt;table width=\"100%\"&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;"</span>
00625        <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"15%\"&gt;&lt;b&gt;Account ID&lt;/b&gt;&lt;/td&gt;"</span>
00626            <span class="stringliteral">"&lt;td width=\"40%\"&gt;&lt;b&gt;Account Description&lt;/b&gt;&lt;/td&gt;"</span>
00627            <span class="stringliteral">"&lt;td width=\"45%\"&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>
00628            <span class="stringliteral">"&lt;table width=\"100%\"&gt;\n"</span>;
00629 
00630     <span class="comment">// Get all accounts, with no accountBegin or accountEnd, with sorting, with REAccount added</span>
00631     vector&lt;AccountsData::Account*&gt; accounts = <a class="code" href="classReportsGenerator.html#r1">accountsData</a>-&gt;<a class="code" href="classAccountsData.html#a5">getAccounts</a>(
00632                     <span class="stringliteral">""</span>, <span class="stringliteral">""</span>, <span class="keyword">true</span>, <span class="keyword">true</span>);
00633 
00634     <span class="keywordflow">for</span>(vector&lt;AccountsData::Account*&gt;::const_iterator it = accounts.begin();
00635                     it != accounts.end(); ++it)
00636     {
00637         <a class="code" href="classReportsGenerator.html#r7">csv</a> += (*it)-&gt;id + <span class="stringliteral">",\""</span> + (*it)-&gt;desc + <span class="stringliteral">"\"\n"</span>;
00638         <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"15%\"&gt;"</span> + (*it)-&gt;id + <span class="stringliteral">"&lt;/td&gt;"</span>
00639                 <span class="stringliteral">"&lt;td width=\"40%\"&gt;"</span> + (*it)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>
00640                 <span class="stringliteral">"&lt;td width=\"45%\"&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>;
00641     }
00642 
00643     <a class="code" href="classReportsGenerator.html#r6">html</a> += <span class="stringliteral">"&lt;/body&gt;&lt;/html&gt;"</span>;
00644 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ReportsGenerator::printJournalEntryReport" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> bool ReportsGenerator::printJournalEntryReport </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a Journal Entry report. 
<p>
This report generates and prints the journal entries in the <a class="el" href="classJournalTab.html">JournalTab</a> in the order that they were entered. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>fix date-format (Qt::LocalDate does 1/1/2005 instead of 01/01/2005)</dd></dl>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00646">646</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="main_8cpp-source.html#l00034">formatCurrency()</a>, <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>, <a class="el" href="journalData_8cpp-source.html#l00163">JournalData::getJournalTmpRecords()</a>, <a class="el" href="reportsPrint_8cpp-source.html#l00064">ReportsPrint::instance()</a>, and <a class="el" href="reportsPrint_8cpp-source.html#l00077">ReportsPrint::printReport()</a>.
<p>
Referenced by <a class="el" href="journalTab_8cpp-source.html#l00201">JournalTab::printJournal()</a>.
<p>
<div class="fragment"><pre>00647 {
00648     <a class="code" href="classReportsPrint.html">ReportsPrint</a> *reportsPrint = <a class="code" href="classReportsPrint.html#e0">ReportsPrint::instance</a>();
00649 
00650     <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> tmpHeader;
00651     <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> tmpHtml;
00652 
00653     tmpHeader = <span class="stringliteral">"&lt;html&gt;&lt;body&gt;&lt;center&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00654             <span class="stringliteral">" - Journal Entry Report&lt;/center&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00655     tmpHtml = <span class="stringliteral">"&lt;html&gt;&lt;head&gt;&lt;title&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00656           <span class="stringliteral">"&lt;/title&gt;&lt;/head&gt;&lt;/body&gt;\n"</span>
00657           <span class="stringliteral">"&lt;center&gt;&lt;h1&gt;"</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() + <span class="stringliteral">"&lt;/h1&gt;&lt;/center&gt;\n"</span>
00658           <span class="stringliteral">"&lt;center&gt;&lt;h2&gt;Journal Entry Report&lt;/h2&gt;&lt;/center&gt;\n"</span>
00659           <span class="stringliteral">"&lt;center&gt;&lt;h3&gt;Entered "</span> + QDate::currentDate().toString(<span class="stringliteral">"MMM d, yyyy"</span>) +
00660           <span class="stringliteral">"&lt;/h3&gt;&lt;/center&gt;\n"</span>
00661           <span class="stringliteral">"&lt;table width=\"100%\"&gt;&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;"</span>
00662           <span class="stringliteral">"&lt;td width=\"10%\"&gt;&lt;b&gt;Date&lt;/b&gt;&lt;/td&gt;"</span>
00663           <span class="stringliteral">"&lt;td width=\"10%\"&gt;&lt;b&gt;Account&lt;/b&gt;&lt;/td&gt;"</span>
00664           <span class="stringliteral">"&lt;td width=\"10%\"&gt;&lt;b&gt;Reference&lt;/b&gt;&lt;/td&gt;"</span>
00665           <span class="stringliteral">"&lt;td width=\"50%\"&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/td&gt;"</span>
00666           <span class="stringliteral">"&lt;td width=\"10%\" align=\"right\"&gt;&lt;b&gt;Debit Amt&lt;/b&gt;&lt;/td&gt;"</span>
00667           <span class="stringliteral">"&lt;td width=\"10%\" align=\"right\"&gt;&lt;b&gt;Credit Amt&lt;/b&gt;&lt;/td&gt;"</span>
00668           <span class="stringliteral">"&lt;\tr&gt;\n"</span>;
00669 
00670     Q_INT64 debitBalance = 0;
00671     Q_INT64 creditBalance = 0;
00672 
00673     vector&lt;JournalData::JournalRecord*&gt; journalTmpRecords;
00674 
00675     <span class="comment">// Get all journalTmp entries</span>
00676     journalTmpRecords = <a class="code" href="classReportsGenerator.html#r2">journalData</a>-&gt;<a class="code" href="classJournalData.html#a5">getJournalTmpRecords</a>();
00677 
00678     <span class="keywordflow">for</span>(vector&lt;JournalData::JournalRecord*&gt;::const_iterator it =
00679     journalTmpRecords.begin(); it != journalTmpRecords.end(); ++it)
00680     {
00682     tmpHtml += <span class="stringliteral">"&lt;tr&gt;"</span>
00683            <span class="stringliteral">"&lt;td width=\"10%\"&gt;"</span> + ((*it)-&gt;date).toString(<span class="stringliteral">"MM/dd/yyyy"</span>) + <span class="stringliteral">"&lt;/td&gt;"</span>
00684            <span class="stringliteral">"&lt;td width=\"10%\"&gt;"</span> + (*it)-&gt;account + <span class="stringliteral">"&lt;/td&gt;"</span>
00685            <span class="stringliteral">"&lt;td width=\"10%\"&gt;"</span> + (*it)-&gt;reference + <span class="stringliteral">"&lt;/td&gt;"</span>
00686            <span class="stringliteral">"&lt;td width=\"50%\"&gt;"</span> + (*it)-&gt;desc + <span class="stringliteral">"&lt;/td&gt;"</span>;
00687     <span class="keywordflow">if</span>((*it)-&gt;amount &gt; 0)
00688     {
00689         debitBalance += (*it)-&gt;amount;
00690         tmpHtml += <span class="stringliteral">"&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00691                <a class="code" href="main_8h.html#a0">formatCurrency</a>((*it)-&gt;amount) +
00692                <span class="stringliteral">"&lt;/td&gt;&lt;td width=\"10%\"&gt; &lt;/td&gt;"</span>;
00693     }
00694     <span class="keywordflow">else</span>
00695     {
00696         creditBalance += (*it)-&gt;amount;
00697         tmpHtml += <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;&lt;td align=\"right\" width=\"10%\"&gt;"</span> +
00698                <a class="code" href="main_8h.html#a0">formatCurrency</a>((*it)-&gt;amount) + <span class="stringliteral">"&lt;/td&gt;"</span>;
00699     }
00700     
00701     tmpHtml += <span class="stringliteral">"&lt;/tr&gt;"</span>;
00702     }
00703 
00704     tmpHtml += <span class="stringliteral">"&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;\n"</span>
00705            <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"80%\" align=\"right\" colspan=\"4\"&gt;Debit:&lt;/td&gt;"</span>
00706            <span class="stringliteral">"&lt;td width=\"10%\" align=\"right\"&gt;"</span> +
00707            <a class="code" href="main_8h.html#a0">formatCurrency</a>(debitBalance) +
00708            <span class="stringliteral">"&lt;/td&gt;&lt;td width=\"10%\"&gt; &lt;/td&gt;&lt;/tr&gt;"</span>
00709            <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"80%\" align=\"right\" colspan=\"4\"&gt;Credit:&lt;/td&gt;"</span>
00710            <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;&lt;td width=\"10%\" align=\"right\"&gt;"</span> +
00711            <a class="code" href="main_8h.html#a0">formatCurrency</a>(creditBalance) +
00712            <span class="stringliteral">"&lt;/td&gt;&lt;/tr&gt;"</span>
00713            <span class="stringliteral">"&lt;tr&gt;&lt;td width=\"80%\" align=\"right\" colspan=\"4\"&gt;"</span>
00714            <span class="stringliteral">"&lt;b&gt;Out of Balance:&lt;/b&gt;&lt;/td&gt;"</span>
00715            <span class="stringliteral">"&lt;td width=\"10%\"&gt; &lt;/td&gt;&lt;td width=\"10%\" align=\"right\"&gt;&lt;b&gt;"</span> +
00716            <a class="code" href="main_8h.html#a0">formatCurrency</a>(debitBalance + creditBalance) +
00717            <span class="stringliteral">"&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;"</span>
00718            <span class="stringliteral">"&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;"</span>;
00719 
00720     <span class="keywordflow">return</span> reportsPrint-&gt;<a class="code" href="classReportsPrint.html#a1">printReport</a>(tmpHeader, tmpHtml,
00721             <span class="stringliteral">"General Ledger - "</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00722             <span class="stringliteral">" Journal Entry Report"</span>);
00723 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="ReportsGenerator::getReportHeader" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> &amp; ReportsGenerator::getReportHeader </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00725">725</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
<div class="fragment"><pre>00726 {
00727     <span class="keywordflow">return</span> <a class="code" href="classReportsGenerator.html#r5">header</a>;
00728 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="ReportsGenerator::getReportHTML" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> &amp; ReportsGenerator::getReportHTML </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve the report in HTML form. 
<p>
This is used in the app and <a class="el" href="classReportsPrint.html">ReportsPrint</a> 
<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00730">730</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00097">html</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00732">ReportsTab::exportPDF()</a>, and <a class="el" href="reportsTab_8cpp-source.html#l00621">ReportsTab::viewReport()</a>.
<p>
<div class="fragment"><pre>00731 {
00732     <span class="keywordflow">return</span> <a class="code" href="classReportsGenerator.html#r6">html</a>;
00733 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="ReportsGenerator::getReportCSV" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> &amp; ReportsGenerator::getReportCSV </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve the report's data in CSV form. 
<p>
This data is used for exporting the report to CSV 
<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00735">735</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00098">csv</a>.
<p>
Referenced by <a class="el" href="reportsTab_8cpp-source.html#l00779">ReportsTab::exportCSV()</a>.
<p>
<div class="fragment"><pre>00736 {
00737     <span class="keywordflow">return</span> <a class="code" href="classReportsGenerator.html#r7">csv</a>;
00738 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="ReportsGenerator::setDocName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void ReportsGenerator::setDocName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>newDocName</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00791">791</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00095">docName</a>.
<p>
Referenced by <a class="el" href="reportsGenerator_8cpp-source.html#l00380">genBalanceSheetReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00612">genChartOfAccountsReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00051">genGeneralDetailReport()</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00269">genGeneralTrialReport()</a>.
<p>
<div class="fragment"><pre>00792 {
00793     <a class="code" href="classReportsGenerator.html#r4">docName</a> = newDocName;
00794 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="ReportsGenerator::getDocName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> ReportsGenerator::getDocName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00796">796</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
References <a class="el" href="reportsGenerator_8h-source.html#l00095">docName</a>, and <a class="el" href="client_8cpp-source.html#l00242">Client::getClientName()</a>.
<p>
<div class="fragment"><pre>00797 {
00798     <span class="keywordflow">return</span> (<span class="stringliteral">"General Ledger - "</span> + <a class="code" href="classReportsGenerator.html#r0">client</a>-&gt;<a class="code" href="classClient.html#a7">getClientName</a>() +
00799         <span class="stringliteral">" - "</span> + <a class="code" href="classReportsGenerator.html#r4">docName</a>);
00800 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="d1" doxytag="ReportsGenerator::numberToString" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> ReportsGenerator::numberToString </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>number</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [private]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00740">740</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
Referenced by <a class="el" href="reportsGenerator_8cpp-source.html#l00482">genIncomeSvcReport()</a>.
<p>
<div class="fragment"><pre>00741 {
00742     <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> string;
00743 
00744     <span class="keywordflow">switch</span>(number) {
00745         <span class="keywordflow">case</span> 1:
00746             string = <span class="stringliteral">"One"</span>;
00747             <span class="keywordflow">break</span>;
00748         <span class="keywordflow">case</span> 2:
00749             string = <span class="stringliteral">"Two"</span>;
00750             <span class="keywordflow">break</span>;
00751         <span class="keywordflow">case</span> 3:
00752             string = <span class="stringliteral">"Three"</span>;
00753             <span class="keywordflow">break</span>;
00754         <span class="keywordflow">case</span> 4:
00755             string = <span class="stringliteral">"Four"</span>;
00756             <span class="keywordflow">break</span>;
00757         <span class="keywordflow">case</span> 5:
00758             string = <span class="stringliteral">"Five"</span>;
00759             <span class="keywordflow">break</span>;
00760         <span class="keywordflow">case</span> 6:
00761             string = <span class="stringliteral">"Six"</span>;
00762             <span class="keywordflow">break</span>;
00763         <span class="keywordflow">case</span> 7:
00764             string = <span class="stringliteral">"Seven"</span>;
00765             <span class="keywordflow">break</span>;
00766         <span class="keywordflow">case</span> 8:
00767             string = <span class="stringliteral">"Eight"</span>;
00768             <span class="keywordflow">break</span>;
00769         <span class="keywordflow">case</span> 9:
00770             string = <span class="stringliteral">"Nine"</span>;
00771             <span class="keywordflow">break</span>;
00772         <span class="keywordflow">case</span> 10:
00773             string = <span class="stringliteral">"Ten"</span>;
00774             <span class="keywordflow">break</span>;
00775         <span class="keywordflow">case</span> 11:
00776             string = <span class="stringliteral">"Eleven"</span>;
00777             <span class="keywordflow">break</span>;
00778         <span class="keywordflow">case</span> 12:
00779             string = <span class="stringliteral">"Twelve"</span>;
00780             <span class="keywordflow">break</span>;
00781         <span class="keywordflow">default</span>:
00782             string = <span class="stringliteral">"Invalid Number: "</span>
00783                      <span class="stringliteral">"reportsEditor.cpp::numberToString("</span>
00784                      + QString::number(number) + <span class="stringliteral">")"</span>;
00785             <span class="keywordflow">break</span>;
00786     }
00787 
00788     <span class="keywordflow">return</span> string;
00789 }
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="v0" doxytag="ReportsGenerator::thisInstance" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classReportsGenerator.html">ReportsGenerator</a> * <a class="el" href="classReportsGenerator.html#v0">ReportsGenerator::thisInstance</a> = 0<code> [static, private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8cpp-source.html#l00036">36</a> of file <a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a>.
<p>
Referenced by <a class="el" href="reportsGenerator_8cpp-source.html#l00045">destroy()</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00038">instance()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="ReportsGenerator::client" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classClient.html">Client</a>* <a class="el" href="classReportsGenerator.html#r0">ReportsGenerator::client</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00090">90</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="ReportsGenerator::accountsData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classAccountsData.html">AccountsData</a>* <a class="el" href="classReportsGenerator.html#r1">ReportsGenerator::accountsData</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00091">91</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="ReportsGenerator::journalData" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classJournalData.html">JournalData</a>* <a class="el" href="classReportsGenerator.html#r2">ReportsGenerator::journalData</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00092">92</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r3" doxytag="ReportsGenerator::reportsEditor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classReportsEditor.html">ReportsEditor</a>* <a class="el" href="classReportsGenerator.html#r3">ReportsGenerator::reportsEditor</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00093">93</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r4" doxytag="ReportsGenerator::docName" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> <a class="el" href="classReportsGenerator.html#r4">ReportsGenerator::docName</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00095">95</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.
<p>
Referenced by <a class="el" href="reportsGenerator_8cpp-source.html#l00796">getDocName()</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00791">setDocName()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r5" doxytag="ReportsGenerator::header" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> <a class="el" href="classReportsGenerator.html#r5">ReportsGenerator::header</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00096">96</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r6" doxytag="ReportsGenerator::html" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> <a class="el" href="classReportsGenerator.html#r6">ReportsGenerator::html</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00097">97</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.
<p>
Referenced by <a class="el" href="reportsGenerator_8cpp-source.html#l00380">genBalanceSheetReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00612">genChartOfAccountsReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00051">genGeneralDetailReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00269">genGeneralTrialReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00482">genIncomeSvcReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00730">getReportHTML()</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00802">ReportsGenerator()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r7" doxytag="ReportsGenerator::csv" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="elRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> <a class="el" href="classReportsGenerator.html#r7">ReportsGenerator::csv</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="reportsGenerator_8h-source.html#l00098">98</a> of file <a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a>.
<p>
Referenced by <a class="el" href="reportsGenerator_8cpp-source.html#l00380">genBalanceSheetReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00612">genChartOfAccountsReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00051">genGeneralDetailReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00269">genGeneralTrialReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00482">genIncomeSvcReport()</a>, <a class="el" href="reportsGenerator_8cpp-source.html#l00735">getReportCSV()</a>, and <a class="el" href="reportsGenerator_8cpp-source.html#l00802">ReportsGenerator()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="reportsGenerator_8h-source.html">reportsGenerator.h</a><li><a class="el" href="reportsGenerator_8cpp-source.html">reportsGenerator.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Jan 16 16:23:31 2005 for General Ledger by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
