<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>General Ledger: reportsTab.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>reportsTab.cpp</h1><a href="reportsTab_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* General Ledger, Copyright (C) 2004  Joshua Eckroth &lt;josh@eckroth.net&gt;</span>
00002 <span class="comment"> * http://www.eckroth.net/software/genledg</span>
00003 <span class="comment"> *</span>
00004 <span class="comment"> * This program is free software; you can redistribute it and/or modify</span>
00005 <span class="comment"> * it under the terms of the GNU General Public License as published by</span>
00006 <span class="comment"> * the Free Software Foundation; either version 2 of the License, or</span>
00007 <span class="comment"> * (at your option) any later version.</span>
00008 <span class="comment"> * </span>
00009 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
00010 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00011 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00012 <span class="comment"> * GNU General Public License for more details.</span>
00013 <span class="comment"> * </span>
00014 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
00015 <span class="comment"> * along with this program; if not, write to the Free Software</span>
00016 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  US</span>
00017 <span class="comment">*/</span>
00018 
00019 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
00020 <span class="keyword">using</span> std::system;
00021 
00022 <span class="preprocessor">#include &lt;cstdio&gt;</span>
00023 <span class="keyword">using</span> std::remove;
00024 
00025 <span class="preprocessor">#include &lt;qwidgetstack.h&gt;</span>
00026 <span class="preprocessor">#include &lt;qvgroupbox.h&gt;</span>
00027 <span class="preprocessor">#include &lt;qlayout.h&gt;</span>
00028 <span class="preprocessor">#include &lt;qvbox.h&gt;</span>
00029 <span class="preprocessor">#include &lt;qframe.h&gt;</span>
00030 <span class="preprocessor">#include &lt;qcombobox.h&gt;</span>
00031 <span class="preprocessor">#include &lt;qcheckbox.h&gt;</span>
00032 <span class="preprocessor">#include &lt;qpushbutton.h&gt;</span>
00033 <span class="preprocessor">#include &lt;qlabel.h&gt;</span>
00034 <span class="preprocessor">#include &lt;qlineedit.h&gt;</span>
00035 <span class="preprocessor">#include &lt;qradiobutton.h&gt;</span>
00036 <span class="preprocessor">#include &lt;qtextedit.h&gt;</span>
00037 <span class="preprocessor">#include &lt;qevent.h&gt;</span>
00038 <span class="preprocessor">#include &lt;qfile.h&gt;</span>
00039 <span class="preprocessor">#include &lt;qtextstream.h&gt;</span>
00040 <span class="preprocessor">#include &lt;qfiledialog.h&gt;</span>
00041 <span class="preprocessor">#include &lt;qstringlist.h&gt;</span>
00042 
00043 <span class="preprocessor">#include "config.h"</span>
00044 <span class="preprocessor">#include "<a class="code" href="settings_8h.html">settings.h</a>"</span>
00045 <span class="preprocessor">#include "<a class="code" href="globalGoBackLabel_8h.html">globalGoBackLabel.h</a>"</span>
00046 <span class="preprocessor">#include "<a class="code" href="accountsData_8h.html">accountsData.h</a>"</span>
00047 <span class="preprocessor">#include "<a class="code" href="client_8h.html">client.h</a>"</span>
00048 <span class="preprocessor">#include "<a class="code" href="reportsTab_8h.html">reportsTab.h</a>"</span>
00049 <span class="preprocessor">#include "<a class="code" href="reportsGenerator_8h.html">reportsGenerator.h</a>"</span>
00050 <span class="preprocessor">#include "<a class="code" href="reportsEditor_8h.html">reportsEditor.h</a>"</span>
00051 <span class="preprocessor">#include "<a class="code" href="reportsPrint_8h.html">reportsPrint.h</a>"</span>
00052 <span class="preprocessor">#include "<a class="code" href="reportsPDFDialog_8h.html">reportsPDFDialog.h</a>"</span>
00053 <span class="preprocessor">#include "<a class="code" href="importExport_8h.html">importExport.h</a>"</span>
00054 
<a name="l00055"></a><a class="code" href="classReportsTab.html#a0">00055</a> <a class="code" href="classReportsTab.html#a0">ReportsTab::ReportsTab</a>(<a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a> *parent, <span class="keyword">const</span> <span class="keywordtype">char</span> *name)
00056     : <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidgetstack.html">QWidgetStack</a>(parent,name)
00057 {
00058     settings = <a class="code" href="classSettings.html#e0">Settings::instance</a>();
00059     accountsData = <a class="code" href="classAccountsData.html#e0">AccountsData::instance</a>();
00060     client = <a class="code" href="classClient.html#e0">Client::instance</a>();
00061     <a class="code" href="classReportsTab.html#r4">reportsGenerator</a> = <a class="code" href="classReportsGenerator.html#e0">ReportsGenerator::instance</a>();
00062     <a class="code" href="classReportsTab.html#r5">reportsPrint</a> = <a class="code" href="classReportsPrint.html#e0">ReportsPrint::instance</a>();
00063 
00064     <a class="code" href="classReportsTab.html#r7">clientPath</a> = settings-&gt;<a class="code" href="classSettings.html#a1">getClientPath</a>();
00065     <a class="code" href="classReportsTab.html#r8">exportPath</a> = settings-&gt;<a class="code" href="classSettings.html#a3">getExportPath</a>();
00066     
00067     connect(accountsData, SIGNAL(accountsChanged()),
00068                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k3">updateAccounts</a>()));
00069     connect(client, SIGNAL(<a class="code" href="classReportsTab.html#k2">clientOpened</a>(<a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a>)),
00070                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k2">clientOpened</a>()));
00071     
00072     accounts = <a class="codeRef" doxygen="doxy-qt.tag:" href="qstringlist.html">QStringList</a>(<span class="stringliteral">"                                  "</span>);
00073     <span class="comment">// set a placeholder width</span>
00074 
00075     QStringList periodTmp(<span class="stringliteral">"Period X (00/00/00)  "</span>);
00076     <span class="comment">// placeholder for combobox sizes</span>
00077     
00078     main.widget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(<span class="keyword">this</span>, <span class="stringliteral">"reportsTab::main.widget"</span>);
00079     
00080     main.vBoxLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(main.widget, 0, -1,
00081                     <span class="stringliteral">"reportsTab::main.vBoxLabel"</span>);
00082     
00083     main.hBoxLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(main.vBoxLabel, -1,
00084                     <span class="stringliteral">"reportsTab::main.hBoxLabel"</span>);
00085     main.hBoxLabel-&gt;setMargin(5);
00086     
00087     main.topLabel = <span class="keyword">new</span> <a class="code" href="classGlobalGoBackLabel.html">GlobalGoBackLabel</a>(main.widget,
00088                     <span class="stringliteral">"reportsTab::main.topLabel"</span>);
00089     connect(main.topLabel, SIGNAL(goBack()), <span class="keyword">this</span>, SIGNAL(<a class="code" href="classReportsTab.html#l0">switchToHome</a>()));
00090     
00091     main.hBoxLabel-&gt;addWidget(main.topLabel);
00092     main.hBoxLabel-&gt;addStretch();
00093     
00094     main.hBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(main.vBoxLabel, -1,
00095                     <span class="stringliteral">"reportsTab::main.hBoxLayout"</span>);
00096     
00097     main.hBoxLayout-&gt;addStretch();
00098     
00099     main.vBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(main.hBoxLayout, -1,
00100                     <span class="stringliteral">"reportsTab::main.vBoxLayout"</span>);
00101     main.vBoxLayout-&gt;setSpacing(30);
00102     
00103     main.vBoxLayout-&gt;addStretch();
00104     
00105     
00106     main.reportsGroup = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvgroupbox.html">QVGroupBox</a>(<span class="stringliteral">"Reports"</span>, main.widget,
00107                     <span class="stringliteral">"reportsTab::main.reportsGroup"</span>);
00108     main.reportsGroup-&gt;setInsideMargin(30);
00109     main.reportsGroup-&gt;setInsideSpacing(20);
00110     
00111     main.vBoxLayout-&gt;add(main.reportsGroup);
00112     
00113     main.reportsWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(main.reportsGroup,
00114                     <span class="stringliteral">"reportsTab::main.reportsWidget"</span>);
00115     
00116     main.reportsGridLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qgridlayout.html">QGridLayout</a>(main.reportsWidget, 6, 2, 0, 15,
00117                     <span class="stringliteral">"reportsTab::main.reportsGridLayout"</span>);
00118                     <span class="comment">// rows, cols, margin, spacing</span>
00119    
00120     
00121     main.generalDetailVGroupBox = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvgroupbox.html">QVGroupBox</a>(main.reportsWidget,
00122                     <span class="stringliteral">"reportsTab::main.generalDetailVGroupBox"</span>);
00123     main.generalDetailVGroupBox-&gt;setInsideSpacing(5);
00124     
00125     main.generalDetailDateRangeWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(main.generalDetailVGroupBox,
00126                     <span class="stringliteral">"reportsTab::main.generalDetailDateRangeWidget"</span>);
00127     main.generalDetailDateRangeHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00128                     main.generalDetailDateRangeWidget, 0, -1,
00129                     <span class="stringliteral">"reportsTab::main.generalDetailDateRangeHBoxLayout"</span>);
00130     main.generalDetailDateRangeHBoxLayout-&gt;setSpacing(5);
00131     
00132     main.generalDetailDateRangeLabelBegin = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Date Range:"</span>,
00133                     main.generalDetailDateRangeWidget,
00134                     <span class="stringliteral">"reportsTab::main.generalDetailDateRangeLabelBegin"</span>);
00135     main.generalDetailDateRangeBegin = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00136                     main.generalDetailDateRangeWidget,
00137                     <span class="stringliteral">"reportsTab::main.generalDetailDateRangeBegin"</span>);
00138     main.generalDetailDateRangeBegin-&gt;setFocus();
00139     main.generalDetailDateRangeBegin-&gt;installEventFilter(<span class="keyword">this</span>);
00140     main.generalDetailDateRangeBegin-&gt;insertStringList(periodTmp);
00141     main.generalDetailDateRangeLabelBetween = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"to"</span>,
00142                     main.generalDetailDateRangeWidget,
00143                     <span class="stringliteral">"reportsTab::main.generalDetailDateRangeLabelBetween"</span>);
00144     main.generalDetailDateRangeEnd = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00145                     main.generalDetailDateRangeWidget,
00146                     <span class="stringliteral">"reportsTab::main.generalDetailDateRangeEnd"</span>);
00147     main.generalDetailDateRangeEnd-&gt;installEventFilter(<span class="keyword">this</span>);
00148     main.generalDetailDateRangeEnd-&gt;insertStringList(periodTmp);
00149     
00150     main.generalDetailDateRangeHBoxLayout-&gt;addWidget(
00151                     main.generalDetailDateRangeLabelBegin);
00152     main.generalDetailDateRangeHBoxLayout-&gt;addWidget(
00153                     main.generalDetailDateRangeBegin);
00154     main.generalDetailDateRangeHBoxLayout-&gt;addWidget(
00155                     main.generalDetailDateRangeLabelBetween);
00156     main.generalDetailDateRangeHBoxLayout-&gt;addWidget(
00157                     main.generalDetailDateRangeEnd);
00158     main.generalDetailDateRangeHBoxLayout-&gt;addStretch();
00159     
00160     main.generalDetailAccountRangeWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(
00161                     main.generalDetailVGroupBox,
00162                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeWidget"</span>);
00163     main.generalDetailAccountRangeHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00164                     main.generalDetailAccountRangeWidget, 0, -1,
00165                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeHBoxLayout"</span>);
00166     main.generalDetailAccountRangeHBoxLayout-&gt;setSpacing(5);
00167     
00168     main.generalDetailAccountRangeLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Account Range:"</span>,
00169                     main.generalDetailAccountRangeWidget,
00170                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeLabel"</span>);
00171     main.generalDetailAccountRangeAll = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcheckbox.html">QCheckBox</a>(<span class="stringliteral">"All"</span>,
00172                     main.generalDetailAccountRangeWidget,
00173                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeAll"</span>);
00174     main.generalDetailAccountRangeAll-&gt;installEventFilter(<span class="keyword">this</span>);
00175     main.generalDetailAccountRangeAll-&gt;setChecked(<span class="keyword">true</span>);
00176     connect(main.generalDetailAccountRangeAll, SIGNAL(toggled(<span class="keywordtype">bool</span>)),
00177                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k0">detailAccountsAllChanged</a>(<span class="keywordtype">bool</span>)));
00178     main.generalDetailAccountRangeBegin = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00179                     main.generalDetailAccountRangeWidget,
00180                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeBegin"</span>);
00181     main.generalDetailAccountRangeBegin-&gt;insertStringList(accounts);
00182     main.generalDetailAccountRangeBegin-&gt;installEventFilter(<span class="keyword">this</span>);
00183     main.generalDetailAccountRangeBegin-&gt;setEnabled(<span class="keyword">false</span>);
00184     main.generalDetailAccountRangeLabelBetween = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"to"</span>,
00185                     main.generalDetailAccountRangeWidget,
00186                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeLabelBetween"</span>);
00187     main.generalDetailAccountRangeLabelBetween-&gt;setEnabled(<span class="keyword">false</span>);
00188     main.generalDetailAccountRangeEnd = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00189                     main.generalDetailAccountRangeWidget,
00190                     <span class="stringliteral">"reportsTab::main.generalDetailAccountRangeEnd"</span>);
00191     main.generalDetailAccountRangeEnd-&gt;insertStringList(accounts);
00192     main.generalDetailAccountRangeEnd-&gt;installEventFilter(<span class="keyword">this</span>);
00193     main.generalDetailAccountRangeEnd-&gt;setEnabled(<span class="keyword">false</span>);
00194 
00195     main.generalDetailAccountRangeHBoxLayout-&gt;addWidget(
00196                     main.generalDetailAccountRangeLabel);    
00197     main.generalDetailAccountRangeHBoxLayout-&gt;addWidget(
00198                     main.generalDetailAccountRangeAll);
00199     main.generalDetailAccountRangeHBoxLayout-&gt;addWidget(
00200                     main.generalDetailAccountRangeBegin);
00201     main.generalDetailAccountRangeHBoxLayout-&gt;addWidget(
00202                     main.generalDetailAccountRangeLabelBetween);
00203     main.generalDetailAccountRangeHBoxLayout-&gt;addWidget(
00204                     main.generalDetailAccountRangeEnd);
00205     main.generalDetailAccountRangeHBoxLayout-&gt;addStretch();
00206     
00207     main.generalDetailButtonVBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(0, 0, -1,
00208                     <span class="stringliteral">"reportsTab::main.generalDetailButtonVBoxLayout"</span>);
00209     main.generalDetailButton = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00210                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00211                                     ICON_PATH + <span class="stringliteral">"/generalDetailReport.png"</span>)),
00212                     <span class="stringliteral">"General Ledger Detail"</span>, main.reportsWidget,
00213                     <span class="stringliteral">"reportsTab::main.generalDetailButton"</span>);
00214     connect(main.generalDetailButton, SIGNAL(clicked()), <span class="keyword">this</span>,
00215                     SLOT(<a class="code" href="classReportsTab.html#k7">generalDetailReport</a>()));
00216     main.generalDetailButton-&gt;setDefault(<span class="keyword">true</span>);
00217     main.generalDetailButton-&gt;installEventFilter(<span class="keyword">this</span>);
00218     main.generalDetailButtonVBoxLayout-&gt;addWidget(main.generalDetailButton);
00219     
00220     main.reportsGridLayout-&gt;addWidget(main.generalDetailVGroupBox, 0, 0);
00221     main.reportsGridLayout-&gt;addLayout(main.generalDetailButtonVBoxLayout, 0, 1);
00222     
00223     
00224     main.generalTrialVGroupBox = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvgroupbox.html">QVGroupBox</a>(main.reportsWidget,
00225                     <span class="stringliteral">"reportsTab::main.generalTrialVGroupBox"</span>);
00226     main.generalTrialVGroupBox-&gt;setInsideSpacing(5);
00227     
00228     main.generalTrialMonthEndWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(main.generalTrialVGroupBox,
00229                     <span class="stringliteral">"reportsTab::main.generalTrialMonthEndWidget"</span>);
00230     main.generalTrialMonthEndHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00231                     main.generalTrialMonthEndWidget, 0, -1,
00232                     <span class="stringliteral">"reportsTab::main.generalTrialMonthEndHBoxLayout"</span>);
00233     main.generalTrialMonthEndHBoxLayout-&gt;setSpacing(5);
00234     
00235     main.generalTrialMonthEndLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Month-End:"</span>,
00236                     main.generalTrialMonthEndWidget,
00237                     <span class="stringliteral">"reportsTab::main.generalTrialMonthEndLabel"</span>);
00238     main.generalTrialMonthEndList = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00239                     main.generalTrialMonthEndWidget,
00240                     <span class="stringliteral">"reportsTab::main.generalTrialMonthEndList"</span>);
00241     main.generalTrialMonthEndList-&gt;installEventFilter(<span class="keyword">this</span>);
00242     main.generalTrialMonthEndList-&gt;insertStringList(periodTmp);
00243     
00244     main.generalTrialMonthEndHBoxLayout-&gt;addWidget(
00245                     main.generalTrialMonthEndLabel);
00246     main.generalTrialMonthEndHBoxLayout-&gt;addWidget(
00247                     main.generalTrialMonthEndList);
00248     main.generalTrialMonthEndHBoxLayout-&gt;addStretch();
00249     
00250     main.generalTrialAccountRangeWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(
00251                     main.generalTrialVGroupBox,
00252                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeWidget"</span>);
00253     main.generalTrialAccountRangeHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00254                     main.generalTrialAccountRangeWidget, 0, -1,
00255                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeHBoxLayout"</span>);
00256     main.generalTrialAccountRangeHBoxLayout-&gt;setSpacing(5);
00257     
00258     main.generalTrialAccountRangeLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Account Range:"</span>,
00259                     main.generalTrialAccountRangeWidget,
00260                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeLabel"</span>);
00261     main.generalTrialAccountRangeAll = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcheckbox.html">QCheckBox</a>(<span class="stringliteral">"All"</span>,
00262                     main.generalTrialAccountRangeWidget,
00263                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeAll"</span>);
00264     main.generalTrialAccountRangeAll-&gt;installEventFilter(<span class="keyword">this</span>);
00265     main.generalTrialAccountRangeAll-&gt;setChecked(<span class="keyword">true</span>);
00266     connect(main.generalTrialAccountRangeAll, SIGNAL(toggled(<span class="keywordtype">bool</span>)),
00267                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k1">trialAccountsAllChanged</a>(<span class="keywordtype">bool</span>)));
00268     main.generalTrialAccountRangeBegin = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00269                     main.generalTrialAccountRangeWidget,
00270                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeBegin"</span>);
00271     main.generalTrialAccountRangeBegin-&gt;insertStringList(accounts);
00272     main.generalTrialAccountRangeBegin-&gt;installEventFilter(<span class="keyword">this</span>);
00273     main.generalTrialAccountRangeBegin-&gt;setEnabled(<span class="keyword">false</span>);
00274     main.generalTrialAccountRangeLabelBetween = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"to"</span>,
00275                     main.generalTrialAccountRangeWidget,
00276                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeLabelBetween"</span>);
00277     main.generalTrialAccountRangeLabelBetween-&gt;setEnabled(<span class="keyword">false</span>);
00278     main.generalTrialAccountRangeEnd = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(
00279                     main.generalTrialAccountRangeWidget,
00280                     <span class="stringliteral">"reportsTab::main.generalTrialAccountRangeEnd"</span>);
00281     main.generalTrialAccountRangeEnd-&gt;insertStringList(accounts);
00282     main.generalTrialAccountRangeEnd-&gt;installEventFilter(<span class="keyword">this</span>);
00283     main.generalTrialAccountRangeEnd-&gt;setEnabled(<span class="keyword">false</span>);
00284     
00285     main.generalTrialAccountRangeHBoxLayout-&gt;addWidget(
00286                     main.generalTrialAccountRangeLabel);
00287     main.generalTrialAccountRangeHBoxLayout-&gt;addWidget(
00288                     main.generalTrialAccountRangeAll);
00289     main.generalTrialAccountRangeHBoxLayout-&gt;addWidget(
00290                     main.generalTrialAccountRangeBegin);
00291     main.generalTrialAccountRangeHBoxLayout-&gt;addWidget(
00292                     main.generalTrialAccountRangeLabelBetween);
00293     main.generalTrialAccountRangeHBoxLayout-&gt;addWidget(
00294                     main.generalTrialAccountRangeEnd);
00295     main.generalTrialAccountRangeHBoxLayout-&gt;addStretch();
00296     
00297     main.generalTrialButtonVBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(0, 0, -1,
00298                     <span class="stringliteral">"reportsTab::main.generalTrialButtonVBoxLayout"</span>);
00299     main.generalTrialButton = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00300                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00301                                     ICON_PATH + <span class="stringliteral">"/generalTrialReport.png"</span>)),
00302                     <span class="stringliteral">"General Trial Balance"</span>, main.reportsWidget,
00303                     <span class="stringliteral">"reportsTab::main.generalTrialButton"</span>);
00304     connect(main.generalTrialButton, SIGNAL(clicked()),
00305                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k8">generalTrialReport</a>()));
00306     main.generalTrialButton-&gt;installEventFilter(<span class="keyword">this</span>);
00307     main.generalTrialButtonVBoxLayout-&gt;addWidget(main.generalTrialButton);
00308     
00309     main.reportsGridLayout-&gt;addWidget(main.generalTrialVGroupBox, 1, 0);
00310     main.reportsGridLayout-&gt;addLayout(main.generalTrialButtonVBoxLayout, 1, 1);
00311     
00312     
00313     main.editableVGroupBox = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvgroupbox.html">QVGroupBox</a>(main.reportsWidget,
00314                     <span class="stringliteral">"reportsTab::main.editableVGroupBox"</span>);
00315     main.editableVGroupBox-&gt;setInsideSpacing(5);
00316     
00317     main.editableMonthEndWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(main.editableVGroupBox,
00318                     <span class="stringliteral">"reportsTab::main.editableMonthEndWidget"</span>);
00319     main.editableMonthEndHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00320                     main.editableMonthEndWidget, 0, -1,
00321                     <span class="stringliteral">"reportsTab::main.editableMonthEndHBoxLayout"</span>);
00322     main.editableMonthEndHBoxLayout-&gt;setSpacing(5);
00323     
00324     main.editableMonthEndLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Month-End:"</span>,
00325                     main.editableMonthEndWidget,
00326                     <span class="stringliteral">"reportsTab::main.editableMonthEndLabel"</span>);
00327     main.editableMonthEndList = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qcombobox.html">QComboBox</a>(main.editableMonthEndWidget,
00328                     <span class="stringliteral">"reportsTab::main.editableMonthEndList"</span>);
00329     main.editableMonthEndList-&gt;installEventFilter(<span class="keyword">this</span>);
00330     main.editableMonthEndList-&gt;insertStringList(periodTmp);
00331     
00332     main.editableMonthEndHBoxLayout-&gt;addWidget(main.editableMonthEndLabel);
00333     main.editableMonthEndHBoxLayout-&gt;addWidget(main.editableMonthEndList);
00334     main.editableMonthEndHBoxLayout-&gt;addStretch();
00335 
00336     main.editableViewWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(main.reportsWidget,
00337                     <span class="stringliteral">"reportsTab::main.editableViewWidget"</span>);
00338     main.editableViewVBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(main.editableViewWidget,
00339                     0, -1, <span class="stringliteral">"reportsTab::main.editableViewVBoxLayout"</span>);
00340     main.editableViewVBoxLayout-&gt;addSpacing(
00341                     main.editableMonthEndList-&gt;height());
00342 
00343     main.editableListWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(main.editableVGroupBox,
00344                     <span class="stringliteral">"reportsTab::main.editableListWidget"</span>);
00345     main.editableListHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(main.editableListWidget,
00346                     0, -1, <span class="stringliteral">"reportsTab::main.editableListHBoxLayout"</span>);
00347     main.editableListVBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(main.editableListHBoxLayout,
00348                     5, <span class="stringliteral">"reportsTab::main.editableListVBoxLayout"</span>);
00349 
00350     main.editableBalanceHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00351                     main.editableListVBoxLayout, 5,
00352                     <span class="stringliteral">"reportsTab::main.editableBalanceHBoxLayout"</span>);
00353 
00354     main.editableBalanceLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Balance Sheet"</span>,
00355                     main.editableListWidget,
00356                     <span class="stringliteral">"reportsTab::main.editableBalanceLabel"</span>);
00357     main.editableBalanceModify = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00358                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00359                                     ICON_PATH + <span class="stringliteral">"/modifyReport.png"</span>)),
00360                     <span class="stringliteral">"Modify"</span>, main.editableListWidget,
00361                     <span class="stringliteral">"reportsTab::main.editableBalanceModify"</span>);
00362     connect(main.editableBalanceModify, SIGNAL(clicked()),
00363                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k13">switchToEditBalance</a>()));
00364     main.editableBalanceModify-&gt;installEventFilter(<span class="keyword">this</span>);
00365     main.editableBalanceView = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00366                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00367                                     ICON_PATH + <span class="stringliteral">"/viewEditableReport.png"</span>)),
00368                     <span class="stringliteral">"Balance Sheet"</span>, main.editableViewWidget,
00369                     <span class="stringliteral">"reportsTab::main.editableBalanceView"</span>);
00370     connect(main.editableBalanceView, SIGNAL(clicked()),
00371                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k10">balanceReport</a>()));
00372     main.editableBalanceView-&gt;installEventFilter(<span class="keyword">this</span>);
00373 
00374     main.editableBalanceHBoxLayout-&gt;addWidget(main.editableBalanceLabel);
00375     main.editableBalanceHBoxLayout-&gt;addWidget(main.editableBalanceModify);
00376     main.editableViewVBoxLayout-&gt;addWidget(main.editableBalanceView);
00377 
00378     main.editableIncomeSvcHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00379                     main.editableListVBoxLayout, 5,
00380                     <span class="stringliteral">"reportsTab::main.editableIncomeSvcHBoxLayout"</span>);
00381 
00382     main.editableIncomeSvcLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Income Statement Service Co."</span>,
00383                     main.editableListWidget,
00384                     <span class="stringliteral">"reportsTab::main.editableIncomeSvcLabel"</span>);
00385     main.editableIncomeSvcModify = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00386                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00387                                     ICON_PATH + <span class="stringliteral">"/modifyReport.png"</span>)),
00388                     <span class="stringliteral">"Modify"</span>, main.editableListWidget,
00389                     <span class="stringliteral">"reportsTab::main.editableIncomeSvcModify"</span>);
00390     connect(main.editableIncomeSvcModify, SIGNAL(clicked()),
00391                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k14">switchToEditIncomeSvc</a>()));
00392     main.editableIncomeSvcModify-&gt;installEventFilter(<span class="keyword">this</span>);
00393     main.editableIncomeSvcView = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00394                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00395                                     ICON_PATH + <span class="stringliteral">"/viewEditableReport.png"</span>)),
00396                     <span class="stringliteral">"Income Statement Svc. Co."</span>, main.editableViewWidget,
00397                     <span class="stringliteral">"reportsTab::main.editableIncomeSvcView"</span>);
00398     connect(main.editableIncomeSvcView, SIGNAL(clicked()),
00399                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k11">incomeSvcReport</a>()));
00400     main.editableIncomeSvcView-&gt;installEventFilter(<span class="keyword">this</span>);
00401 
00402     main.editableIncomeSvcHBoxLayout-&gt;addWidget(main.editableIncomeSvcLabel);
00403     main.editableIncomeSvcHBoxLayout-&gt;addWidget(main.editableIncomeSvcModify);
00404     main.editableViewVBoxLayout-&gt;addWidget(main.editableIncomeSvcView);
00405 
00406     main.editableIncomeRetailHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(
00407                     main.editableListVBoxLayout, 5,
00408                     <span class="stringliteral">"reportsTab::main.editableIncomeRetailHBoxLayout"</span>);
00409 
00410     main.editableIncomeRetailLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(<span class="stringliteral">"Income Statement Retail"</span>,
00411                     main.editableListWidget,
00412                     <span class="stringliteral">"reportsTab::main.editableIncomeRetailLabel"</span>);
00413     main.editableIncomeRetailModify = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00414                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00415                                     ICON_PATH + <span class="stringliteral">"/modifyReport.png"</span>)),
00416                     <span class="stringliteral">"Modify"</span>, main.editableListWidget,
00417                     <span class="stringliteral">"reportsTab::main.editableIncomeRetailModify"</span>);
00418     connect(main.editableIncomeRetailModify, SIGNAL(clicked()),
00419                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k15">switchToEditIncomeRetail</a>()));
00420     main.editableIncomeRetailModify-&gt;installEventFilter(<span class="keyword">this</span>);
00421     main.editableIncomeRetailView = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00422                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00423                                     ICON_PATH + <span class="stringliteral">"/viewEditableReport.png"</span>)),
00424                     <span class="stringliteral">"Income Statement Retail"</span>, main.editableViewWidget,
00425                     <span class="stringliteral">"reportsTab::main.editableIncomeRetailView"</span>);
00426     connect(main.editableIncomeRetailView, SIGNAL(clicked()),
00427                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k12">incomeRetailReport</a>()));
00428     main.editableIncomeRetailView-&gt;installEventFilter(<span class="keyword">this</span>);
00429 
00430     main.editableIncomeRetailHBoxLayout-&gt;addWidget(
00431                     main.editableIncomeRetailLabel);
00432     main.editableIncomeRetailHBoxLayout-&gt;addWidget(
00433                     main.editableIncomeRetailModify);
00434     main.editableViewVBoxLayout-&gt;addWidget(
00435                     main.editableIncomeRetailView);
00436     
00437     
00438     main.reportsGridLayout-&gt;addWidget(main.editableVGroupBox, 2, 0);
00439     main.reportsGridLayout-&gt;addWidget(main.editableViewWidget, 2, 1);
00440 
00441     main.chartAccountsButtonVBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(0, 0, -1,
00442                     <span class="stringliteral">"reportsTab::main.chartAccountsButtonVBoxLayout"</span>);
00443     main.chartAccountsButton = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00444                     <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>(QPixmap::fromMimeSource(
00445                                     ICON_PATH + <span class="stringliteral">"/chartOfAccounts.png"</span>)),
00446                     <span class="stringliteral">"Chart of Accounts"</span>, main.reportsWidget,
00447                     <span class="stringliteral">"reportsTab::main.chartAccountsButton"</span>);
00448     connect(main.chartAccountsButton, SIGNAL(clicked()),
00449                     <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k9">chartAccountsReport</a>()));
00450     main.chartAccountsButton-&gt;installEventFilter(<span class="keyword">this</span>);
00451     main.chartAccountsButtonVBoxLayout-&gt;addWidget(main.chartAccountsButton);
00452     
00453     
00454     main.reportsGridLayout-&gt;addLayout(main.chartAccountsButtonVBoxLayout, 5, 1);
00455     
00456     
00457     main.vBoxLayout-&gt;addStretch();
00458     
00459     main.hBoxLayout-&gt;addStretch();
00460     
00461     
00462     addWidget(main.widget, 0);
00463     
00464     
00465     <a class="code" href="classReportsTab.html#r88">report</a>.widget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(<span class="keyword">this</span>, <span class="stringliteral">"reportsTab::report.widget"</span>);
00466     <a class="code" href="classReportsTab.html#r88">report</a>.vBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(<a class="code" href="classReportsTab.html#r88">report</a>.widget, 0, -1,
00467                     <span class="stringliteral">"reportsTab::report.vBoxLayout"</span>);
00468     <a class="code" href="classReportsTab.html#r88">report</a>.vBoxLayout-&gt;setMargin(5);
00469     <a class="code" href="classReportsTab.html#r88">report</a>.vBoxLayout-&gt;setSpacing(5);
00470     
00471     <a class="code" href="classReportsTab.html#r88">report</a>.labelLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qboxlayout.html">QBoxLayout</a>(<a class="code" href="classReportsTab.html#r88">report</a>.vBoxLayout,
00472                     QBoxLayout::LeftToRight, -1,
00473                     <span class="stringliteral">"reportsTab::report.labelLayout"</span>);
00474     <a class="code" href="classReportsTab.html#r88">report</a>.topLabel = <span class="keyword">new</span> <a class="code" href="classGlobalGoBackLabel.html">GlobalGoBackLabel</a>(<a class="code" href="classReportsTab.html#r88">report</a>.widget,
00475                     <span class="stringliteral">"reportsTab::report.topLabel"</span>);
00476     connect(<a class="code" href="classReportsTab.html#r88">report</a>.topLabel, SIGNAL(goBack()), <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k6">switchWidget</a>()));
00477     
00478     <a class="code" href="classReportsTab.html#r88">report</a>.print = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00479             <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>( QPixmap::fromMimeSource(ICON_PATH + <span class="stringliteral">"/print.png"</span>) ),
00480             <span class="stringliteral">"Print Report (F8)"</span>, <a class="code" href="classReportsTab.html#r88">report</a>.widget, <span class="stringliteral">"reportsTab::report.print"</span>);
00481     <a class="code" href="classReportsTab.html#r88">report</a>.print-&gt;setFocusPolicy(QWidget::NoFocus);
00482     connect(<a class="code" href="classReportsTab.html#r88">report</a>.print, SIGNAL(clicked()), <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k16">print</a>()));
00483     
00484     <a class="code" href="classReportsTab.html#r88">report</a>.labelLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.topLabel, 0, Qt::AlignLeft | Qt::AlignTop);
00485     <a class="code" href="classReportsTab.html#r88">report</a>.labelLayout-&gt;addStretch();
00486     <a class="code" href="classReportsTab.html#r88">report</a>.labelLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.print);
00487     
00488     <a class="code" href="classReportsTab.html#r88">report</a>.view = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qtextedit.html">QTextEdit</a>(<a class="code" href="classReportsTab.html#r88">report</a>.widget, <span class="stringliteral">"reportsTab::report.view"</span>);
00489     <a class="code" href="classReportsTab.html#r88">report</a>.view-&gt;setTextFormat(QTextEdit::RichText);
00490     <a class="code" href="classReportsTab.html#r88">report</a>.view-&gt;setReadOnly(<span class="keyword">true</span>);
00491     <a class="code" href="classReportsTab.html#r88">report</a>.view-&gt;setVScrollBarMode(QScrollView::AlwaysOn);
00492     <a class="code" href="classReportsTab.html#r88">report</a>.view-&gt;installEventFilter(<span class="keyword">this</span>);
00493     
00494     <a class="code" href="classReportsTab.html#r88">report</a>.vBoxLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.view);
00495     
00496     <a class="code" href="classReportsTab.html#r88">report</a>.bottomWidget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(<a class="code" href="classReportsTab.html#r88">report</a>.widget,
00497                     <span class="stringliteral">"reportsTab::report.bottomWidget"</span>);
00498     <a class="code" href="classReportsTab.html#r88">report</a>.bottomHBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(<a class="code" href="classReportsTab.html#r88">report</a>.bottomWidget, 0, -1,
00499                     <span class="stringliteral">"reportsTab::report.bottomHBoxLayout"</span>);
00500     
00501     <a class="code" href="classReportsTab.html#r88">report</a>.bottomLabel = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qlabel.html">QLabel</a>(
00502             <span class="stringliteral">"&lt;nobr&gt;&lt;b&gt;Keyboard Control:&lt;/b&gt;&lt;/nobr&gt;&lt;br&gt;"</span>
00503             <span class="stringliteral">"&lt;nobr&gt; &amp;nbsp; &amp;nbsp; &lt;b&gt;Up&lt;/b&gt; / &lt;b&gt;Down&lt;/b&gt;: "</span>
00504             <span class="stringliteral">"Scroll the page&lt;/nobr&gt;&lt;br&gt;"</span>,
00505             <a class="code" href="classReportsTab.html#r88">report</a>.bottomWidget, <span class="stringliteral">"reportsTab::report.bottomLabel"</span>);
00506     
00507     <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightFrame = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qframe.html">QFrame</a>(<a class="code" href="classReportsTab.html#r88">report</a>.bottomWidget,
00508                     <span class="stringliteral">"reportsTab::report.bottomRightFrame"</span>);
00509     <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qboxlayout.html">QBoxLayout</a>(<a class="code" href="classReportsTab.html#r88">report</a>.bottomRightFrame,
00510                     QBoxLayout::LeftToRight, 0, -1,
00511                     <span class="stringliteral">"reportsTab::report.bottomRightBoxLayout"</span>);
00512     <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightBoxLayout-&gt;setSpacing(5);
00513     
00514     <a class="code" href="classReportsTab.html#r88">report</a>.exportPDFButton = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00515             <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>( QPixmap::fromMimeSource(ICON_PATH + <span class="stringliteral">"/exportPDF.png"</span>) ),
00516             <span class="stringliteral">"Export to PDF (F11)"</span>, <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightFrame,
00517             <span class="stringliteral">"reportsTab::report.exportPDFButton"</span>);
00518     connect(<a class="code" href="classReportsTab.html#r88">report</a>.exportPDFButton, SIGNAL(clicked()), <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k4">exportPDF</a>()));
00519     
00520     <a class="code" href="classReportsTab.html#r88">report</a>.exportCSVButton = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qpushbutton.html">QPushButton</a>(
00521             <a class="codeRef" doxygen="doxy-qt.tag:" href="qiconset.html">QIconSet</a>( QPixmap::fromMimeSource(ICON_PATH + <span class="stringliteral">"/export.png"</span>) ),
00522             <span class="stringliteral">"Export to CSV (F12)"</span>, <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightFrame,
00523             <span class="stringliteral">"reportsTab::report.exportCSVButton"</span>);
00524     connect(<a class="code" href="classReportsTab.html#r88">report</a>.exportCSVButton, SIGNAL(clicked()), <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k5">exportCSV</a>()));
00525     
00526     <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightBoxLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.exportPDFButton, 0,
00527                     Qt::AlignLeft | Qt::AlignTop);
00528     <a class="code" href="classReportsTab.html#r88">report</a>.bottomRightBoxLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.exportCSVButton, 0,
00529                     Qt::AlignLeft | Qt::AlignTop);
00530     
00531     <a class="code" href="classReportsTab.html#r88">report</a>.bottomHBoxLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.bottomLabel);
00532     <a class="code" href="classReportsTab.html#r88">report</a>.bottomHBoxLayout-&gt;addStretch();
00533     <a class="code" href="classReportsTab.html#r88">report</a>.bottomHBoxLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.bottomRightFrame);
00534     
00535     <a class="code" href="classReportsTab.html#r88">report</a>.vBoxLayout-&gt;addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.bottomWidget);
00536     
00537     addWidget(<a class="code" href="classReportsTab.html#r88">report</a>.widget, 1);
00538 
00539     raiseWidget(0);
00540     active = 0;
00541 }
00542 
<a name="l00543"></a><a class="code" href="classReportsTab.html#k2">00543</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k2">ReportsTab::clientOpened</a>()
00544 {
00545     <a class="codeRef" doxygen="doxy-qt.tag:" href="qstringlist.html">QStringList</a> periodBegin = client-&gt;<a class="code" href="classClient.html#a11">getPeriodList</a>(<span class="keyword">true</span>);
00546     <a class="codeRef" doxygen="doxy-qt.tag:" href="qstringlist.html">QStringList</a> periodEnd = client-&gt;<a class="code" href="classClient.html#a11">getPeriodList</a>(<span class="keyword">false</span>);
00547     <span class="keywordtype">int</span> currentPeriod = (client-&gt;<a class="code" href="classClient.html#a13">getCurrentPeriod</a>() - 1);
00548     
00549     main.generalDetailDateRangeBegin-&gt;clear();
00550     main.generalDetailDateRangeBegin-&gt;insertStringList(periodBegin);
00551     main.generalDetailDateRangeBegin-&gt;setCurrentItem(currentPeriod);
00552 
00553     main.generalDetailDateRangeEnd-&gt;clear();
00554     main.generalDetailDateRangeEnd-&gt;insertStringList(periodEnd);
00555     main.generalDetailDateRangeEnd-&gt;setCurrentItem(currentPeriod);
00556     
00557     main.generalTrialMonthEndList-&gt;clear();
00558     main.generalTrialMonthEndList-&gt;insertStringList(periodEnd);
00559     main.generalTrialMonthEndList-&gt;setCurrentItem(currentPeriod);
00560     
00561     main.editableMonthEndList-&gt;clear();
00562     main.editableMonthEndList-&gt;insertStringList(periodEnd);
00563     main.editableMonthEndList-&gt;setCurrentItem(currentPeriod);
00564 
00565     <a class="code" href="classReportsTab.html#k3">updateAccounts</a>();
00566 }
00567 
<a name="l00568"></a><a class="code" href="classReportsTab.html#k0">00568</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k0">ReportsTab::detailAccountsAllChanged</a>(<span class="keywordtype">bool</span> on)
00569 {
00570     <span class="keywordflow">if</span>(on)
00571     {
00572         main.generalDetailAccountRangeBegin-&gt;setEnabled(<span class="keyword">false</span>);
00573         main.generalDetailAccountRangeLabelBetween-&gt;setEnabled(<span class="keyword">false</span>);
00574         main.generalDetailAccountRangeEnd-&gt;setEnabled(<span class="keyword">false</span>);
00575         main.generalDetailAccountRangeAll-&gt;setFocus();
00576     }
00577     <span class="keywordflow">else</span>
00578     {
00579         main.generalDetailAccountRangeBegin-&gt;setEnabled(<span class="keyword">true</span>);
00580         main.generalDetailAccountRangeLabelBetween-&gt;setEnabled(<span class="keyword">true</span>);
00581         main.generalDetailAccountRangeEnd-&gt;setEnabled(<span class="keyword">true</span>);
00582     }
00583 } 
00584         
<a name="l00585"></a><a class="code" href="classReportsTab.html#k1">00585</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k1">ReportsTab::trialAccountsAllChanged</a>(<span class="keywordtype">bool</span> on)
00586 {
00587     <span class="keywordflow">if</span>(on)
00588     {
00589         main.generalTrialAccountRangeBegin-&gt;setEnabled(<span class="keyword">false</span>);
00590         main.generalTrialAccountRangeLabelBetween-&gt;setEnabled(<span class="keyword">false</span>);
00591         main.generalTrialAccountRangeEnd-&gt;setEnabled(<span class="keyword">false</span>);
00592         main.generalTrialAccountRangeAll-&gt;setFocus();
00593     }
00594     <span class="keywordflow">else</span>
00595     {
00596         main.generalTrialAccountRangeBegin-&gt;setEnabled(<span class="keyword">true</span>);
00597         main.generalTrialAccountRangeLabelBetween-&gt;setEnabled(<span class="keyword">true</span>);
00598         main.generalTrialAccountRangeEnd-&gt;setEnabled(<span class="keyword">true</span>);
00599     }
00600 }
00601 
<a name="l00602"></a><a class="code" href="classReportsTab.html#k3">00602</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k3">ReportsTab::updateAccounts</a>()
00603 {
00604     accounts = accountsData-&gt;<a class="code" href="classAccountsData.html#a13">getFormattedList</a>(<span class="keyword">true</span>);
00605     
00606     main.generalDetailAccountRangeBegin-&gt;clear();
00607     main.generalDetailAccountRangeBegin-&gt;insertStringList(accounts);
00608     
00609     main.generalDetailAccountRangeEnd-&gt;clear();
00610     main.generalDetailAccountRangeEnd-&gt;insertStringList(accounts);
00611     main.generalDetailAccountRangeEnd-&gt;setCurrentItem(accounts.count() - 1);
00612     
00613     main.generalTrialAccountRangeBegin-&gt;clear();
00614     main.generalTrialAccountRangeBegin-&gt;insertStringList(accounts);
00615     
00616     main.generalTrialAccountRangeEnd-&gt;clear();
00617     main.generalTrialAccountRangeEnd-&gt;insertStringList(accounts);
00618     main.generalTrialAccountRangeEnd-&gt;setCurrentItem(accounts.count() - 1);
00619 }
00620 
<a name="l00621"></a><a class="code" href="classReportsTab.html#d2">00621</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#d2">ReportsTab::viewReport</a>()
00622 {
00623     <a class="code" href="classReportsTab.html#r88">report</a>.view-&gt;setText(<a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a9">getReportHTML</a>());
00624 
00625     <a class="code" href="classReportsTab.html#k6">switchWidget</a>();
00626 }
00627 
<a name="l00628"></a><a class="code" href="classReportsTab.html#k6">00628</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k6">ReportsTab::switchWidget</a>()
00629 {
00630     <span class="keywordflow">if</span>(active == 0)
00631     {
00632         raiseWidget(1);
00633         <a class="code" href="classReportsTab.html#r88">report</a>.view-&gt;setFocus();
00634         active = 1;
00635     }
00636     <span class="keywordflow">else</span>
00637     {
00638         raiseWidget(0);
00639         active = 0;
00640     }
00641 }
00642 
<a name="l00643"></a><a class="code" href="classReportsTab.html#k7">00643</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k7">ReportsTab::generalDetailReport</a>()
00644 {
00645     <span class="keywordflow">if</span>(main.generalDetailAccountRangeAll-&gt;isChecked())
00646     {
00647         <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a1">genGeneralDetailReport</a>(
00648                 client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(main.generalDetailDateRangeBegin-&gt;currentItem() + 1, <span class="keyword">false</span>),
00649                 client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(main.generalDetailDateRangeEnd-&gt;currentItem() + 1, <span class="keyword">true</span>),
00650                 <span class="stringliteral">""</span>, <span class="stringliteral">""</span>);
00651     }
00652     <span class="keywordflow">else</span>
00653     {
00654         <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountBegin = main.generalDetailAccountRangeBegin-&gt;currentText().left(
00655                         main.generalDetailAccountRangeBegin-&gt;currentText().find(<span class="stringliteral">" - "</span>));
00656         <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountEnd = main.generalDetailAccountRangeEnd-&gt;currentText().left(
00657                         main.generalDetailAccountRangeEnd-&gt;currentText().find(<span class="stringliteral">" - "</span>));
00658 
00659         <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a1">genGeneralDetailReport</a>(
00660                 client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(main.generalDetailDateRangeBegin-&gt;currentItem() + 1, <span class="keyword">false</span>),
00661                 client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(main.generalDetailDateRangeEnd-&gt;currentItem() + 1, <span class="keyword">true</span>),
00662                 accountBegin, accountEnd);
00663     }
00664 
00665     <a class="code" href="classReportsTab.html#d2">viewReport</a>();
00666 }
00667 
<a name="l00668"></a><a class="code" href="classReportsTab.html#k8">00668</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k8">ReportsTab::generalTrialReport</a>()
00669 {
00670     <span class="keywordflow">if</span>(main.generalTrialAccountRangeAll-&gt;isChecked())
00671     {
00672         <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a2">genGeneralTrialReport</a>(
00673                 client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(main.generalTrialMonthEndList-&gt;currentItem() + 1, <span class="keyword">true</span>));
00674     }
00675     <span class="keywordflow">else</span>
00676     {
00677         <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountBegin = main.generalTrialAccountRangeBegin-&gt;currentText().left(
00678                         main.generalTrialAccountRangeBegin-&gt;currentText().find(<span class="stringliteral">" - "</span>));
00679         <a class="codeRef" doxygen="doxy-qt.tag:" href="qstring.html">QString</a> accountEnd = main.generalTrialAccountRangeEnd-&gt;currentText().left(
00680                         main.generalTrialAccountRangeBegin-&gt;currentText().find(<span class="stringliteral">" - "</span>));
00681 
00682         <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a2">genGeneralTrialReport</a>(
00683                         client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(
00684                             main.generalTrialMonthEndList-&gt;currentItem() + 1,
00685                             <span class="keyword">true</span>),
00686                         accountBegin, accountEnd);
00687     }
00688 
00689     <a class="code" href="classReportsTab.html#d2">viewReport</a>();
00690 }
00691 
<a name="l00692"></a><a class="code" href="classReportsTab.html#k10">00692</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k10">ReportsTab::balanceReport</a>()
00693 {
00694     <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a3">genBalanceSheetReport</a>(
00695         client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(main.editableMonthEndList-&gt;currentItem() + 1,
00696                 <span class="keyword">true</span>));
00697 
00698     <a class="code" href="classReportsTab.html#d2">viewReport</a>();
00699 }
00700 
<a name="l00701"></a><a class="code" href="classReportsTab.html#k9">00701</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k9">ReportsTab::chartAccountsReport</a>()
00702 {
00703     <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a6">genChartOfAccountsReport</a>();
00704     <a class="code" href="classReportsTab.html#d2">viewReport</a>();
00705 }
00706 
<a name="l00707"></a><a class="code" href="classReportsTab.html#k11">00707</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k11">ReportsTab::incomeSvcReport</a>()
00708 {
00709     <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a4">genIncomeSvcReport</a>(
00710         client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(
00711         main.editableMonthEndList-&gt;currentItem() + 1, <span class="keyword">true</span>));
00712 
00713     <a class="code" href="classReportsTab.html#d2">viewReport</a>();
00714 }
00715 
<a name="l00716"></a><a class="code" href="classReportsTab.html#k12">00716</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k12">ReportsTab::incomeRetailReport</a>()
00717 {
00718     <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a5">genIncomeRetailReport</a>(
00719         client-&gt;<a class="code" href="classClient.html#a12">getPeriodDate</a>(
00720         main.editableMonthEndList-&gt;currentItem() + 1, <span class="keyword">true</span>));
00721 
00722     <a class="code" href="classReportsTab.html#d2">viewReport</a>();
00723 }
00724 
<a name="l00725"></a><a class="code" href="classReportsTab.html#r79">00725</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k16">ReportsTab::print</a>()
00726 {
00727     <a class="code" href="classReportsTab.html#r5">reportsPrint</a>-&gt;<a class="code" href="classReportsPrint.html#a1">printReport</a>(<a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a8">getReportHeader</a>(),
00728             <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a9">getReportHTML</a>(),
00729             <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a12">getDocName</a>());
00730 }
00731 
<a name="l00732"></a><a class="code" href="classReportsTab.html#k4">00732</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k4">ReportsTab::exportPDF</a>()
00733 {
00734     <a class="code" href="classImportExport.html#e3">ImportExport::exportPDF</a>(<a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a9">getReportHTML</a>());
00735 
00736     <span class="comment">/*</span>
00737 <span class="comment">    QString file = QFileDialog::getSaveFileName(</span>
00738 <span class="comment">            exportPath,</span>
00739 <span class="comment">            "PDF Files (*.pdf)",</span>
00740 <span class="comment">            this,</span>
00741 <span class="comment">            0,</span>
00742 <span class="comment">            "Export Report to PDF");</span>
00743 <span class="comment">    </span>
00744 <span class="comment">    if(file != "")</span>
00745 <span class="comment">    {</span>
00746 <span class="comment">        if(file.right(4) != ".pdf")</span>
00747 <span class="comment">            file.append(".pdf");</span>
00748 <span class="comment"></span>
00749 <span class="comment">        ReportsPDFDialog reportsPDFDialog;</span>
00750 <span class="comment">        QString options = reportsPDFDialog.exec();</span>
00751 <span class="comment">        if(options == QString::null)</span>
00752 <span class="comment">            return;</span>
00753 <span class="comment"></span>
00754 <span class="comment">        QFile tmpHTML(clientPath + "/tmp.html");</span>
00755 <span class="comment">        if(!tmpHTML.open( IO_WriteOnly ))</span>
00756 <span class="comment">            return;</span>
00757 <span class="comment"></span>
00758 <span class="comment">        QTextStream tmpStream(&amp;tmpHTML);</span>
00759 <span class="comment"></span>
00760 <span class="comment">        QString html = reportsGenerator-&gt;getReportHTML();</span>
00761 <span class="comment">        html.replace("&lt;tr&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;", "&lt;tr&gt;&lt;td&gt;&amp;nbsp;&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;");</span>
00762 <span class="comment"></span>
00763 <span class="comment">        tmpStream &lt;&lt; html;</span>
00764 <span class="comment"></span>
00765 <span class="comment">        tmpStream.unsetDevice();</span>
00766 <span class="comment">        tmpHTML.close();</span>
00767 <span class="comment"></span>
00768 <span class="comment">        system(QString(HTMLDOC_PATH + " --footer ./. --fontsize 9.0 "</span>
00769 <span class="comment">                + options +</span>
00770 <span class="comment">                "--right .5in --left .5in --top .2in "</span>
00771 <span class="comment">                "--textfont helvetica --no-toc --no-title --quiet -f \""</span>
00772 <span class="comment">                + file + "\" \"" + clientPath + "/tmp.html\""));</span>
00773 <span class="comment"></span>
00774 <span class="comment">        remove(clientPath + "/tmp.html");</span>
00775 <span class="comment">    }</span>
00776 <span class="comment">    */</span>
00777 }
00778 
<a name="l00779"></a><a class="code" href="classReportsTab.html#k5">00779</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k5">ReportsTab::exportCSV</a>()
00780 {
00781     <a class="code" href="classImportExport.html#e1">ImportExport::exportCSV</a>(<a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a10">getReportCSV</a>());
00782 }
00783 
<a name="l00784"></a><a class="code" href="classReportsTab.html#k13">00784</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k13">ReportsTab::switchToEditBalance</a>()
00785 {
00786     <a class="code" href="classReportsTab.html#d1">switchToEditor</a>(ReportsEditor::BalanceSheet);
00787 }
00788 
<a name="l00789"></a><a class="code" href="classReportsTab.html#k14">00789</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k14">ReportsTab::switchToEditIncomeSvc</a>()
00790 {
00791     <a class="code" href="classReportsTab.html#d1">switchToEditor</a>(ReportsEditor::IncomeSvc);
00792 }
00793 
<a name="l00794"></a><a class="code" href="classReportsTab.html#k15">00794</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#k15">ReportsTab::switchToEditIncomeRetail</a>()
00795 {
00796     <a class="code" href="classReportsTab.html#d1">switchToEditor</a>(ReportsEditor::IncomeRetail);
00797 }
00798 
<a name="l00799"></a><a class="code" href="classReportsTab.html#d1">00799</a> <span class="keywordtype">void</span> <a class="code" href="classReportsTab.html#d1">ReportsTab::switchToEditor</a>(ReportsEditor::Editor editorType)
00800 {
00801     <span class="keywordflow">if</span>(<a class="code" href="classReportsTab.html#r11">widget</a>(2))
00802         <span class="keyword">delete</span> editor.widget;
00803 
00804     editor.widget = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qwidget.html">QWidget</a>(<span class="keyword">this</span>, <span class="stringliteral">"reportsTab::editor.widget"</span>);
00805     editor.vBoxLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qvboxlayout.html">QVBoxLayout</a>(editor.widget, 0, -1,
00806                     <span class="stringliteral">"reportsTab::editor.vBoxLayout"</span>);
00807     editor.vBoxLayout-&gt;setMargin(5);
00808     editor.vBoxLayout-&gt;setSpacing(5);
00809     
00810     editor.labelLayout = <span class="keyword">new</span> <a class="codeRef" doxygen="doxy-qt.tag:" href="qhboxlayout.html">QHBoxLayout</a>(editor.vBoxLayout, -1,
00811                     <span class="stringliteral">"reportsTab::editor.labelLayout"</span>);
00812     editor.topLabel = <span class="keyword">new</span> <a class="code" href="classGlobalGoBackLabel.html">GlobalGoBackLabel</a>(editor.widget,
00813                     <span class="stringliteral">"reportsTab::editor.topLabel"</span>);
00814     connect(editor.topLabel, SIGNAL(goBack()), <span class="keyword">this</span>, SLOT(<a class="code" href="classReportsTab.html#k6">switchWidget</a>()));
00815     
00816     editor.labelLayout-&gt;addWidget(editor.topLabel);
00817     editor.labelLayout-&gt;addStretch();
00818    
00819     editor.editor = reportsEditor-&gt;<a class="code" href="classReportsEditor.html#a6">createEditor</a>(editor.widget,
00820                     <span class="stringliteral">"reportsTab::editor.editor"</span>, editorType); 
00821     
00822     editor.vBoxLayout-&gt;addWidget(editor.editor);
00823 
00824     addWidget(editor.widget, 2);
00825 
00826     raiseWidget(2);
00827     active = 2;
00828 }
00829 
<a name="l00830"></a><a class="code" href="classReportsTab.html#d0">00830</a> <span class="keywordtype">bool</span> <a class="code" href="classReportsTab.html#d0">ReportsTab::eventFilter</a>(<a class="codeRef" doxygen="doxy-qt.tag:" href="qobject.html">QObject</a> *target, <a class="codeRef" doxygen="doxy-qt.tag:" href="qevent.html">QEvent</a> *event)
00831 {
00832     <span class="keywordflow">if</span>(event-&gt;type() == QEvent::KeyPress)
00833     {
00834         <a class="codeRef" doxygen="doxy-qt.tag:" href="qkeyevent.html">QKeyEvent</a> *keyEvent = (<a class="codeRef" doxygen="doxy-qt.tag:" href="qkeyevent.html">QKeyEvent</a> *)event;
00835         <span class="keywordflow">if</span>(keyEvent-&gt;key() == Key_Escape)
00836         {
00837             <span class="keywordflow">if</span>(active == 0)
00838                 emit <a class="code" href="classReportsTab.html#l0">switchToHome</a>();
00839             <span class="keywordflow">else</span>
00840                 <a class="code" href="classReportsTab.html#k6">switchWidget</a>();
00841             <span class="keywordflow">return</span> <span class="keyword">true</span>;
00842         }
00843         <span class="keywordflow">if</span>((keyEvent-&gt;key() == Key_Enter || keyEvent-&gt;key() == Key_Return)
00844            &amp;&amp; active == 0)
00845         {
00846             <span class="keywordflow">if</span>(main.generalDetailButton-&gt;isDefault())
00847                 <a class="code" href="classReportsTab.html#k7">generalDetailReport</a>();
00848             <span class="keywordflow">else</span> <span class="keywordflow">if</span>(main.generalTrialButton-&gt;isDefault())
00849                 <a class="code" href="classReportsTab.html#k8">generalTrialReport</a>();
00850             <span class="keywordflow">else</span> <span class="keywordflow">if</span>(main.chartAccountsButton-&gt;isDefault())
00851                 <a class="code" href="classReportsTab.html#k9">chartAccountsReport</a>();
00852         }
00853         <span class="keywordflow">if</span>(keyEvent-&gt;key() == Key_F8 &amp;&amp; active == 1)
00854         {
00855             <a class="code" href="classReportsTab.html#k16">print</a>();
00856             <span class="keywordflow">return</span> <span class="keyword">true</span>;
00857         }
00858         <span class="keywordflow">if</span>(keyEvent-&gt;key() == Key_F11 &amp;&amp; active == 1)
00859         {
00860             <a class="code" href="classReportsTab.html#k4">exportPDF</a>();
00861             <span class="keywordflow">return</span> <span class="keyword">true</span>;
00862         }
00863         <span class="keywordflow">if</span>(keyEvent-&gt;key() == Key_F12 &amp;&amp; active == 1)
00864         {
00865             <a class="code" href="classReportsTab.html#k5">exportCSV</a>();
00866             <span class="keywordflow">return</span> <span class="keyword">true</span>;
00867         }
00868     }
00869     <span class="keywordflow">if</span>(event-&gt;type() == QEvent::FocusIn)
00870     {
00871         <span class="keywordflow">if</span>(target == main.generalDetailDateRangeBegin
00872            || target == main.generalDetailDateRangeEnd
00873            || target == main.generalDetailAccountRangeBegin
00874            || target == main.generalDetailAccountRangeEnd
00875            || target == main.generalDetailAccountRangeAll
00876            || target == main.generalDetailButton)
00877         {
00878             <span class="keywordflow">if</span>(!main.generalDetailButton-&gt;isDefault())
00879             {
00880                 main.generalDetailButton-&gt;setDefault(<span class="keyword">true</span>);
00881                 main.generalTrialButton-&gt;setDefault(<span class="keyword">false</span>);
00882                 main.chartAccountsButton-&gt;setDefault(<span class="keyword">false</span>);
00883             }
00884         }
00885         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(target == main.generalTrialMonthEndList
00886                 || target == main.generalTrialAccountRangeBegin
00887                 || target == main.generalTrialAccountRangeEnd
00888                 || target == main.generalTrialAccountRangeAll
00889                 || target == main.generalTrialButton)
00890         {
00891             <span class="keywordflow">if</span>(!main.generalTrialButton-&gt;isDefault())
00892             {
00893                 main.generalDetailButton-&gt;setDefault(<span class="keyword">false</span>);
00894                 main.generalTrialButton-&gt;setDefault(<span class="keyword">true</span>);
00895                 main.chartAccountsButton-&gt;setDefault(<span class="keyword">false</span>);
00896             }
00897         }
00898         <span class="keywordflow">else</span> <span class="keywordflow">if</span>(target == main.chartAccountsButton)
00899         {
00900             main.generalDetailButton-&gt;setDefault(<span class="keyword">false</span>);
00901             main.generalTrialButton-&gt;setDefault(<span class="keyword">false</span>);
00902             main.chartAccountsButton-&gt;setDefault(<span class="keyword">true</span>);
00903         }
00904     }
00905     <span class="keywordflow">return</span> QWidgetStack::eventFilter(target,event);
00906 }
00907 
<a name="l00908"></a><a class="code" href="classReportsTab.html#a1">00908</a> <a class="code" href="classReportsTab.html#a1">ReportsTab::~ReportsTab</a>()
00909 {
00910     <a class="code" href="classReportsTab.html#r4">reportsGenerator</a>-&gt;<a class="code" href="classReportsGenerator.html#a0">destroy</a>();
00911     <a class="code" href="classReportsTab.html#r5">reportsPrint</a>-&gt;<a class="code" href="classReportsPrint.html#a0">destroy</a>();
00912 }
00913 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Jan 16 16:23:29 2005 for General Ledger by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
