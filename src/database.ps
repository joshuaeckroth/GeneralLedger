%!PS-Adobe-3.0
%%BoundingBox: 18 36 594 756
%%Title: Enscript Output
%%For: Joshua Eckroth,,,
%%Creator: GNU enscript 1.6.4
%%CreationDate: Sat Nov 20 15:40:24 2004
%%Orientation: Portrait
%%Pages: (atend)
%%DocumentMedia: Letter 612 792 0 () ()
%%DocumentNeededResources: (atend)
%%EndComments
%%BeginProlog
%%BeginResource: procset Enscript-Prolog 1.6 4
%
% Procedures.
%

/_S {	% save current state
  /_s save def
} def
/_R {	% restore from saved state
  _s restore
} def

/S {	% showpage protecting gstate
  gsave
  showpage
  grestore
} bind def

/MF {	% fontname newfontname -> -	make a new encoded font
  /newfontname exch def
  /fontname exch def

  /fontdict fontname findfont def
  /newfont fontdict maxlength dict def

  fontdict {
    exch
    dup /FID eq {
      % skip FID pair
      pop pop
    } {
      % copy to the new font dictionary
      exch newfont 3 1 roll put
    } ifelse
  } forall

  newfont /FontName newfontname put

  % insert only valid encoding vectors
  encoding_vector length 256 eq {
    newfont /Encoding encoding_vector put
  } if

  newfontname newfont definefont pop
} def

/MF_PS { % fontname newfontname -> -	make a new font preserving its enc
  /newfontname exch def
  /fontname exch def

  /fontdict fontname findfont def
  /newfont fontdict maxlength dict def

  fontdict {
    exch
    dup /FID eq {
      % skip FID pair
      pop pop
    } {
      % copy to the new font dictionary
      exch newfont 3 1 roll put
    } ifelse
  } forall

  newfont /FontName newfontname put

  newfontname newfont definefont pop
} def

/SF { % fontname width height -> -	set a new font
  /height exch def
  /width exch def

  findfont
  [width 0 0 height 0 0] makefont setfont
} def

/SUF { % fontname width height -> -	set a new user font
  /height exch def
  /width exch def

  /F-gs-user-font MF
  /F-gs-user-font width height SF
} def

/SUF_PS { % fontname width height -> -	set a new user font preserving its enc
  /height exch def
  /width exch def

  /F-gs-user-font MF_PS
  /F-gs-user-font width height SF
} def

/M {moveto} bind def
/s {show} bind def

/Box {	% x y w h -> -			define box path
  /d_h exch def /d_w exch def /d_y exch def /d_x exch def
  d_x d_y  moveto
  d_w 0 rlineto
  0 d_h rlineto
  d_w neg 0 rlineto
  closepath
} def

/bgs {	% x y height blskip gray str -> -	show string with bg color
  /str exch def
  /gray exch def
  /blskip exch def
  /height exch def
  /y exch def
  /x exch def

  gsave
    x y blskip sub str stringwidth pop height Box
    gray setgray
    fill
  grestore
  x y M str s
} def

/bgcs { % x y height blskip red green blue str -> -  show string with bg color
  /str exch def
  /blue exch def
  /green exch def
  /red exch def
  /blskip exch def
  /height exch def
  /y exch def
  /x exch def

  gsave
    x y blskip sub str stringwidth pop height Box
    red green blue setrgbcolor
    fill
  grestore
  x y M str s
} def

% Highlight bars.
/highlight_bars {	% nlines lineheight output_y_margin gray -> -
  gsave
    setgray
    /ymarg exch def
    /lineheight exch def
    /nlines exch def

    % This 2 is just a magic number to sync highlight lines to text.
    0 d_header_y ymarg sub 2 sub translate

    /cw d_output_w cols div def
    /nrows d_output_h ymarg 2 mul sub lineheight div cvi def

    % for each column
    0 1 cols 1 sub {
      cw mul /xp exch def

      % for each rows
      0 1 nrows 1 sub {
        /rn exch def
        rn lineheight mul neg /yp exch def
        rn nlines idiv 2 mod 0 eq {
	  % Draw highlight bar.  4 is just a magic indentation.
	  xp 4 add yp cw 8 sub lineheight neg Box fill
	} if
      } for
    } for

  grestore
} def

% Line highlight bar.
/line_highlight {	% x y width height gray -> -
  gsave
    /gray exch def
    Box gray setgray fill
  grestore
} def

% Column separator lines.
/column_lines {
  gsave
    .1 setlinewidth
    0 d_footer_h translate
    /cw d_output_w cols div def
    1 1 cols 1 sub {
      cw mul 0 moveto
      0 d_output_h rlineto stroke
    } for
  grestore
} def

% Column borders.
/column_borders {
  gsave
    .1 setlinewidth
    0 d_footer_h moveto
    0 d_output_h rlineto
    d_output_w 0 rlineto
    0 d_output_h neg rlineto
    closepath stroke
  grestore
} def

% Do the actual underlay drawing
/draw_underlay {
  ul_style 0 eq {
    ul_str true charpath stroke
  } {
    ul_str show
  } ifelse
} def

% Underlay
/underlay {	% - -> -
  gsave
    0 d_page_h translate
    d_page_h neg d_page_w atan rotate

    ul_gray setgray
    ul_font setfont
    /dw d_page_h dup mul d_page_w dup mul add sqrt def
    ul_str stringwidth pop dw exch sub 2 div ul_h_ptsize -2 div moveto
    draw_underlay
  grestore
} def

/user_underlay {	% - -> -
  gsave
    ul_x ul_y translate
    ul_angle rotate
    ul_gray setgray
    ul_font setfont
    0 0 ul_h_ptsize 2 div sub moveto
    draw_underlay
  grestore
} def

% Page prefeed
/page_prefeed {		% bool -> -
  statusdict /prefeed known {
    statusdict exch /prefeed exch put
  } {
    pop
  } ifelse
} def

% Wrapped line markers
/wrapped_line_mark {	% x y charwith charheight type -> -
  /type exch def
  /h exch def
  /w exch def
  /y exch def
  /x exch def

  type 2 eq {
    % Black boxes (like TeX does)
    gsave
      0 setlinewidth
      x w 4 div add y M
      0 h rlineto w 2 div 0 rlineto 0 h neg rlineto
      closepath fill
    grestore
  } {
    type 3 eq {
      % Small arrows
      gsave
        .2 setlinewidth
        x w 2 div add y h 2 div add M
        w 4 div 0 rlineto
        x w 4 div add y lineto stroke

        x w 4 div add w 8 div add y h 4 div add M
        x w 4 div add y lineto
	w 4 div h 8 div rlineto stroke
      grestore
    } {
      % do nothing
    } ifelse
  } ifelse
} def

% EPSF import.

/BeginEPSF {
  /b4_Inc_state save def    		% Save state for cleanup
  /dict_count countdictstack def	% Count objects on dict stack
  /op_count count 1 sub def		% Count objects on operand stack
  userdict begin
  /showpage { } def
  0 setgray 0 setlinecap
  1 setlinewidth 0 setlinejoin
  10 setmiterlimit [ ] 0 setdash newpath
  /languagelevel where {
    pop languagelevel
    1 ne {
      false setstrokeadjust false setoverprint
    } if
  } if
} bind def

/EndEPSF {
  count op_count sub { pos } repeat	% Clean up stacks
  countdictstack dict_count sub { end } repeat
  b4_Inc_state restore
} bind def

% Check PostScript language level.
/languagelevel where {
  pop /gs_languagelevel languagelevel def
} {
  /gs_languagelevel 1 def
} ifelse
%%EndResource
%%BeginResource: procset Enscript-Encoding-88591 1.6 4
/encoding_vector [
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/space        	/exclam       	/quotedbl     	/numbersign   	
/dollar       	/percent      	/ampersand    	/quoteright   	
/parenleft    	/parenright   	/asterisk     	/plus         	
/comma        	/hyphen       	/period       	/slash        	
/zero         	/one          	/two          	/three        	
/four         	/five         	/six          	/seven        	
/eight        	/nine         	/colon        	/semicolon    	
/less         	/equal        	/greater      	/question     	
/at           	/A            	/B            	/C            	
/D            	/E            	/F            	/G            	
/H            	/I            	/J            	/K            	
/L            	/M            	/N            	/O            	
/P            	/Q            	/R            	/S            	
/T            	/U            	/V            	/W            	
/X            	/Y            	/Z            	/bracketleft  	
/backslash    	/bracketright 	/asciicircum  	/underscore   	
/quoteleft    	/a            	/b            	/c            	
/d            	/e            	/f            	/g            	
/h            	/i            	/j            	/k            	
/l            	/m            	/n            	/o            	
/p            	/q            	/r            	/s            	
/t            	/u            	/v            	/w            	
/x            	/y            	/z            	/braceleft    	
/bar          	/braceright   	/tilde        	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/space        	/exclamdown   	/cent         	/sterling     	
/currency     	/yen          	/brokenbar    	/section      	
/dieresis     	/copyright    	/ordfeminine  	/guillemotleft	
/logicalnot   	/hyphen       	/registered   	/macron       	
/degree       	/plusminus    	/twosuperior  	/threesuperior	
/acute        	/mu           	/paragraph    	/bullet       	
/cedilla      	/onesuperior  	/ordmasculine 	/guillemotright	
/onequarter   	/onehalf      	/threequarters	/questiondown 	
/Agrave       	/Aacute       	/Acircumflex  	/Atilde       	
/Adieresis    	/Aring        	/AE           	/Ccedilla     	
/Egrave       	/Eacute       	/Ecircumflex  	/Edieresis    	
/Igrave       	/Iacute       	/Icircumflex  	/Idieresis    	
/Eth          	/Ntilde       	/Ograve       	/Oacute       	
/Ocircumflex  	/Otilde       	/Odieresis    	/multiply     	
/Oslash       	/Ugrave       	/Uacute       	/Ucircumflex  	
/Udieresis    	/Yacute       	/Thorn        	/germandbls   	
/agrave       	/aacute       	/acircumflex  	/atilde       	
/adieresis    	/aring        	/ae           	/ccedilla     	
/egrave       	/eacute       	/ecircumflex  	/edieresis    	
/igrave       	/iacute       	/icircumflex  	/idieresis    	
/eth          	/ntilde       	/ograve       	/oacute       	
/ocircumflex  	/otilde       	/odieresis    	/divide       	
/oslash       	/ugrave       	/uacute       	/ucircumflex  	
/udieresis    	/yacute       	/thorn        	/ydieresis    	
] def
%%EndResource
%%EndProlog
%%BeginSetup
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Courier
/HFpt_w 10 def
/HFpt_h 10 def
/Courier-Bold /HF-gs-font MF
/HF /HF-gs-font findfont [HFpt_w 0 0 HFpt_h 0 0] makefont def
/Courier /F-gs-font MF
/F-gs-font 10 10 SF
/#copies 1 def
% Pagedevice definitions:
gs_languagelevel 1 gt {
  <<
    /PageSize [612 792] 
  >> setpagedevice
} if
%%BeginResource: procset Enscript-Header-simple 1.6 4

/do_header {	% print default simple header
  gsave
    d_header_x d_header_y HFpt_h 3 div add translate

    HF setfont
    user_header_p {
      5 0 moveto user_header_left_str show

      d_header_w user_header_center_str stringwidth pop sub 2 div
      0 moveto user_header_center_str show

      d_header_w user_header_right_str stringwidth pop sub 5 sub
      0 moveto user_header_right_str show
    } {
      5 0 moveto fname show
      45 0 rmoveto fmodstr show
      45 0 rmoveto pagenumstr show
    } ifelse

  grestore
} def
%%EndResource
/d_page_w 576 def
/d_page_h 720 def
/d_header_x 0 def
/d_header_y 705 def
/d_header_w 576 def
/d_header_h 15 def
/d_footer_x 0 def
/d_footer_y 0 def
/d_footer_w 576 def
/d_footer_h 0 def
/d_output_w 576 def
/d_output_h 705 def
/cols 1 def
%%EndSetup
%%Page: (1) 1
%%BeginPageSetup
_S
18 36 translate
/pagenum 1 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (1) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(#) s
/Courier-Bold 10 10 SUF
11 692 M
(include) s
/F-gs-font 10 10 SF
53 692 M
( ) s
/Courier-Bold 10 10 SUF
59 692 M
(<sstream>) s
/F-gs-font 10 10 SF
5 681 M
(using std::ostringstream;) s
5 659 M
(#) s
/Courier-Bold 10 10 SUF
11 659 M
(include) s
/F-gs-font 10 10 SF
53 659 M
( ) s
/Courier-Bold 10 10 SUF
59 659 M
(<cstdlib>) s
/F-gs-font 10 10 SF
5 648 M
(using std::system;) s
5 637 M
(using std::div;) s
5 615 M
(#) s
/Courier-Bold 10 10 SUF
11 615 M
(include) s
/F-gs-font 10 10 SF
53 615 M
( ) s
/Courier-Bold 10 10 SUF
59 615 M
(<cstdio>) s
/F-gs-font 10 10 SF
5 604 M
(using std::remove;) s
5 582 M
(#) s
/Courier-Bold 10 10 SUF
11 582 M
(include) s
/F-gs-font 10 10 SF
53 582 M
( ) s
/Courier-Bold 10 10 SUF
59 582 M
(<qstring.h>) s
/F-gs-font 10 10 SF
5 571 M
(#) s
/Courier-Bold 10 10 SUF
11 571 M
(include) s
/F-gs-font 10 10 SF
53 571 M
( ) s
/Courier-Bold 10 10 SUF
59 571 M
(<qstringlist.h>) s
/F-gs-font 10 10 SF
5 560 M
(#) s
/Courier-Bold 10 10 SUF
11 560 M
(include) s
/F-gs-font 10 10 SF
53 560 M
( ) s
/Courier-Bold 10 10 SUF
59 560 M
(<qsqldatabase.h>) s
/F-gs-font 10 10 SF
5 549 M
(#) s
/Courier-Bold 10 10 SUF
11 549 M
(include) s
/F-gs-font 10 10 SF
53 549 M
( ) s
/Courier-Bold 10 10 SUF
59 549 M
(<qsqlquery.h>) s
/F-gs-font 10 10 SF
5 538 M
(#) s
/Courier-Bold 10 10 SUF
11 538 M
(include) s
/F-gs-font 10 10 SF
53 538 M
( ) s
/Courier-Bold 10 10 SUF
59 538 M
(<qdir.h>) s
/F-gs-font 10 10 SF
5 527 M
(#) s
/Courier-Bold 10 10 SUF
11 527 M
(include) s
/F-gs-font 10 10 SF
53 527 M
( ) s
/Courier-Bold 10 10 SUF
59 527 M
(<qfile.h>) s
/F-gs-font 10 10 SF
5 516 M
(#) s
/Courier-Bold 10 10 SUF
11 516 M
(include) s
/F-gs-font 10 10 SF
53 516 M
( ) s
/Courier-Bold 10 10 SUF
59 516 M
(<qtextstream.h>) s
/F-gs-font 10 10 SF
5 505 M
(#) s
/Courier-Bold 10 10 SUF
11 505 M
(include) s
/F-gs-font 10 10 SF
53 505 M
( ) s
/Courier-Bold 10 10 SUF
59 505 M
(<qptrlist.h>) s
/F-gs-font 10 10 SF
5 494 M
(#) s
/Courier-Bold 10 10 SUF
11 494 M
(include) s
/F-gs-font 10 10 SF
53 494 M
( ) s
/Courier-Bold 10 10 SUF
59 494 M
(<qdialog.h>) s
/F-gs-font 10 10 SF
5 483 M
(#) s
/Courier-Bold 10 10 SUF
11 483 M
(include) s
/F-gs-font 10 10 SF
53 483 M
( ) s
/Courier-Bold 10 10 SUF
59 483 M
(<qlayout.h>) s
/F-gs-font 10 10 SF
5 472 M
(#) s
/Courier-Bold 10 10 SUF
11 472 M
(include) s
/F-gs-font 10 10 SF
53 472 M
( ) s
/Courier-Bold 10 10 SUF
59 472 M
(<qpushbutton.h>) s
/F-gs-font 10 10 SF
5 461 M
(#) s
/Courier-Bold 10 10 SUF
11 461 M
(include) s
/F-gs-font 10 10 SF
53 461 M
( ) s
/Courier-Bold 10 10 SUF
59 461 M
(<qlabel.h>) s
/F-gs-font 10 10 SF
5 450 M
(#) s
/Courier-Bold 10 10 SUF
11 450 M
(include) s
/F-gs-font 10 10 SF
53 450 M
( ) s
/Courier-Bold 10 10 SUF
59 450 M
(<qtable.h>) s
/F-gs-font 10 10 SF
5 439 M
(#) s
/Courier-Bold 10 10 SUF
11 439 M
(include) s
/F-gs-font 10 10 SF
53 439 M
( ) s
/Courier-Bold 10 10 SUF
59 439 M
(<qvbuttongroup.h>) s
/F-gs-font 10 10 SF
5 428 M
(#) s
/Courier-Bold 10 10 SUF
11 428 M
(include) s
/F-gs-font 10 10 SF
53 428 M
( ) s
/Courier-Bold 10 10 SUF
59 428 M
(<qradiobutton.h>) s
/F-gs-font 10 10 SF
5 417 M
(#) s
/Courier-Bold 10 10 SUF
11 417 M
(include) s
/F-gs-font 10 10 SF
53 417 M
( ) s
/Courier-Bold 10 10 SUF
59 417 M
(<qframe.h>) s
/F-gs-font 10 10 SF
5 406 M
(#) s
/Courier-Bold 10 10 SUF
11 406 M
(include) s
/F-gs-font 10 10 SF
53 406 M
( ) s
/Courier-Bold 10 10 SUF
59 406 M
(<qdatetime.h>) s
/F-gs-font 10 10 SF
5 395 M
(#) s
/Courier-Bold 10 10 SUF
11 395 M
(include) s
/F-gs-font 10 10 SF
53 395 M
( ) s
/Courier-Bold 10 10 SUF
59 395 M
(<qregexp.h>) s
/F-gs-font 10 10 SF
5 373 M
(#) s
/Courier-Bold 10 10 SUF
11 373 M
(include) s
/F-gs-font 10 10 SF
53 373 M
( ) s
/Courier-Bold 10 10 SUF
59 373 M
("config.h") s
/F-gs-font 10 10 SF
5 362 M
(#) s
/Courier-Bold 10 10 SUF
11 362 M
(include) s
/F-gs-font 10 10 SF
53 362 M
( ) s
/Courier-Bold 10 10 SUF
59 362 M
("database.h") s
/F-gs-font 10 10 SF
5 351 M
(#) s
/Courier-Bold 10 10 SUF
11 351 M
(include) s
/F-gs-font 10 10 SF
53 351 M
( ) s
/Courier-Bold 10 10 SUF
59 351 M
("settings.h") s
/F-gs-font 10 10 SF
5 340 M
(#) s
/Courier-Bold 10 10 SUF
11 340 M
(include) s
/F-gs-font 10 10 SF
53 340 M
( ) s
/Courier-Bold 10 10 SUF
59 340 M
("editorElement.h") s
/F-gs-font 10 10 SF
/Courier-Bold 10 10 SUF
5 318 M
(Database::Database) s
/F-gs-font 10 10 SF
113 318 M
(\(\) : QObject\(\)) s
5 307 M
({) s
5 296 M
(#) s
/Courier-Bold 10 10 SUF
11 296 M
(ifdef) s
/F-gs-font 10 10 SF
41 296 M
( ) s
/Courier-Bold 10 10 SUF
47 296 M
(Q_WS_WIN) s
/F-gs-font 10 10 SF
5 285 M
(    connection = QSqlDatabase::addDatabase\() s
/Courier-Bold 10 10 SUF
263 285 M
("QSQLITEX") s
/F-gs-font 10 10 SF
323 285 M
(\);) s
5 274 M
(#) s
/Courier-Bold 10 10 SUF
11 274 M
(else) s
/F-gs-font 10 10 SF
5 263 M
(    connection = QSqlDatabase::addDatabase\() s
/Courier-Bold 10 10 SUF
263 263 M
("QSQLITE") s
/F-gs-font 10 10 SF
317 263 M
(\);) s
5 252 M
(#) s
/Courier-Bold 10 10 SUF
11 252 M
(endif) s
/F-gs-font 10 10 SF
5 241 M
(    report = ) s
/Courier-Bold 10 10 SUF
83 241 M
(new) s
/F-gs-font 10 10 SF
101 241 M
( ReportStruct;) s
5 230 M
(    journalTmpReport = ) s
/Courier-Bold 10 10 SUF
143 230 M
(new) s
/F-gs-font 10 10 SF
161 230 M
( JournalTmpReport;) s
5 219 M
(    accountsList = ) s
/Courier-Bold 10 10 SUF
119 219 M
(new) s
/F-gs-font 10 10 SF
137 219 M
( QStringList;) s
5 197 M
(    settings = Settings::instance\(\);) s
5 175 M
(    clientPath = settings->getClientPath\(\);) s
5 164 M
(    ) s
5 153 M
(    curDb = settings->getDefaultDb\(\);) s
5 142 M
(    curClient = settings->getDefaultClient\(\);) s
5 131 M
(}) s
/Courier-Bold 10 10 SUF
5 109 M
(Database::~Database) s
/F-gs-font 10 10 SF
119 109 M
(\(\)) s
5 98 M
({) s
5 87 M
(    closeDb\(\);) s
5 65 M
(    ) s
/Courier-Bold 10 10 SUF
29 65 M
(delete) s
/F-gs-font 10 10 SF
65 65 M
( report;) s
5 54 M
(    ) s
/Courier-Bold 10 10 SUF
29 54 M
(delete) s
/F-gs-font 10 10 SF
65 54 M
( journalTmpReport;) s
5 43 M
(    ) s
/Courier-Bold 10 10 SUF
29 43 M
(delete) s
/F-gs-font 10 10 SF
65 43 M
( accountsList;) s
5 21 M
(    settings->setDefaultDb\(curDb\);) s
5 10 M
(    settings->setDefaultClient\(curClient\);) s
_R
S
%%Page: (2) 2
%%BeginPageSetup
_S
18 36 translate
/pagenum 2 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (2) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(}) s
5 670 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 670 M
(Database::instance) s
/F-gs-font 10 10 SF
173 670 M
(\(\)) s
5 659 M
({) s
5 648 M
(    ) s
/Courier-Bold 10 10 SUF
29 648 M
(if) s
/F-gs-font 10 10 SF
41 648 M
(\(db == 0\)) s
5 637 M
(        db = ) s
/Courier-Bold 10 10 SUF
83 637 M
(new) s
/F-gs-font 10 10 SF
101 637 M
( Database;) s
5 626 M
(    ) s
/Courier-Bold 10 10 SUF
29 626 M
(return) s
/F-gs-font 10 10 SF
65 626 M
( db;) s
5 615 M
(}) s
/Courier-Bold 10 10 SUF
5 593 M
(void) s
/F-gs-font 10 10 SF
29 593 M
( ) s
/Courier-Bold 10 10 SUF
35 593 M
(Database::destroy) s
/F-gs-font 10 10 SF
137 593 M
(\(\)) s
5 582 M
({) s
5 571 M
(    ) s
/Courier-Bold 10 10 SUF
29 571 M
(if) s
/F-gs-font 10 10 SF
41 571 M
(\(db != 0\)) s
5 560 M
(        ) s
/Courier-Bold 10 10 SUF
53 560 M
(delete) s
/F-gs-font 10 10 SF
89 560 M
( db;) s
5 549 M
(}) s
/Courier-Bold 10 10 SUF
5 527 M
(bool) s
/F-gs-font 10 10 SF
29 527 M
( ) s
/Courier-Bold 10 10 SUF
35 527 M
(Database::openNew) s
/F-gs-font 10 10 SF
137 527 M
(\(QString file, QString password\)) s
5 516 M
({) s
5 505 M
(    clientPath = settings->getClientPath\(\);) s
5 483 M
(    QString file2\(file\);) s
5 461 M
(    ) s
/Courier-Bold 10 10 SUF
29 461 M
(if) s
/F-gs-font 10 10 SF
41 461 M
(\(password != QString::null\)) s
5 450 M
(    {) s
5 439 M
(        file2.append\() s
/Courier-Bold 10 10 SUF
131 439 M
(".db_") s
/F-gs-font 10 10 SF
167 439 M
(\);) s
5 428 M
(        file.append\() s
/Courier-Bold 10 10 SUF
125 428 M
(".dbx") s
/F-gs-font 10 10 SF
161 428 M
(\);) s
5 406 M
(        QFile encDb\(clientPath + ) s
/Courier-Bold 10 10 SUF
203 406 M
("/") s
/F-gs-font 10 10 SF
221 406 M
( + file\);) s
5 395 M
(        ) s
/Courier-Bold 10 10 SUF
53 395 M
(if) s
/F-gs-font 10 10 SF
65 395 M
(\(!encDb.open\( IO_ReadOnly \)\)) s
5 384 M
(            ) s
/Courier-Bold 10 10 SUF
77 384 M
(return) s
/F-gs-font 10 10 SF
113 384 M
( false;) s
5 362 M
(        QFile encDb2\(clientPath + ) s
/Courier-Bold 10 10 SUF
209 362 M
("/") s
/F-gs-font 10 10 SF
227 362 M
( + file + ) s
/Courier-Bold 10 10 SUF
287 362 M
("2") s
/F-gs-font 10 10 SF
305 362 M
(\);) s
5 351 M
(        ) s
/Courier-Bold 10 10 SUF
53 351 M
(if) s
/F-gs-font 10 10 SF
65 351 M
(\(!encDb2.open\( IO_WriteOnly \)\)) s
5 340 M
(            ) s
/Courier-Bold 10 10 SUF
77 340 M
(return) s
/F-gs-font 10 10 SF
113 340 M
( false;) s
5 318 M
(        QDataStream encStream2\(&encDb2\);) s
5 296 M
(        QDataStream encStream\(&encDb\);) s
5 285 M
(        ) s
/Courier-Bold 10 10 SUF
53 285 M
(char) s
/F-gs-font 10 10 SF
77 285 M
( *string;) s
5 274 M
(        encStream >> string;) s
5 263 M
(        ) s
/Courier-Bold 10 10 SUF
53 263 M
(delete) s
/F-gs-font 10 10 SF
89 263 M
( string;) s
5 241 M
(        ) s
/Courier-Bold 10 10 SUF
53 241 M
(char) s
/F-gs-font 10 10 SF
77 241 M
( *byte = ) s
/Courier-Bold 10 10 SUF
131 241 M
(new) s
/F-gs-font 10 10 SF
149 241 M
( ) s
/Courier-Bold 10 10 SUF
155 241 M
(char) s
/F-gs-font 10 10 SF
179 241 M
(;) s
5 230 M
(        ) s
/Courier-Bold 10 10 SUF
53 230 M
(while) s
/F-gs-font 10 10 SF
83 230 M
(\(!encStream.atEnd\(\)\)) s
5 219 M
(        {) s
5 208 M
(            encStream.readRawBytes\(byte, 1\);) s
5 197 M
(            encStream2.writeRawBytes\(byte, 1\);) s
5 186 M
(        }) s
5 175 M
(        ) s
/Courier-Bold 10 10 SUF
53 175 M
(delete) s
/F-gs-font 10 10 SF
89 175 M
( byte;) s
5 153 M
(        encStream.unsetDevice\(\);) s
5 142 M
(        encStream2.unsetDevice\(\);) s
5 131 M
(        encDb.close\(\);) s
5 120 M
(        encDb2.close\(\);) s
5 98 M
(        ) s
/Courier-Bold 10 10 SUF
53 98 M
(int) s
/F-gs-font 10 10 SF
71 98 M
( retVal = system\(QString\(CRYPT_PATH + ) s
/Courier-Bold 10 10 SUF
299 98 M
("/aescrypt2 1 \\"") s
/F-gs-font 10 10 SF
401 98 M
( + clientPath + ) s
/Courier-Bold 10 10 SUF
497 98 M
("/") s
/F-gs-font 10 10 SF
515 98 M
( + file +) s
5 87 M
( ) s
/Courier-Bold 10 10 SUF
11 87 M
("2\\" \\"") s
/F-gs-font 10 10 SF
5 76 M
(                            + clientPath + ) s
/Courier-Bold 10 10 SUF
263 76 M
("/") s
/F-gs-font 10 10 SF
281 76 M
( + file2 + ) s
/Courier-Bold 10 10 SUF
347 76 M
("\\" \\"") s
/F-gs-font 10 10 SF
389 76 M
( + password + ) s
/Courier-Bold 10 10 SUF
473 76 M
("\\"") s
/F-gs-font 10 10 SF
497 76 M
(\).ascii\(\)\);) s
5 54 M
(        remove\(QString\(clientPath + ) s
/Courier-Bold 10 10 SUF
221 54 M
("/") s
/F-gs-font 10 10 SF
239 54 M
( + file + ) s
/Courier-Bold 10 10 SUF
299 54 M
("2") s
/F-gs-font 10 10 SF
317 54 M
(\).ascii\(\)\);) s
5 32 M
(        ) s
/Courier-Bold 10 10 SUF
53 32 M
(if) s
/F-gs-font 10 10 SF
65 32 M
(\(retVal != 0\)) s
5 21 M
(            ) s
/Courier-Bold 10 10 SUF
77 21 M
(return) s
/F-gs-font 10 10 SF
113 21 M
( false;) s
5 10 M
(    }) s
_R
S
%%Page: (3) 3
%%BeginPageSetup
_S
18 36 translate
/pagenum 3 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (3) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    ) s
/Courier-Bold 10 10 SUF
29 692 M
(else) s
/F-gs-font 10 10 SF
5 681 M
(        file2.append\() s
/Courier-Bold 10 10 SUF
131 681 M
(".db") s
/F-gs-font 10 10 SF
161 681 M
(\);) s
5 670 M
(    ) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(if) s
/F-gs-font 10 10 SF
41 659 M
(\(connection->isOpen\(\)\) connection->close\(\);) s
5 648 M
(    connection->setDatabaseName\(clientPath + ) s
/Courier-Bold 10 10 SUF
275 648 M
("/") s
/F-gs-font 10 10 SF
293 648 M
( + file2\);) s
5 637 M
(    ) s
/Courier-Bold 10 10 SUF
29 637 M
(if) s
/F-gs-font 10 10 SF
41 637 M
(\(!connection->open\(\)\)) s
5 626 M
(    {) s
5 615 M
(        connection->lastError\(\).showMessage\(\);) s
5 604 M
(        ) s
/Courier-Bold 10 10 SUF
53 604 M
(return) s
/F-gs-font 10 10 SF
89 604 M
( false;) s
5 593 M
(    }) s
5 582 M
(    ) s
5 571 M
(    curDb = file2;) s
5 560 M
(    ) s
5 549 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 549 M
("SELECT name FROM main") s
/F-gs-font 10 10 SF
263 549 M
(\);) s
5 538 M
(    ) s
/Courier-Bold 10 10 SUF
29 538 M
(if) s
/F-gs-font 10 10 SF
41 538 M
(\(query.next\(\)\)) s
5 527 M
(        curClient = query.value\(0\).toString\(\);) s
5 516 M
(    ) s
/Courier-Bold 10 10 SUF
29 516 M
(else) s
/F-gs-font 10 10 SF
5 505 M
(        ) s
/Courier-Bold 10 10 SUF
53 505 M
(return) s
/F-gs-font 10 10 SF
89 505 M
( false;) s
5 494 M
(  ) s
5 483 M
(    ) s
/Courier-Bold 10 10 SUF
29 483 M
(return) s
/F-gs-font 10 10 SF
65 483 M
( true;) s
5 472 M
(}) s
/Courier-Bold 10 10 SUF
5 450 M
(bool) s
/F-gs-font 10 10 SF
29 450 M
( ) s
/Courier-Bold 10 10 SUF
35 450 M
(Database::createNew) s
/F-gs-font 10 10 SF
149 450 M
(\(QString name, QString yearEnd\)) s
5 439 M
({) s
5 428 M
(    clientPath = settings->getClientPath\(\);) s
5 406 M
(    QString file\(name\);) s
5 395 M
(    ) s
5 384 M
(    file.replace\(QChar\() s
/Courier-Bold 10 10 SUF
143 384 M
(' ') s
/F-gs-font 10 10 SF
161 384 M
(\), ) s
/Courier-Bold 10 10 SUF
179 384 M
("_") s
/F-gs-font 10 10 SF
197 384 M
(\);) s
5 373 M
(    file.replace\(QChar\() s
/Courier-Bold 10 10 SUF
143 373 M
('/') s
/F-gs-font 10 10 SF
161 373 M
(\), ) s
/Courier-Bold 10 10 SUF
179 373 M
("-") s
/F-gs-font 10 10 SF
197 373 M
(\);) s
5 362 M
(    file.replace\(QChar\() s
/Courier-Bold 10 10 SUF
143 362 M
('\\\\') s
/F-gs-font 10 10 SF
167 362 M
(\), ) s
/Courier-Bold 10 10 SUF
185 362 M
("-") s
/F-gs-font 10 10 SF
203 362 M
(\);) s
5 351 M
(    file.append\() s
/Courier-Bold 10 10 SUF
101 351 M
(".db") s
/F-gs-font 10 10 SF
131 351 M
(\);) s
5 340 M
(    ) s
5 329 M
(    ) s
/Courier-Bold 10 10 SUF
29 329 M
(if) s
/F-gs-font 10 10 SF
41 329 M
(\(connection->isOpen\(\)\) connection->close\(\);) s
5 318 M
(    connection->setDatabaseName\(clientPath + ) s
/Courier-Bold 10 10 SUF
275 318 M
("/") s
/F-gs-font 10 10 SF
293 318 M
( + file\);) s
5 307 M
(    ) s
/Courier-Bold 10 10 SUF
29 307 M
(if) s
/F-gs-font 10 10 SF
41 307 M
( \(!connection->open\(\)\)) s
5 296 M
(    {) s
5 285 M
(        connection->lastError\(\).showMessage\(\);) s
5 274 M
(        ) s
/Courier-Bold 10 10 SUF
53 274 M
(return) s
/F-gs-font 10 10 SF
89 274 M
( false;) s
5 263 M
(    }) s
5 252 M
(    ) s
5 241 M
(    curDb = file;) s
5 230 M
(    curClient = name;) s
5 219 M
(        ) s
5 208 M
(    QSqlQuery createMain\() s
/Courier-Bold 10 10 SUF
155 208 M
("CREATE TABLE main \(name, yearEnd\)") s
/F-gs-font 10 10 SF
365 208 M
(, connection\);) s
5 197 M
(    QSqlQuery createAccounts\() s
/Courier-Bold 10 10 SUF
179 197 M
("CREATE TABLE accounts \(key, id, desc, PRIMARY KEY \(key\)\)") s
/F-gs-font 10 10 SF
527 197 M
(, conne) s
5 186 M
(ction\);) s
5 175 M
(    QSqlQuery createAccountsIndex\() s
/Courier-Bold 10 10 SUF
209 175 M
("CREATE INDEX accountsIndex ON accounts \(id\)") s
/F-gs-font 10 10 SF
479 175 M
(, connection\);) s
5 164 M
(    QSqlQuery createJournal\() s
/Courier-Bold 10 10 SUF
173 164 M
("CREATE TABLE journal \(date, account, reference, ") s
/F-gs-font 10 10 SF
5 153 M
(            ) s
/Courier-Bold 10 10 SUF
77 153 M
("desc, debit, credit\)") s
/F-gs-font 10 10 SF
209 153 M
(, connection\);) s
5 142 M
(    QSqlQuery createJournalTmp\() s
/Courier-Bold 10 10 SUF
191 142 M
("CREATE TABLE journalTmp \(key, date, account, reference, ") s
/F-gs-font 10 10 SF
5 131 M
(            ) s
/Courier-Bold 10 10 SUF
77 131 M
("desc, debit, credit, PRIMARY KEY \(key\)\)") s
/F-gs-font 10 10 SF
323 131 M
(, connection\);) s
5 120 M
(    QSqlQuery createBalanceAssets\() s
/Courier-Bold 10 10 SUF
209 120 M
("CREATE TABLE balanceAssets \(key, type, desc, begin, end\)") s
/F-gs-font 10 10 SF
557 120 M
(, ) s
5 109 M
(connection\);) s
5 98 M
(    QSqlQuery createBalanceLiabilities\() s
/Courier-Bold 10 10 SUF
239 98 M
("CREATE TABLE balanceLiabilities \(key, type, desc, begi) s
5 87 M
(n, end\)") s
/F-gs-font 10 10 SF
53 87 M
(, connection\);) s
5 76 M
(    QSqlQuery createBalanceEquities\() s
/Courier-Bold 10 10 SUF
221 76 M
("CREATE TABLE balanceEquities \(key, type, desc, begin, end) s
5 65 M
(\)") s
/F-gs-font 10 10 SF
17 65 M
(, connection\);) s
5 54 M
(    QSqlQuery createIncomeSvcIncome\() s
/Courier-Bold 10 10 SUF
221 54 M
("CREATE TABLE incomeSvcIncome \(key, type, desc, begin, end) s
5 43 M
(\)") s
/F-gs-font 10 10 SF
17 43 M
(, connection\);) s
5 32 M
(    QSqlQuery createIncomeSvcExpenses\() s
/Courier-Bold 10 10 SUF
233 32 M
("CREATE TABLE incomeSvcExpenses \(key, type, desc, begin,) s
5 21 M
( end\)") s
/F-gs-font 10 10 SF
41 21 M
(, connection\);) s
5 10 M
(    QSqlQuery createIncomeRetailIncome\() s
/Courier-Bold 10 10 SUF
239 10 M
("CREATE TABLE incomeRetailIncome \(key, type, desc, begi) s
_R
S
%%Page: (4) 4
%%BeginPageSetup
_S
18 36 translate
/pagenum 4 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
/Courier-Bold 10 10 SUF
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (4) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(n, end\)") s
/F-gs-font 10 10 SF
53 692 M
(, connection\);) s
5 681 M
(    QSqlQuery createIncomeRetailCOS\() s
/Courier-Bold 10 10 SUF
221 681 M
("CREATE TABLE incomeRetailCOS \(key, type, desc, begin, end) s
5 670 M
(\)") s
/F-gs-font 10 10 SF
17 670 M
(, connection\);) s
5 659 M
(    QSqlQuery createIncomeRetailExpenses\() s
/Courier-Bold 10 10 SUF
251 659 M
("CREATE TABLE incomeRetailExpenses \(key, type, desc, ) s
5 648 M
(begin, end\)") s
/F-gs-font 10 10 SF
77 648 M
(, connection\);) s
5 637 M
(    ) s
5 626 M
(    QSqlQuery\() s
/Courier-Bold 10 10 SUF
89 626 M
("INSERT INTO main VALUES\(\\"") s
/F-gs-font 10 10 SF
257 626 M
( + name + ) s
/Courier-Bold 10 10 SUF
317 626 M
("\\", \\"") s
/F-gs-font 10 10 SF
365 626 M
( + yearEnd + ) s
/Courier-Bold 10 10 SUF
443 626 M
("\\"\)") s
/F-gs-font 10 10 SF
473 626 M
(, connection\);) s
5 615 M
(    ) s
5 604 M
(    ) s
/Courier-Bold 10 10 SUF
29 604 M
(return) s
/F-gs-font 10 10 SF
65 604 M
( true;) s
5 593 M
(}) s
/Courier-Bold 10 10 SUF
5 571 M
(void) s
/F-gs-font 10 10 SF
29 571 M
( ) s
/Courier-Bold 10 10 SUF
35 571 M
(Database::closeDb) s
/F-gs-font 10 10 SF
137 571 M
(\(\)) s
5 560 M
({) s
5 549 M
(    ) s
/Courier-Bold 10 10 SUF
29 549 M
(if) s
/F-gs-font 10 10 SF
41 549 M
(\(connection->isOpen\(\)\) connection->close\(\);) s
5 527 M
(    report->header = QString::null;) s
5 516 M
(    report->data = QString::null;) s
5 505 M
(    report->string = QString::null;) s
5 494 M
(    report->csv = QString::null;) s
5 483 M
(    report->html = QString::null;) s
5 461 M
(    journalTmpReport->header = QString::null;) s
5 450 M
(    journalTmpReport->data = QString::null;) s
5 428 M
(    ) s
/Courier-Bold 10 10 SUF
29 428 M
(if) s
/F-gs-font 10 10 SF
41 428 M
(\(curDb.right\(4\) == ) s
/Courier-Bold 10 10 SUF
155 428 M
(".db_") s
/F-gs-font 10 10 SF
191 428 M
(\)) s
5 417 M
(    {) s
5 406 M
(        remove\(QString\(clientPath + ) s
/Courier-Bold 10 10 SUF
221 406 M
("/") s
/F-gs-font 10 10 SF
239 406 M
( + curDb\)\);) s
5 395 M
(        remove\(QString\(clientPath + ) s
/Courier-Bold 10 10 SUF
221 395 M
("/") s
/F-gs-font 10 10 SF
239 395 M
( + curDb.left\(curDb.length\(\) - 1\)\)\);) s
5 384 M
(        curDb = curDb.left\(curDb.length\(\) - 1\).append\() s
/Courier-Bold 10 10 SUF
329 384 M
("x") s
/F-gs-font 10 10 SF
347 384 M
(\);) s
5 373 M
(    }) s
5 362 M
(}) s
/Courier-Bold 10 10 SUF
5 340 M
(void) s
/F-gs-font 10 10 SF
29 340 M
( ) s
/Courier-Bold 10 10 SUF
35 340 M
(Database::copyDb) s
/F-gs-font 10 10 SF
131 340 M
(\(QString file\) ) s
/Courier-Bold 10 10 SUF
221 340 M
(const) s
/F-gs-font 10 10 SF
5 329 M
({) s
5 318 M
(    QString origFile;) s
5 307 M
(    ) s
/Courier-Bold 10 10 SUF
29 307 M
(bool) s
/F-gs-font 10 10 SF
53 307 M
( encrypted;) s
5 296 M
(    ) s
/Courier-Bold 10 10 SUF
29 296 M
(if) s
/F-gs-font 10 10 SF
41 296 M
(\(curDb.right\(4\) == ) s
/Courier-Bold 10 10 SUF
155 296 M
(".db_") s
/F-gs-font 10 10 SF
191 296 M
(\)) s
5 285 M
(    {) s
5 274 M
(        encrypted = true;) s
5 263 M
(        origFile = curDb.left\(curDb.length\(\) - 1\).append\() s
/Courier-Bold 10 10 SUF
347 263 M
("x") s
/F-gs-font 10 10 SF
365 263 M
(\);) s
5 252 M
(    }) s
5 241 M
(    ) s
/Courier-Bold 10 10 SUF
29 241 M
(else) s
/F-gs-font 10 10 SF
5 230 M
(    {) s
5 219 M
(        encrypted = false;) s
5 208 M
(        origFile = curDb;) s
5 197 M
(    }) s
5 175 M
(    QFile origDb\(clientPath + ) s
/Courier-Bold 10 10 SUF
185 175 M
("/") s
/F-gs-font 10 10 SF
203 175 M
( + origFile\);) s
5 153 M
(    ) s
/Courier-Bold 10 10 SUF
29 153 M
(if) s
/F-gs-font 10 10 SF
41 153 M
(\(file.right\(3\) == ) s
/Courier-Bold 10 10 SUF
149 153 M
(".db") s
/F-gs-font 10 10 SF
179 153 M
( && encrypted\)) s
5 142 M
(        file = file.left\(file.length\(\) - 3\).append\() s
/Courier-Bold 10 10 SUF
311 142 M
(".dbx") s
/F-gs-font 10 10 SF
347 142 M
(\);) s
5 131 M
(    ) s
/Courier-Bold 10 10 SUF
29 131 M
(if) s
/F-gs-font 10 10 SF
41 131 M
(\(file.right\(4\) == ) s
/Courier-Bold 10 10 SUF
149 131 M
(".dbx") s
/F-gs-font 10 10 SF
185 131 M
( && !encrypted\)) s
5 120 M
(        file = file.left\(file.length\(\) - 4\).append\() s
/Courier-Bold 10 10 SUF
311 120 M
(".db") s
/F-gs-font 10 10 SF
341 120 M
(\);) s
5 109 M
(    ) s
/Courier-Bold 10 10 SUF
29 109 M
(if) s
/F-gs-font 10 10 SF
41 109 M
(\(file.right\(3\) != ) s
/Courier-Bold 10 10 SUF
149 109 M
(".db") s
/F-gs-font 10 10 SF
179 109 M
( && file.right\(4\) != ) s
/Courier-Bold 10 10 SUF
305 109 M
(".dbx") s
/F-gs-font 10 10 SF
341 109 M
( && encrypted\)) s
5 98 M
(        file = file.append\() s
/Courier-Bold 10 10 SUF
167 98 M
(".dbx") s
/F-gs-font 10 10 SF
203 98 M
(\);) s
5 87 M
(    ) s
/Courier-Bold 10 10 SUF
29 87 M
(if) s
/F-gs-font 10 10 SF
41 87 M
(\(file.right\(3\) != ) s
/Courier-Bold 10 10 SUF
149 87 M
(".db") s
/F-gs-font 10 10 SF
179 87 M
( && file.right\(4\) != ) s
/Courier-Bold 10 10 SUF
305 87 M
(".dbx") s
/F-gs-font 10 10 SF
341 87 M
( && !encrypted\)) s
5 76 M
(        file = file.append\() s
/Courier-Bold 10 10 SUF
167 76 M
(".db") s
/F-gs-font 10 10 SF
197 76 M
(\);) s
5 54 M
(    QFile newDb\(file\);) s
5 43 M
(    ) s
5 32 M
(    ) s
/Courier-Bold 10 10 SUF
29 32 M
(if) s
/F-gs-font 10 10 SF
41 32 M
(\( !origDb.open\(IO_ReadOnly | IO_Raw\) \)) s
5 21 M
(    {) s
5 10 M
(        qDebug\() s
/Courier-Bold 10 10 SUF
95 10 M
("origDb not open") s
/F-gs-font 10 10 SF
197 10 M
(\);) s
_R
S
%%Page: (5) 5
%%BeginPageSetup
_S
18 36 translate
/pagenum 5 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (5) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        qDebug\(origDb.errorString\(\)\);) s
5 681 M
(        ) s
/Courier-Bold 10 10 SUF
53 681 M
(return) s
/F-gs-font 10 10 SF
89 681 M
(;) s
5 670 M
(    }) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(if) s
/F-gs-font 10 10 SF
41 659 M
(\( !newDb.open\(IO_WriteOnly\) \)) s
5 648 M
(    {) s
5 637 M
(        qDebug\() s
/Courier-Bold 10 10 SUF
95 637 M
("newDb not open") s
/F-gs-font 10 10 SF
191 637 M
(\);) s
5 626 M
(        qDebug\(newDb.errorString\(\)\);) s
5 615 M
(        ) s
/Courier-Bold 10 10 SUF
53 615 M
(return) s
/F-gs-font 10 10 SF
89 615 M
(;) s
5 604 M
(    }) s
5 593 M
(    ) s
5 582 M
(    ) s
/Courier-Bold 10 10 SUF
29 582 M
(while) s
/F-gs-font 10 10 SF
59 582 M
(\(!origDb.atEnd\(\)\)) s
5 571 M
(        newDb.putch\(origDb.getch\(\)\);) s
5 560 M
(    ) s
5 549 M
(    newDb.close\(\);) s
5 538 M
(    origDb.close\(\);) s
5 527 M
(}) s
/Courier-Bold 10 10 SUF
5 505 M
(void) s
/F-gs-font 10 10 SF
29 505 M
( ) s
/Courier-Bold 10 10 SUF
35 505 M
(Database::encryptDb) s
/F-gs-font 10 10 SF
149 505 M
(\(QString password\)) s
5 494 M
({) s
5 483 M
(    system\(QString\(CRYPT_PATH + ) s
/Courier-Bold 10 10 SUF
197 483 M
("/aescrypt2 0 \\"") s
/F-gs-font 10 10 SF
299 483 M
( + clientPath + ) s
/Courier-Bold 10 10 SUF
395 483 M
("/") s
/F-gs-font 10 10 SF
413 483 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
479 483 M
("\\" \\"") s
/F-gs-font 10 10 SF
5 472 M
(            + clientPath + ) s
/Courier-Bold 10 10 SUF
167 472 M
("/") s
/F-gs-font 10 10 SF
185 472 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
251 472 M
("x2\\" \\"") s
/F-gs-font 10 10 SF
305 472 M
( + password + ) s
/Courier-Bold 10 10 SUF
389 472 M
("\\"") s
/F-gs-font 10 10 SF
413 472 M
(\).ascii\(\)\);) s
5 450 M
(    QFile encDb2\(clientPath + ) s
/Courier-Bold 10 10 SUF
185 450 M
("/") s
/F-gs-font 10 10 SF
203 450 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
269 450 M
("x2") s
/F-gs-font 10 10 SF
293 450 M
(\);) s
5 439 M
(    ) s
/Courier-Bold 10 10 SUF
29 439 M
(if) s
/F-gs-font 10 10 SF
41 439 M
(\(!encDb2.open\( IO_ReadOnly \)\)) s
5 428 M
(        ) s
/Courier-Bold 10 10 SUF
53 428 M
(return) s
/F-gs-font 10 10 SF
89 428 M
(;) s
5 417 M
(    QDataStream encStream2\(&encDb2\);) s
5 395 M
(    QFile encDb\(clientPath + ) s
/Courier-Bold 10 10 SUF
179 395 M
("/") s
/F-gs-font 10 10 SF
197 395 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
263 395 M
("x") s
/F-gs-font 10 10 SF
281 395 M
(\);) s
5 384 M
(    encDb.open\( IO_WriteOnly \);) s
5 373 M
(    QDataStream encStream\(&encDb\);) s
5 351 M
(    encStream << QString\() s
/Courier-Bold 10 10 SUF
155 351 M
("enc:") s
/F-gs-font 10 10 SF
191 351 M
( + curClient\).ascii\(\);) s
5 329 M
(    ) s
/Courier-Bold 10 10 SUF
29 329 M
(char) s
/F-gs-font 10 10 SF
53 329 M
( *byte = ) s
/Courier-Bold 10 10 SUF
107 329 M
(new) s
/F-gs-font 10 10 SF
125 329 M
( ) s
/Courier-Bold 10 10 SUF
131 329 M
(char) s
/F-gs-font 10 10 SF
155 329 M
(;) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(while) s
/F-gs-font 10 10 SF
59 318 M
(\(!encStream2.atEnd\(\)\)) s
5 307 M
(    {) s
5 296 M
(        encStream2.readRawBytes\(byte, 1\);) s
5 285 M
(        encStream.writeRawBytes\(byte, 1\);) s
5 274 M
(    }) s
5 263 M
(    ) s
/Courier-Bold 10 10 SUF
29 263 M
(delete) s
/F-gs-font 10 10 SF
65 263 M
( byte;) s
5 241 M
(    encStream.unsetDevice\(\);) s
5 230 M
(    encDb.close\(\);) s
5 219 M
(    encStream2.unsetDevice\(\);) s
5 208 M
(    encDb2.close\(\);) s
5 186 M
(    remove\(QString\(clientPath + ) s
/Courier-Bold 10 10 SUF
197 186 M
("/") s
/F-gs-font 10 10 SF
215 186 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
281 186 M
("x2") s
/F-gs-font 10 10 SF
305 186 M
(\).ascii\(\)\);) s
5 164 M
(    QString oldCurDb = curDb;) s
5 142 M
(    openNew\(curClient, password\);) s
5 120 M
(    remove\(QString\(clientPath + ) s
/Courier-Bold 10 10 SUF
197 120 M
("/") s
/F-gs-font 10 10 SF
215 120 M
( + oldCurDb\).ascii\(\)\);) s
5 109 M
(}) s
/Courier-Bold 10 10 SUF
5 87 M
(void) s
/F-gs-font 10 10 SF
29 87 M
( ) s
/Courier-Bold 10 10 SUF
35 87 M
(Database::decryptDb) s
/F-gs-font 10 10 SF
149 87 M
(\(\)) s
5 76 M
({) s
5 65 M
(    QFile origDb\(clientPath + ) s
/Courier-Bold 10 10 SUF
185 65 M
("/") s
/F-gs-font 10 10 SF
203 65 M
( + curDb\);) s
5 43 M
(    curDb.truncate\(curDb.length\(\) - 4\);) s
5 21 M
(    QFile newDb\(clientPath + ) s
/Courier-Bold 10 10 SUF
179 21 M
("/") s
/F-gs-font 10 10 SF
197 21 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
263 21 M
(".db") s
/F-gs-font 10 10 SF
293 21 M
(\);) s
_R
S
%%Page: (6) 6
%%BeginPageSetup
_S
18 36 translate
/pagenum 6 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (6) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    ) s
/Courier-Bold 10 10 SUF
29 692 M
(if) s
/F-gs-font 10 10 SF
41 692 M
(\( !origDb.open\(IO_ReadOnly | IO_Raw\) \)) s
5 681 M
(    {) s
5 670 M
(        qDebug\() s
/Courier-Bold 10 10 SUF
95 670 M
("origDb not open") s
/F-gs-font 10 10 SF
197 670 M
(\);) s
5 659 M
(        qDebug\(origDb.errorString\(\)\);) s
5 648 M
(        ) s
/Courier-Bold 10 10 SUF
53 648 M
(return) s
/F-gs-font 10 10 SF
89 648 M
(;) s
5 637 M
(    }) s
5 626 M
(    ) s
/Courier-Bold 10 10 SUF
29 626 M
(if) s
/F-gs-font 10 10 SF
41 626 M
(\( !newDb.open\(IO_WriteOnly\) \)) s
5 615 M
(    {) s
5 604 M
(        qDebug\() s
/Courier-Bold 10 10 SUF
95 604 M
("newDb not open") s
/F-gs-font 10 10 SF
191 604 M
(\);) s
5 593 M
(        qDebug\(newDb.errorString\(\)\);) s
5 582 M
(        ) s
/Courier-Bold 10 10 SUF
53 582 M
(return) s
/F-gs-font 10 10 SF
89 582 M
(;) s
5 571 M
(    }) s
5 560 M
(    ) s
5 549 M
(    ) s
/Courier-Bold 10 10 SUF
29 549 M
(while) s
/F-gs-font 10 10 SF
59 549 M
(\(!origDb.atEnd\(\)\)) s
5 538 M
(        newDb.putch\(origDb.getch\(\)\);) s
5 527 M
(    ) s
5 516 M
(    newDb.close\(\);) s
5 505 M
(    origDb.close\(\);) s
5 483 M
(    remove\(clientPath + ) s
/Courier-Bold 10 10 SUF
149 483 M
("/") s
/F-gs-font 10 10 SF
167 483 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
233 483 M
(".db_") s
/F-gs-font 10 10 SF
269 483 M
(\);) s
5 472 M
(    remove\(clientPath + ) s
/Courier-Bold 10 10 SUF
149 472 M
("/") s
/F-gs-font 10 10 SF
167 472 M
( + curDb + ) s
/Courier-Bold 10 10 SUF
233 472 M
(".dbx") s
/F-gs-font 10 10 SF
269 472 M
(\);) s
5 450 M
(    curDb.append\() s
/Courier-Bold 10 10 SUF
107 450 M
(".db") s
/F-gs-font 10 10 SF
137 450 M
(\);) s
5 439 M
(}) s
/Courier-Bold 10 10 SUF
5 417 M
(bool) s
/F-gs-font 10 10 SF
29 417 M
( ) s
/Courier-Bold 10 10 SUF
35 417 M
(Database::isEncrypted) s
/F-gs-font 10 10 SF
161 417 M
(\(\) ) s
/Courier-Bold 10 10 SUF
179 417 M
(const) s
/F-gs-font 10 10 SF
5 406 M
({) s
5 395 M
(    ) s
/Courier-Bold 10 10 SUF
29 395 M
(if) s
/F-gs-font 10 10 SF
41 395 M
(\(curDb.right\(4\) == ) s
/Courier-Bold 10 10 SUF
155 395 M
(".db_") s
/F-gs-font 10 10 SF
191 395 M
(\)) s
5 384 M
(        ) s
/Courier-Bold 10 10 SUF
53 384 M
(return) s
/F-gs-font 10 10 SF
89 384 M
( true;) s
5 373 M
(    ) s
/Courier-Bold 10 10 SUF
29 373 M
(else) s
/F-gs-font 10 10 SF
5 362 M
(        ) s
/Courier-Bold 10 10 SUF
53 362 M
(return) s
/F-gs-font 10 10 SF
89 362 M
( false;) s
5 351 M
(}) s
/Courier-Bold 10 10 SUF
5 329 M
(void) s
/F-gs-font 10 10 SF
29 329 M
( ) s
/Courier-Bold 10 10 SUF
35 329 M
(Database::importDb) s
/F-gs-font 10 10 SF
143 329 M
(\(QString file\) ) s
/Courier-Bold 10 10 SUF
233 329 M
(const) s
/F-gs-font 10 10 SF
5 318 M
({) s
5 307 M
(    QRegExp regexp\() s
/Courier-Bold 10 10 SUF
119 307 M
("[\\\\/\\\\\\\\]\([^\\\\/\\\\\\\\]*\)\(\\\\.dbx?\)$") s
/F-gs-font 10 10 SF
323 307 M
(\);) s
5 296 M
(    regexp.search\(file\);) s
5 274 M
(    QString ext = regexp.cap\(2\);) s
5 252 M
(    QString newFile = clientPath + ) s
/Courier-Bold 10 10 SUF
215 252 M
("/") s
/F-gs-font 10 10 SF
233 252 M
( + regexp.cap\(1\);) s
5 230 M
(    QFile origDb\(file\);) s
5 208 M
(    QFile newDb\(newFile + ext\);) s
5 186 M
(    ) s
/Courier-Bold 10 10 SUF
29 186 M
(int) s
/F-gs-font 10 10 SF
47 186 M
( i = 0;) s
5 175 M
(    ) s
/Courier-Bold 10 10 SUF
29 175 M
(while) s
/F-gs-font 10 10 SF
59 175 M
(\(newDb.exists\(\)\)) s
5 164 M
(        newDb.setName\(newFile + QString::number\(i++\) + ext\);) s
5 142 M
(    ) s
/Courier-Bold 10 10 SUF
29 142 M
(if) s
/F-gs-font 10 10 SF
41 142 M
(\( !origDb.open\(IO_ReadOnly | IO_Raw\) \)) s
5 131 M
(    {) s
5 120 M
(        qDebug\() s
/Courier-Bold 10 10 SUF
95 120 M
("origDb not open") s
/F-gs-font 10 10 SF
197 120 M
(\);) s
5 109 M
(        qDebug\(origDb.errorString\(\)\);) s
5 98 M
(        ) s
/Courier-Bold 10 10 SUF
53 98 M
(return) s
/F-gs-font 10 10 SF
89 98 M
(;) s
5 87 M
(    }) s
5 76 M
(    ) s
/Courier-Bold 10 10 SUF
29 76 M
(if) s
/F-gs-font 10 10 SF
41 76 M
(\( !newDb.open\(IO_WriteOnly\) \)) s
5 65 M
(    {) s
5 54 M
(        qDebug\() s
/Courier-Bold 10 10 SUF
95 54 M
("newDb not open") s
/F-gs-font 10 10 SF
191 54 M
(\);) s
5 43 M
(        qDebug\(newDb.errorString\(\)\);) s
5 32 M
(        ) s
/Courier-Bold 10 10 SUF
53 32 M
(return) s
/F-gs-font 10 10 SF
89 32 M
(;) s
5 21 M
(    }) s
5 10 M
(    ) s
_R
S
%%Page: (7) 7
%%BeginPageSetup
_S
18 36 translate
/pagenum 7 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (7) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    ) s
/Courier-Bold 10 10 SUF
29 692 M
(while) s
/F-gs-font 10 10 SF
59 692 M
(\(!origDb.atEnd\(\)\)) s
5 681 M
(        newDb.putch\(origDb.getch\(\)\);) s
5 670 M
(    ) s
5 659 M
(    newDb.close\(\);) s
5 648 M
(    origDb.close\(\);) s
5 637 M
(}) s
/Courier-Bold 10 10 SUF
5 615 M
(void) s
/F-gs-font 10 10 SF
29 615 M
( ) s
/Courier-Bold 10 10 SUF
35 615 M
(Database::editName) s
/F-gs-font 10 10 SF
143 615 M
(\(QString name\)) s
5 604 M
({) s
5 593 M
(    ) s
/Courier-Bold 10 10 SUF
29 593 M
(if) s
/F-gs-font 10 10 SF
41 593 M
(\(!connection->open\(\)\)) s
5 582 M
(    {) s
5 571 M
(        connection->lastError\(\).showMessage\(\);) s
5 560 M
(        ) s
/Courier-Bold 10 10 SUF
53 560 M
(return) s
/F-gs-font 10 10 SF
89 560 M
(;) s
5 549 M
(    }) s
5 538 M
(    ) s
5 527 M
(    QSqlQuery update\() s
/Courier-Bold 10 10 SUF
131 527 M
("UPDATE main SET name = '") s
/F-gs-font 10 10 SF
287 527 M
( + name + ) s
/Courier-Bold 10 10 SUF
347 527 M
("'") s
/F-gs-font 10 10 SF
365 527 M
(, connection\);) s
5 516 M
(    curClient = name;) s
5 505 M
(}) s
5 483 M
(QString ) s
/Courier-Bold 10 10 SUF
53 483 M
(Database::getCurDb) s
/F-gs-font 10 10 SF
161 483 M
(\(\) ) s
/Courier-Bold 10 10 SUF
179 483 M
(const) s
/F-gs-font 10 10 SF
5 472 M
({) s
5 461 M
(    ) s
/Courier-Bold 10 10 SUF
29 461 M
(return) s
/F-gs-font 10 10 SF
65 461 M
( curDb;) s
5 450 M
(}) s
5 428 M
(QString ) s
/Courier-Bold 10 10 SUF
53 428 M
(Database::getCurClient) s
/F-gs-font 10 10 SF
185 428 M
(\(\) ) s
/Courier-Bold 10 10 SUF
203 428 M
(const) s
/F-gs-font 10 10 SF
5 417 M
({) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(return) s
/F-gs-font 10 10 SF
65 406 M
( curClient;) s
5 395 M
(}) s
/Courier-Bold 10 10 SUF
5 373 M
(bool) s
/F-gs-font 10 10 SF
29 373 M
( ) s
/Courier-Bold 10 10 SUF
35 373 M
(Database::curClientExists) s
/F-gs-font 10 10 SF
185 373 M
(\(\) ) s
/Courier-Bold 10 10 SUF
203 373 M
(const) s
/F-gs-font 10 10 SF
5 362 M
({) s
5 351 M
(    QFile file\(clientPath + ) s
/Courier-Bold 10 10 SUF
173 351 M
("/") s
/F-gs-font 10 10 SF
191 351 M
( + curDb\);) s
5 340 M
(    ) s
/Courier-Bold 10 10 SUF
29 340 M
(if) s
/F-gs-font 10 10 SF
41 340 M
(\(file.exists\(\)\)) s
5 329 M
(        ) s
/Courier-Bold 10 10 SUF
53 329 M
(return) s
/F-gs-font 10 10 SF
89 329 M
( true;) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(else) s
/F-gs-font 10 10 SF
5 307 M
(        ) s
/Courier-Bold 10 10 SUF
53 307 M
(return) s
/F-gs-font 10 10 SF
89 307 M
( false;) s
5 296 M
(}) s
5 274 M
(QStringList ) s
/Courier-Bold 10 10 SUF
77 274 M
(Database::getClientList) s
/F-gs-font 10 10 SF
215 274 M
(\(\) ) s
/Courier-Bold 10 10 SUF
233 274 M
(const) s
/F-gs-font 10 10 SF
5 263 M
({) s
5 252 M
(    QStringList list;) s
5 241 M
(    ) s
5 230 M
(#) s
/Courier-Bold 10 10 SUF
11 230 M
(ifdef) s
/F-gs-font 10 10 SF
41 230 M
( ) s
/Courier-Bold 10 10 SUF
47 230 M
(Q_WS_WIN) s
/F-gs-font 10 10 SF
5 219 M
(        QSqlDatabase *connectionTemp = QSqlDatabase::addDatabase\() s
/Courier-Bold 10 10 SUF
395 219 M
("QSQLITEX") s
/F-gs-font 10 10 SF
455 219 M
(, ) s
/Courier-Bold 10 10 SUF
467 219 M
("temp") s
/F-gs-font 10 10 SF
503 219 M
(\);) s
5 208 M
(#) s
/Courier-Bold 10 10 SUF
11 208 M
(else) s
/F-gs-font 10 10 SF
5 197 M
(        QSqlDatabase *connectionTemp = QSqlDatabase::addDatabase\() s
/Courier-Bold 10 10 SUF
395 197 M
("QSQLITE") s
/F-gs-font 10 10 SF
449 197 M
(, ) s
/Courier-Bold 10 10 SUF
461 197 M
("temp") s
/F-gs-font 10 10 SF
497 197 M
(\);) s
5 186 M
(#) s
/Courier-Bold 10 10 SUF
11 186 M
(endif) s
/F-gs-font 10 10 SF
41 186 M
( ) s
5 175 M
(    ) s
5 164 M
(    QDir dir\(clientPath\);) s
5 153 M
(    ) s
/Courier-Bold 10 10 SUF
29 153 M
(QStringList) s
/F-gs-font 10 10 SF
95 153 M
(::Iterator it;) s
5 142 M
(    QStringList files = dir.entryList\() s
/Courier-Bold 10 10 SUF
233 142 M
("*.db") s
/F-gs-font 10 10 SF
269 142 M
(, QDir::Files\);) s
5 131 M
(    it = files.begin\(\);) s
5 120 M
(    ) s
/Courier-Bold 10 10 SUF
29 120 M
(while) s
/F-gs-font 10 10 SF
59 120 M
(\(it != files.end\(\)\)) s
5 109 M
(    {) s
5 98 M
(        connectionTemp->setDatabaseName\(clientPath + ) s
/Courier-Bold 10 10 SUF
323 98 M
("/") s
/F-gs-font 10 10 SF
341 98 M
( + *it\);) s
5 87 M
(        ) s
/Courier-Bold 10 10 SUF
53 87 M
(if) s
/F-gs-font 10 10 SF
65 87 M
(\(connectionTemp->open\(\)\)) s
5 76 M
(        {) s
5 65 M
(            QSqlQuery query\() s
/Courier-Bold 10 10 SUF
173 65 M
("SELECT name FROM main") s
/F-gs-font 10 10 SF
311 65 M
(, connectionTemp\);) s
5 54 M
(            ) s
/Courier-Bold 10 10 SUF
77 54 M
(if) s
/F-gs-font 10 10 SF
89 54 M
(\(query.next\(\)\)) s
5 43 M
(                list << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 43 M
("    \(") s
/F-gs-font 10 10 SF
365 43 M
( + *it + ) s
/Courier-Bold 10 10 SUF
419 43 M
("\)") s
/F-gs-font 10 10 SF
437 43 M
(\);) s
5 32 M
(            connectionTemp->close\(\);) s
5 21 M
(        }) s
5 10 M
(        ++it;) s
_R
S
%%Page: (8) 8
%%BeginPageSetup
_S
18 36 translate
/pagenum 8 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (8) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    }) s
5 670 M
(    QFile encDb;) s
5 659 M
(    QDataStream encStream;) s
5 637 M
(    files = dir.entryList\() s
/Courier-Bold 10 10 SUF
161 637 M
("*.dbx") s
/F-gs-font 10 10 SF
203 637 M
(, QDir::Files\);) s
5 626 M
(    it = files.begin\(\);) s
5 615 M
(    ) s
/Courier-Bold 10 10 SUF
29 615 M
(while) s
/F-gs-font 10 10 SF
59 615 M
(\(it != files.end\(\)\)) s
5 604 M
(    {) s
5 593 M
(        encDb.setName\(clientPath + ) s
/Courier-Bold 10 10 SUF
215 593 M
("/") s
/F-gs-font 10 10 SF
233 593 M
( + *it\);) s
5 582 M
(        encDb.open\( IO_ReadOnly \);) s
5 571 M
(        encStream.setDevice\(&encDb\);) s
5 549 M
(        ) s
/Courier-Bold 10 10 SUF
53 549 M
(char) s
/F-gs-font 10 10 SF
77 549 M
( *string;) s
5 538 M
(        encStream >> string;) s
5 527 M
(        QString qstring\(string\);) s
5 505 M
(        ) s
/Courier-Bold 10 10 SUF
53 505 M
(if) s
/F-gs-font 10 10 SF
65 505 M
(\(qstring.startsWith\() s
/Courier-Bold 10 10 SUF
185 505 M
("enc:") s
/F-gs-font 10 10 SF
221 505 M
(\)\)) s
5 494 M
(            list << \(qstring.mid\(4\) + ) s
/Courier-Bold 10 10 SUF
233 494 M
("    \(") s
/F-gs-font 10 10 SF
275 494 M
( + *it + ) s
/Courier-Bold 10 10 SUF
329 494 M
("\)") s
/F-gs-font 10 10 SF
347 494 M
(\);) s
5 472 M
(        ) s
/Courier-Bold 10 10 SUF
53 472 M
(delete) s
/F-gs-font 10 10 SF
89 472 M
( string;) s
5 461 M
(        encStream.unsetDevice\(\);) s
5 450 M
(        encDb.close\(\);) s
5 439 M
(        ++it;) s
5 428 M
(    }) s
5 417 M
(    ) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(return) s
/F-gs-font 10 10 SF
65 406 M
( list;) s
5 395 M
(}) s
/Courier-Bold 10 10 SUF
5 373 M
(void) s
/F-gs-font 10 10 SF
29 373 M
( ) s
/Courier-Bold 10 10 SUF
35 373 M
(Database::exportCSV) s
/F-gs-font 10 10 SF
149 373 M
(\(QString table, QString file\) ) s
/Courier-Bold 10 10 SUF
329 373 M
(const) s
/F-gs-font 10 10 SF
5 362 M
({) s
5 351 M
(    ) s
/Courier-Bold 10 10 SUF
29 351 M
(if) s
/F-gs-font 10 10 SF
41 351 M
(\(file.right\(4\) != ) s
/Courier-Bold 10 10 SUF
149 351 M
(".csv") s
/F-gs-font 10 10 SF
185 351 M
(\)) s
5 340 M
(        file.append\() s
/Courier-Bold 10 10 SUF
125 340 M
(".csv") s
/F-gs-font 10 10 SF
161 340 M
(\);) s
5 318 M
(    QFile destFile\(file\);) s
5 307 M
(    ) s
5 296 M
(    ) s
/Courier-Bold 10 10 SUF
29 296 M
(if) s
/F-gs-font 10 10 SF
41 296 M
(\(destFile.open\(IO_WriteOnly\)\)) s
5 285 M
(    {) s
5 274 M
(        QTextStream destStream\(&destFile\);) s
5 263 M
(        ) s
5 252 M
(        QSqlQuery query\() s
/Courier-Bold 10 10 SUF
149 252 M
("SELECT * FROM ") s
/F-gs-font 10 10 SF
245 252 M
( + table\);) s
5 241 M
(        ) s
5 230 M
(        ) s
/Courier-Bold 10 10 SUF
53 230 M
(if) s
/F-gs-font 10 10 SF
65 230 M
(\(table == ) s
/Courier-Bold 10 10 SUF
125 230 M
("accounts") s
/F-gs-font 10 10 SF
185 230 M
(\)) s
5 219 M
(        {) s
5 208 M
(            destStream << ) s
/Courier-Bold 10 10 SUF
161 208 M
("Account ID,Account Description\\n") s
/F-gs-font 10 10 SF
365 208 M
(;) s
5 197 M
(        ) s
5 186 M
(            ) s
/Courier-Bold 10 10 SUF
77 186 M
(while) s
/F-gs-font 10 10 SF
107 186 M
(\(query.next\(\)\)) s
5 175 M
(                destStream << query.value\(1\).toString\(\) << ) s
/Courier-Bold 10 10 SUF
359 175 M
(",") s
/F-gs-font 10 10 SF
377 175 M
( << query.value\(2\).toString\(\) <<) s
5 164 M
( ) s
/Courier-Bold 10 10 SUF
11 164 M
("\\n") s
/F-gs-font 10 10 SF
35 164 M
(;) s
5 153 M
(        }) s
5 142 M
(        ) s
/Courier-Bold 10 10 SUF
53 142 M
(if) s
/F-gs-font 10 10 SF
65 142 M
(\(table == ) s
/Courier-Bold 10 10 SUF
125 142 M
("journalTmp") s
/F-gs-font 10 10 SF
197 142 M
(\)) s
5 131 M
(        {) s
5 120 M
(            destStream << ) s
/Courier-Bold 10 10 SUF
161 120 M
("Date,Account,Reference,Description,Debit,Credit\\n") s
/F-gs-font 10 10 SF
467 120 M
(;) s
5 109 M
(            ) s
5 98 M
(            ) s
/Courier-Bold 10 10 SUF
77 98 M
(while) s
/F-gs-font 10 10 SF
107 98 M
(\(query.next\(\)\)) s
5 87 M
(            {) s
5 76 M
(                destStream << query.value\(1\).toString\(\) << ) s
/Courier-Bold 10 10 SUF
359 76 M
(",") s
/F-gs-font 10 10 SF
377 76 M
( << query.value\(2\).toString\(\) <<) s
5 65 M
( ) s
/Courier-Bold 10 10 SUF
11 65 M
(",") s
/F-gs-font 10 10 SF
5 54 M
(                        << query.value\(3\).toString\(\) << ) s
/Courier-Bold 10 10 SUF
341 54 M
(",") s
/F-gs-font 10 10 SF
359 54 M
( << query.value\(4\).toString\(\) << ) s
/Courier-Bold 10 10 SUF
557 54 M
(",) s
5 43 M
(") s
/F-gs-font 10 10 SF
5 32 M
(                        << query.value\(5\).toString\(\) << ) s
/Courier-Bold 10 10 SUF
341 32 M
(",") s
/F-gs-font 10 10 SF
359 32 M
( << query.value\(6\).toString\(\) << ) s
/Courier-Bold 10 10 SUF
557 32 M
("\\) s
5 21 M
(n") s
/F-gs-font 10 10 SF
17 21 M
(;) s
5 10 M
(            }) s
_R
S
%%Page: (9) 9
%%BeginPageSetup
_S
18 36 translate
/pagenum 9 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (9) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        }) s
5 681 M
(    }) s
5 670 M
(    destFile.close\(\);) s
5 659 M
(}) s
/Courier-Bold 10 10 SUF
5 637 M
(void) s
/F-gs-font 10 10 SF
29 637 M
( ) s
/Courier-Bold 10 10 SUF
35 637 M
(Database::importCSV) s
/F-gs-font 10 10 SF
149 637 M
(\(QString table, QString file\)) s
5 626 M
({) s
5 615 M
(    QFile origFile\(file\);) s
5 604 M
(    ) s
5 593 M
(    ) s
/Courier-Bold 10 10 SUF
29 593 M
(if) s
/F-gs-font 10 10 SF
41 593 M
(\(origFile.open\(IO_ReadOnly\)\)) s
5 582 M
(    {) s
5 571 M
(        QTextStream origStream\(&origFile\);) s
5 560 M
(        QStringList data;) s
5 549 M
(        QPtrList<QStringList> values;) s
5 538 M
(        QStringList *list;) s
5 527 M
(        ) s
5 516 M
(        ) s
/Courier-Bold 10 10 SUF
53 516 M
(int) s
/F-gs-font 10 10 SF
71 516 M
( i = 0;) s
5 505 M
(        QString line;) s
5 494 M
(        ) s
/Courier-Bold 10 10 SUF
53 494 M
(while) s
/F-gs-font 10 10 SF
83 494 M
(\(!origStream.atEnd\(\)\)) s
5 483 M
(        {) s
5 472 M
(            line = origStream.readLine\(\);) s
5 461 M
(            data << line;) s
5 450 M
(            ) s
5 439 M
(            ) s
/Courier-Bold 10 10 SUF
77 439 M
(if) s
/F-gs-font 10 10 SF
89 439 M
(\(i < 3\)) s
5 428 M
(            {) s
5 417 M
(                list = ) s
/Courier-Bold 10 10 SUF
143 417 M
(new) s
/F-gs-font 10 10 SF
161 417 M
( QStringList\(QStringList::split\() s
/Courier-Bold 10 10 SUF
353 417 M
(",") s
/F-gs-font 10 10 SF
371 417 M
(, line\)\);) s
5 406 M
(                values.append\(list\);) s
5 395 M
(            }) s
5 384 M
(            i++;) s
5 373 M
(        }) s
5 362 M
(        ) s
5 351 M
(        ) s
/Courier-Bold 10 10 SUF
53 351 M
(if) s
/F-gs-font 10 10 SF
65 351 M
(\(!values.isEmpty\(\)\)) s
5 340 M
(        {) s
5 329 M
(            QDialog dialog;) s
5 318 M
(            dialog.setCaption\() s
/Courier-Bold 10 10 SUF
185 318 M
("Import CSV Data") s
/F-gs-font 10 10 SF
287 318 M
(\);) s
5 307 M
(            ) s
5 296 M
(            QVBoxLayout vBoxLayout\(&dialog\);) s
5 285 M
(            vBoxLayout.setMargin\(5\);) s
5 274 M
(            vBoxLayout.setSpacing\(5\);) s
5 263 M
(            ) s
5 252 M
(            QLabel label\() s
/Courier-Bold 10 10 SUF
155 252 M
("<nobr>The first three records of the file are shown.</nobr><br>") s
/F-gs-font 10 10 SF
5 241 M
(                    ) s
/Courier-Bold 10 10 SUF
125 241 M
("<nobr>Choose whether the first record is a header or data.</nobr>") s
/F-gs-font 10 10 SF
527 241 M
(, &dial) s
5 230 M
(og\);) s
5 219 M
(            ) s
5 208 M
(            QTable dataTable\(3, values.first\(\)->count\(\), &dialog\);) s
5 197 M
(            dataTable.setLeftMargin\(0\);) s
5 186 M
(            dataTable.setTopMargin\(0\);) s
5 175 M
(            dataTable.setSelectionMode\(QTable::SingleRow\);) s
5 164 M
(            dataTable.setFocusStyle\(QTable::FollowStyle\);) s
5 153 M
(            ) s
5 142 M
(            ) s
/Courier-Bold 10 10 SUF
77 142 M
(int) s
/F-gs-font 10 10 SF
95 142 M
( row = 0;) s
5 131 M
(            ) s
/Courier-Bold 10 10 SUF
77 131 M
(int) s
/F-gs-font 10 10 SF
95 131 M
( col = 0;) s
5 120 M
(            ) s
/Courier-Bold 10 10 SUF
77 120 M
(for) s
/F-gs-font 10 10 SF
95 120 M
(\(list = values.first\(\); list; list = values.next\(\)\)) s
5 109 M
(            {) s
5 98 M
(                col = 0;) s
5 87 M
(                ) s
/Courier-Bold 10 10 SUF
101 87 M
(for) s
/F-gs-font 10 10 SF
119 87 M
(\(QStringList::Iterator it = list->begin\(\); it != list->end\(\); it++\)) s
5 76 M
(                {) s
5 65 M
(                    dataTable.setItem\(row, col, ) s
/Courier-Bold 10 10 SUF
293 65 M
(new) s
/F-gs-font 10 10 SF
311 65 M
( QTableItem\(&dataTable, QTableItem::Never, ) s
5 54 M
(*it\)\);) s
5 43 M
(                    col++;) s
5 32 M
(                }) s
5 21 M
(                row++;) s
5 10 M
(            }) s
_R
S
%%Page: (10) 10
%%BeginPageSetup
_S
18 36 translate
/pagenum 10 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (10) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(            dataTable.setColumnStretchable\(\(col - 1\), true\);) s
5 681 M
(            dataTable.selectRow\(0\);) s
5 670 M
(            ) s
5 659 M
(            QVButtonGroup buttonGroup\(&dialog\);) s
5 648 M
(            QRadioButton headerButton\() s
/Courier-Bold 10 10 SUF
233 648 M
("The first record is a header") s
/F-gs-font 10 10 SF
413 648 M
(, &buttonGroup\);) s
5 637 M
(            headerButton.setChecked\(true\);) s
5 626 M
(            QRadioButton dataButton\() s
/Courier-Bold 10 10 SUF
221 626 M
("The first record is data") s
/F-gs-font 10 10 SF
377 626 M
(, &buttonGroup\);) s
5 615 M
(        ) s
5 604 M
(            QFrame okCancelFrame\(&dialog\);) s
5 593 M
(            QHBoxLayout okCancelLayout\(&okCancelFrame\);) s
5 582 M
(            okCancelLayout.setSpacing\(5\);) s
5 571 M
(        ) s
5 560 M
(            QPushButton okButton\(QIconSet\(QPixmap::fromMimeSource\(ICON_PATH + ) s
/Courier-Bold 10 10 SUF
473 560 M
("/okButton.png") s
/F-gs-font 10 10 SF
563 560 M
(\)) s
5 549 M
(\),) s
5 538 M
(                                 ) s
/Courier-Bold 10 10 SUF
203 538 M
("OK") s
/F-gs-font 10 10 SF
227 538 M
(, &okCancelFrame\);) s
5 527 M
(            connect\(&okButton, SIGNAL\(clicked\(\)\), &dialog, SLOT\(accept\(\)\)\);) s
5 516 M
(            QPushButton cancelButton\(QIconSet\(QPixmap::fromMimeSource\(ICON_PATH + ) s
/Courier-Bold 10 10 SUF
497 516 M
("/cancelButt) s
5 505 M
(on.png") s
/F-gs-font 10 10 SF
47 505 M
(\)\),) s
5 494 M
(                                     ) s
/Courier-Bold 10 10 SUF
227 494 M
("Cancel") s
/F-gs-font 10 10 SF
275 494 M
(, &okCancelFrame\);) s
5 483 M
(            connect\(&cancelButton, SIGNAL\(clicked\(\)\), &dialog, SLOT\(reject\(\)\)\);) s
5 472 M
(            ) s
5 461 M
(            okCancelLayout.addStretch\(\);) s
5 450 M
(            okCancelLayout.addWidget\(&okButton\);) s
5 439 M
(            okCancelLayout.addWidget\(&cancelButton\);) s
5 428 M
(        ) s
5 417 M
(            vBoxLayout.addWidget\(&label\);) s
5 406 M
(            vBoxLayout.addWidget\(&dataTable\);) s
5 395 M
(            vBoxLayout.addWidget\(&buttonGroup\);) s
5 384 M
(            vBoxLayout.addSpacing\(10\);) s
5 373 M
(            vBoxLayout.addWidget\(&okCancelFrame\);) s
5 362 M
(            ) s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
(if) s
/F-gs-font 10 10 SF
89 351 M
(\(dialog.exec\(\)\)) s
5 340 M
(            {) s
5 329 M
(                QSqlQuery query\() s
/Courier-Bold 10 10 SUF
197 329 M
("SELECT key FROM ") s
/F-gs-font 10 10 SF
305 329 M
( + table, connection\);) s
5 318 M
(                ) s
/Courier-Bold 10 10 SUF
101 318 M
(int) s
/F-gs-font 10 10 SF
119 318 M
( key = 0;) s
5 307 M
(                ) s
/Courier-Bold 10 10 SUF
101 307 M
(while) s
/F-gs-font 10 10 SF
131 307 M
(\(query.next\(\)\)) s
5 296 M
(                {) s
5 285 M
(                    ) s
/Courier-Bold 10 10 SUF
125 285 M
(if) s
/F-gs-font 10 10 SF
137 285 M
(\(key < query.value\(0\).toInt\(\)\)) s
5 274 M
(                        key = query.value\(0\).toInt\(\);) s
5 263 M
(                }) s
5 252 M
(                key++;) s
5 241 M
(                ) s
5 230 M
(                ) s
/Courier-Bold 10 10 SUF
101 230 M
(int) s
/F-gs-font 10 10 SF
119 230 M
( firstLine;) s
5 219 M
(                ) s
/Courier-Bold 10 10 SUF
101 219 M
(if) s
/F-gs-font 10 10 SF
113 219 M
(\(headerButton.isChecked\(\)\)) s
5 208 M
(                    firstLine = 1;) s
5 197 M
(                ) s
/Courier-Bold 10 10 SUF
101 197 M
(else) s
/F-gs-font 10 10 SF
5 186 M
(                    firstLine = 0;) s
5 175 M
(                ) s
5 164 M
(                ) s
/Courier-Bold 10 10 SUF
101 164 M
(int) s
/F-gs-font 10 10 SF
119 164 M
( curLine = 0;) s
5 153 M
(                ) s
/Courier-Bold 10 10 SUF
101 153 M
(for) s
/F-gs-font 10 10 SF
119 153 M
(\(QStringList::Iterator it = data.begin\(\); it != data.end\(\); it++\)) s
5 142 M
(                {) s
5 131 M
(                    ) s
/Courier-Bold 10 10 SUF
125 131 M
(if) s
/F-gs-font 10 10 SF
137 131 M
(\(curLine < firstLine\)  {curLine++; ) s
/Courier-Bold 10 10 SUF
347 131 M
(continue) s
/F-gs-font 10 10 SF
395 131 M
(;}) s
5 120 M
(                    ) s
5 109 M
(                    \(*it\).replace\() s
/Courier-Bold 10 10 SUF
209 109 M
(',') s
/F-gs-font 10 10 SF
227 109 M
(, ) s
/Courier-Bold 10 10 SUF
239 109 M
("\\", \\"") s
/F-gs-font 10 10 SF
287 109 M
(\);) s
5 98 M
(                    ) s
5 87 M
(                    ) s
/Courier-Bold 10 10 SUF
125 87 M
(if) s
/F-gs-font 10 10 SF
137 87 M
(\(table == ) s
/Courier-Bold 10 10 SUF
197 87 M
("accounts") s
/F-gs-font 10 10 SF
257 87 M
(\)) s
5 76 M
(                    {) s
5 65 M
(                        query.prepare\() s
/Courier-Bold 10 10 SUF
233 65 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
383 65 M
(\);) s
5 54 M
(                        query.exec\(\);) s
5 43 M
(                        ) s
5 32 M
(                        QRegExp regexp\() s
/Courier-Bold 10 10 SUF
239 32 M
("^\(\\\\d+\)") s
/F-gs-font 10 10 SF
293 32 M
(\);) s
5 21 M
(                        ) s
/Courier-Bold 10 10 SUF
149 21 M
(int) s
/F-gs-font 10 10 SF
167 21 M
( pos = regexp.search\(*it\);) s
5 10 M
(                        QString givenKey;) s
_R
S
%%Page: (11) 11
%%BeginPageSetup
_S
18 36 translate
/pagenum 11 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (11) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                        ) s
/Courier-Bold 10 10 SUF
149 692 M
(if) s
/F-gs-font 10 10 SF
161 692 M
(\(pos > -1\)) s
5 681 M
(                            givenKey = regexp.cap\(1\);) s
5 670 M
(                        ) s
5 659 M
(                        ) s
/Courier-Bold 10 10 SUF
149 659 M
(bool) s
/F-gs-font 10 10 SF
173 659 M
( isNew = true;) s
5 648 M
(                        ) s
/Courier-Bold 10 10 SUF
149 648 M
(while) s
/F-gs-font 10 10 SF
179 648 M
(\(query.next\(\)\)) s
5 637 M
(                        {) s
5 626 M
(                            ) s
/Courier-Bold 10 10 SUF
173 626 M
(if) s
/F-gs-font 10 10 SF
185 626 M
(\(givenKey == query.value\(0\).toString\(\)\)) s
5 615 M
(                                isNew = false;) s
5 604 M
(                        }) s
5 593 M
(                        ) s
5 582 M
(                        ) s
/Courier-Bold 10 10 SUF
149 582 M
(if) s
/F-gs-font 10 10 SF
161 582 M
(\(!isNew\)) s
5 571 M
(                        {) s
5 560 M
(                            QString existingKey;) s
5 549 M
(                            ) s
5 538 M
(                            query.prepare\() s
/Courier-Bold 10 10 SUF
257 538 M
("SELECT key FROM accounts WHERE id = ") s
/F-gs-font 10 10 SF
485 538 M
( + givenKey\);) s
5 527 M
(                            query.exec\(\);) s
5 516 M
(                            ) s
/Courier-Bold 10 10 SUF
173 516 M
(if) s
/F-gs-font 10 10 SF
185 516 M
(\(query.next\(\)\)) s
5 505 M
(                                existingKey = query.value\(0\).toString\(\);) s
5 494 M
(                            ) s
5 483 M
(                            query.prepare\() s
/Courier-Bold 10 10 SUF
257 483 M
("INSERT OR REPLACE INTO accounts VALUES\(\\"") s
/F-gs-font 10 10 SF
515 483 M
( + existi) s
5 472 M
(ngKey +) s
5 461 M
(                                    ) s
/Courier-Bold 10 10 SUF
221 461 M
("\\", \\"") s
/F-gs-font 10 10 SF
269 461 M
( + *it + ) s
/Courier-Bold 10 10 SUF
323 461 M
("\\"\)") s
/F-gs-font 10 10 SF
353 461 M
(\);) s
5 450 M
(                        }) s
5 439 M
(                        ) s
/Courier-Bold 10 10 SUF
149 439 M
(else) s
/F-gs-font 10 10 SF
5 428 M
(                        {) s
5 417 M
(                            QString newKey;) s
5 406 M
(                            newKey.setNum\(key++\);) s
5 395 M
(                            query.prepare\() s
/Courier-Bold 10 10 SUF
257 395 M
("INSERT INTO accounts VALUES\(\\"") s
/F-gs-font 10 10 SF
449 395 M
( + newKey + ) s
/Courier-Bold 10 10 SUF
521 395 M
("\\", \\"") s
/F-gs-font 10 10 SF
569 395 M
() s
5 384 M
( + *it + ) s
/Courier-Bold 10 10 SUF
59 384 M
("\\"\)") s
/F-gs-font 10 10 SF
89 384 M
(\);) s
5 373 M
(                        }) s
5 351 M
(                        emit accountsChanged\(\);) s
5 340 M
(                    }) s
5 329 M
(                    ) s
/Courier-Bold 10 10 SUF
125 329 M
(else) s
/F-gs-font 10 10 SF
5 318 M
(                    {) s
5 307 M
(                        QString newKey;) s
5 296 M
(                        newKey.setNum\(key++\);) s
5 285 M
(                        query.prepare\() s
/Courier-Bold 10 10 SUF
233 285 M
("INSERT INTO ") s
/F-gs-font 10 10 SF
317 285 M
( + table + ) s
/Courier-Bold 10 10 SUF
383 285 M
(" VALUES\(\\"") s
/F-gs-font 10 10 SF
455 285 M
( + newKey + ) s
/Courier-Bold 10 10 SUF
527 285 M
("\\", \\") s
5 274 M
(") s
/F-gs-font 10 10 SF
11 274 M
( + *it + ) s
/Courier-Bold 10 10 SUF
65 274 M
("\\"\)") s
/F-gs-font 10 10 SF
95 274 M
(\);) s
5 263 M
(                    }) s
5 252 M
(                    query.exec\(\);) s
5 241 M
(                }) s
5 230 M
(            }) s
5 219 M
(        }) s
5 208 M
(    }) s
5 186 M
(    ) s
/Courier-Bold 10 10 SUF
29 186 M
(if) s
/F-gs-font 10 10 SF
41 186 M
(\(table == ) s
/Courier-Bold 10 10 SUF
101 186 M
("journalTmp") s
/F-gs-font 10 10 SF
173 186 M
(\)) s
5 175 M
(        emit journalTmpChanged\(\);) s
5 164 M
(    ) s
5 153 M
(    origFile.close\(\);) s
5 142 M
(}) s
5 120 M
(QStringList ) s
/Courier-Bold 10 10 SUF
77 120 M
(Database::getPeriodBegin) s
/F-gs-font 10 10 SF
221 120 M
(\(\) ) s
/Courier-Bold 10 10 SUF
239 120 M
(const) s
/F-gs-font 10 10 SF
5 109 M
({) s
5 98 M
(    QStringList range;) s
5 87 M
(    QString yearEnd;) s
5 76 M
(    ) s
5 65 M
(    QDate date = QDate::currentDate\(\);) s
5 54 M
(    QString curYear = date.toString\() s
/Courier-Bold 10 10 SUF
221 54 M
("yy") s
/F-gs-font 10 10 SF
245 54 M
(\);) s
5 43 M
(    ) s
5 32 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 32 M
("SELECT yearEnd FROM main") s
/F-gs-font 10 10 SF
281 32 M
(, connection\);) s
5 21 M
(    ) s
/Courier-Bold 10 10 SUF
29 21 M
(if) s
/F-gs-font 10 10 SF
41 21 M
(\(query.next\(\)\)) s
5 10 M
(        yearEnd = query.value\(0\).toString\(\);) s
_R
S
%%Page: (12) 12
%%BeginPageSetup
_S
18 36 translate
/pagenum 12 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (12) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    ) s
5 681 M
(    ) s
/Courier-Bold 10 10 SUF
29 681 M
(int) s
/F-gs-font 10 10 SF
47 681 M
( startMonth = 0;) s
5 670 M
(    ) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(if) s
/F-gs-font 10 10 SF
41 659 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 659 M
("Jan") s
/F-gs-font 10 10 SF
191 659 M
(\)\)) s
5 648 M
(        startMonth = 2;) s
5 637 M
(    ) s
/Courier-Bold 10 10 SUF
29 637 M
(if) s
/F-gs-font 10 10 SF
41 637 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 637 M
("Feb") s
/F-gs-font 10 10 SF
191 637 M
(\)\)) s
5 626 M
(        startMonth = 3;) s
5 615 M
(    ) s
/Courier-Bold 10 10 SUF
29 615 M
(if) s
/F-gs-font 10 10 SF
41 615 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 615 M
("Mar") s
/F-gs-font 10 10 SF
191 615 M
(\)\)) s
5 604 M
(        startMonth = 4;) s
5 593 M
(    ) s
/Courier-Bold 10 10 SUF
29 593 M
(if) s
/F-gs-font 10 10 SF
41 593 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 593 M
("Apr") s
/F-gs-font 10 10 SF
191 593 M
(\)\)) s
5 582 M
(        startMonth = 5;) s
5 571 M
(    ) s
/Courier-Bold 10 10 SUF
29 571 M
(if) s
/F-gs-font 10 10 SF
41 571 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 571 M
("May") s
/F-gs-font 10 10 SF
191 571 M
(\)\)) s
5 560 M
(        startMonth = 6;) s
5 549 M
(    ) s
/Courier-Bold 10 10 SUF
29 549 M
(if) s
/F-gs-font 10 10 SF
41 549 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 549 M
("Jun") s
/F-gs-font 10 10 SF
191 549 M
(\)\)) s
5 538 M
(        startMonth = 7;) s
5 527 M
(    ) s
/Courier-Bold 10 10 SUF
29 527 M
(if) s
/F-gs-font 10 10 SF
41 527 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 527 M
("Jul") s
/F-gs-font 10 10 SF
191 527 M
(\)\)) s
5 516 M
(        startMonth = 8;) s
5 505 M
(    ) s
/Courier-Bold 10 10 SUF
29 505 M
(if) s
/F-gs-font 10 10 SF
41 505 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 505 M
("Aug") s
/F-gs-font 10 10 SF
191 505 M
(\)\)) s
5 494 M
(        startMonth = 9;) s
5 483 M
(    ) s
/Courier-Bold 10 10 SUF
29 483 M
(if) s
/F-gs-font 10 10 SF
41 483 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 483 M
("Sep") s
/F-gs-font 10 10 SF
191 483 M
(\)\)) s
5 472 M
(        startMonth = 10;) s
5 461 M
(    ) s
/Courier-Bold 10 10 SUF
29 461 M
(if) s
/F-gs-font 10 10 SF
41 461 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 461 M
("Oct") s
/F-gs-font 10 10 SF
191 461 M
(\)\)) s
5 450 M
(        startMonth = 11;) s
5 439 M
(    ) s
/Courier-Bold 10 10 SUF
29 439 M
(if) s
/F-gs-font 10 10 SF
41 439 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 439 M
("Nov") s
/F-gs-font 10 10 SF
191 439 M
(\)\)) s
5 428 M
(        startMonth = 12;) s
5 417 M
(    ) s
/Courier-Bold 10 10 SUF
29 417 M
(if) s
/F-gs-font 10 10 SF
41 417 M
(\(yearEnd.startsWith\() s
/Courier-Bold 10 10 SUF
161 417 M
("Dec") s
/F-gs-font 10 10 SF
191 417 M
(\)\)) s
5 406 M
(        startMonth = 1;) s
5 395 M
(    ) s
5 384 M
(    ) s
/Courier-Bold 10 10 SUF
29 384 M
(if) s
/F-gs-font 10 10 SF
41 384 M
(\(startMonth > date.month\(\)\)) s
5 373 M
(    {) s
5 362 M
(        curYear.setNum\(curYear.toInt\(\) - 1\);) s
5 351 M
(        ) s
/Courier-Bold 10 10 SUF
53 351 M
(if) s
/F-gs-font 10 10 SF
65 351 M
(\(curYear.toInt\(\) < 10\)) s
5 340 M
(            curYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
185 340 M
("0") s
/F-gs-font 10 10 SF
203 340 M
(\);) s
5 329 M
(    }) s
5 318 M
(        ) s
5 307 M
(    ) s
/Courier-Bold 10 10 SUF
29 307 M
(int) s
/F-gs-font 10 10 SF
47 307 M
( period = 1;) s
5 296 M
(    ) s
/Courier-Bold 10 10 SUF
29 296 M
(for) s
/F-gs-font 10 10 SF
47 296 M
(\() s
/Courier-Bold 10 10 SUF
53 296 M
(int) s
/F-gs-font 10 10 SF
71 296 M
( i = startMonth; i <= 12; i++\)) s
5 285 M
(    {) s
5 274 M
(        QString monthString;) s
5 263 M
(        QString periodString;) s
5 252 M
(        ) s
5 241 M
(        monthString.setNum\(i\);) s
5 230 M
(        ) s
/Courier-Bold 10 10 SUF
53 230 M
(if) s
/F-gs-font 10 10 SF
65 230 M
(\(i < 10\)) s
5 219 M
(            monthString.insert\(0, ) s
/Courier-Bold 10 10 SUF
209 219 M
("0") s
/F-gs-font 10 10 SF
227 219 M
(\);) s
5 208 M
(        ) s
5 197 M
(        range << \() s
/Courier-Bold 10 10 SUF
113 197 M
("Period ") s
/F-gs-font 10 10 SF
167 197 M
( + periodString.setNum\(period++\) + ) s
/Courier-Bold 10 10 SUF
377 197 M
(" \(") s
/F-gs-font 10 10 SF
401 197 M
( + monthString + ) s
/Courier-Bold 10 10 SUF
503 197 M
("/01/") s
/F-gs-font 10 10 SF
539 197 M
( + cu) s
5 186 M
(rYear + ) s
/Courier-Bold 10 10 SUF
53 186 M
("\)") s
/F-gs-font 10 10 SF
71 186 M
(\);) s
5 175 M
(    }) s
5 164 M
(    ) s
5 153 M
(    QString nextYear;) s
5 142 M
(    nextYear.setNum\(curYear.toInt\(\) + 1\);) s
5 131 M
(    ) s
/Courier-Bold 10 10 SUF
29 131 M
(if) s
/F-gs-font 10 10 SF
41 131 M
(\(nextYear.toInt\(\) < 10\)) s
5 120 M
(        nextYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
167 120 M
("0") s
/F-gs-font 10 10 SF
185 120 M
(\);) s
5 109 M
(    ) s
5 98 M
(    ) s
/Courier-Bold 10 10 SUF
29 98 M
(for) s
/F-gs-font 10 10 SF
47 98 M
(\() s
/Courier-Bold 10 10 SUF
53 98 M
(int) s
/F-gs-font 10 10 SF
71 98 M
( i = 1; i < startMonth; i++\)) s
5 87 M
(    {) s
5 76 M
(        QString monthString;) s
5 65 M
(        QString periodString;) s
5 43 M
(        monthString.setNum\(i\);        ) s
5 32 M
(        ) s
/Courier-Bold 10 10 SUF
53 32 M
(if) s
/F-gs-font 10 10 SF
65 32 M
(\(i < 10\)) s
5 21 M
(            monthString.insert\(0, ) s
/Courier-Bold 10 10 SUF
209 21 M
("0") s
/F-gs-font 10 10 SF
227 21 M
(\);) s
5 10 M
(        ) s
_R
S
%%Page: (13) 13
%%BeginPageSetup
_S
18 36 translate
/pagenum 13 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (13) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        range << \() s
/Courier-Bold 10 10 SUF
113 692 M
("Period ") s
/F-gs-font 10 10 SF
167 692 M
( + periodString.setNum\(period++\) + ) s
/Courier-Bold 10 10 SUF
377 692 M
(" \(") s
/F-gs-font 10 10 SF
401 692 M
( + monthString + ) s
/Courier-Bold 10 10 SUF
503 692 M
("/01/") s
/F-gs-font 10 10 SF
539 692 M
( + ne) s
5 681 M
(xtYear + ) s
/Courier-Bold 10 10 SUF
59 681 M
("\)") s
/F-gs-font 10 10 SF
77 681 M
(\);) s
5 670 M
(    }) s
5 659 M
(    ) s
5 648 M
(    ) s
/Courier-Bold 10 10 SUF
29 648 M
(return) s
/F-gs-font 10 10 SF
65 648 M
( range;) s
5 637 M
(}) s
5 615 M
(QStringList ) s
/Courier-Bold 10 10 SUF
77 615 M
(Database::getPeriodEnd) s
/F-gs-font 10 10 SF
209 615 M
(\(\) ) s
/Courier-Bold 10 10 SUF
227 615 M
(const) s
/F-gs-font 10 10 SF
5 604 M
({) s
5 593 M
(    QStringList periodEnd;) s
5 582 M
(    QStringList periodBegin = getPeriodBegin\(\);) s
5 571 M
(    ) s
5 560 M
(    QDate date = QDate::currentDate\(\);) s
5 549 M
(    ) s
5 538 M
(    QRegExp regexp\() s
/Courier-Bold 10 10 SUF
119 538 M
("^\(Period \\\\d+ \\\\\(\)\(\\\\d\\\\d\)/\\\\d\\\\d/\(\\\\d\\\\d\)\\\\\)") s
/F-gs-font 10 10 SF
401 538 M
(\);) s
5 527 M
(    ) s
5 516 M
(    ) s
/Courier-Bold 10 10 SUF
29 516 M
(for) s
/F-gs-font 10 10 SF
47 516 M
(\(QStringList::Iterator it = periodBegin.begin\(\); it != periodBegin.end\(\); ++it\)) s
5 505 M
(    {) s
5 494 M
(        QString periodString;) s
5 483 M
(        ) s
5 472 M
(        QString month;) s
5 461 M
(        QString year;) s
5 450 M
(        ) s
5 439 M
(        ) s
/Courier-Bold 10 10 SUF
53 439 M
(if) s
/F-gs-font 10 10 SF
65 439 M
(\(regexp.search\(*it\) != -1\)) s
5 428 M
(        {) s
5 417 M
(            periodString += regexp.cap\(1\);) s
5 406 M
(            month = regexp.cap\(2\);) s
5 395 M
(            year = regexp.cap\(3\);) s
5 384 M
(            ) s
5 373 M
(            ) s
/Courier-Bold 10 10 SUF
77 373 M
(if) s
/F-gs-font 10 10 SF
89 373 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 373 M
("01") s
/F-gs-font 10 10 SF
173 373 M
(\)) s
5 362 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 362 M
("01/31/") s
/F-gs-font 10 10 SF
245 362 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 362 M
("\)") s
/F-gs-font 10 10 SF
323 362 M
(;) s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
(if) s
/F-gs-font 10 10 SF
89 351 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 351 M
("02") s
/F-gs-font 10 10 SF
173 351 M
(\)) s
5 340 M
(            {) s
5 329 M
(                QString testYear\() s
/Courier-Bold 10 10 SUF
203 329 M
("20") s
/F-gs-font 10 10 SF
227 329 M
( + year\);) s
5 318 M
(                ) s
/Courier-Bold 10 10 SUF
101 318 M
(if) s
/F-gs-font 10 10 SF
113 318 M
(\(date.leapYear\(testYear.toInt\(\)\)\)) s
5 307 M
(                    periodString += ) s
/Courier-Bold 10 10 SUF
221 307 M
("02/29/") s
/F-gs-font 10 10 SF
269 307 M
( + year + ) s
/Courier-Bold 10 10 SUF
329 307 M
("\)") s
/F-gs-font 10 10 SF
347 307 M
(;) s
5 296 M
(                ) s
/Courier-Bold 10 10 SUF
101 296 M
(else) s
/F-gs-font 10 10 SF
5 285 M
(                    periodString += ) s
/Courier-Bold 10 10 SUF
221 285 M
("02/28/") s
/F-gs-font 10 10 SF
269 285 M
( + year + ) s
/Courier-Bold 10 10 SUF
329 285 M
("\)") s
/F-gs-font 10 10 SF
347 285 M
(;) s
5 274 M
(            }) s
5 263 M
(            ) s
/Courier-Bold 10 10 SUF
77 263 M
(if) s
/F-gs-font 10 10 SF
89 263 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 263 M
("03") s
/F-gs-font 10 10 SF
173 263 M
(\)) s
5 252 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 252 M
("03/31/") s
/F-gs-font 10 10 SF
245 252 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 252 M
("\)") s
/F-gs-font 10 10 SF
323 252 M
(;) s
5 241 M
(            ) s
/Courier-Bold 10 10 SUF
77 241 M
(if) s
/F-gs-font 10 10 SF
89 241 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 241 M
("04") s
/F-gs-font 10 10 SF
173 241 M
(\)) s
5 230 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 230 M
("04/30/") s
/F-gs-font 10 10 SF
245 230 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 230 M
("\)") s
/F-gs-font 10 10 SF
323 230 M
(;) s
5 219 M
(            ) s
/Courier-Bold 10 10 SUF
77 219 M
(if) s
/F-gs-font 10 10 SF
89 219 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 219 M
("05") s
/F-gs-font 10 10 SF
173 219 M
(\)) s
5 208 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 208 M
("05/31/") s
/F-gs-font 10 10 SF
245 208 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 208 M
("\)") s
/F-gs-font 10 10 SF
323 208 M
(;) s
5 197 M
(            ) s
/Courier-Bold 10 10 SUF
77 197 M
(if) s
/F-gs-font 10 10 SF
89 197 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 197 M
("06") s
/F-gs-font 10 10 SF
173 197 M
(\)) s
5 186 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 186 M
("06/30/") s
/F-gs-font 10 10 SF
245 186 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 186 M
("\)") s
/F-gs-font 10 10 SF
323 186 M
(;) s
5 175 M
(            ) s
/Courier-Bold 10 10 SUF
77 175 M
(if) s
/F-gs-font 10 10 SF
89 175 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 175 M
("07") s
/F-gs-font 10 10 SF
173 175 M
(\)) s
5 164 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 164 M
("07/31/") s
/F-gs-font 10 10 SF
245 164 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 164 M
("\)") s
/F-gs-font 10 10 SF
323 164 M
(;) s
5 153 M
(            ) s
/Courier-Bold 10 10 SUF
77 153 M
(if) s
/F-gs-font 10 10 SF
89 153 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 153 M
("08") s
/F-gs-font 10 10 SF
173 153 M
(\)) s
5 142 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 142 M
("08/31/") s
/F-gs-font 10 10 SF
245 142 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 142 M
("\)") s
/F-gs-font 10 10 SF
323 142 M
(;) s
5 131 M
(            ) s
/Courier-Bold 10 10 SUF
77 131 M
(if) s
/F-gs-font 10 10 SF
89 131 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 131 M
("09") s
/F-gs-font 10 10 SF
173 131 M
(\)) s
5 120 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 120 M
("09/30/") s
/F-gs-font 10 10 SF
245 120 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 120 M
("\)") s
/F-gs-font 10 10 SF
323 120 M
(;) s
5 109 M
(            ) s
/Courier-Bold 10 10 SUF
77 109 M
(if) s
/F-gs-font 10 10 SF
89 109 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 109 M
("10") s
/F-gs-font 10 10 SF
173 109 M
(\)) s
5 98 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 98 M
("10/31/") s
/F-gs-font 10 10 SF
245 98 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 98 M
("\)") s
/F-gs-font 10 10 SF
323 98 M
(;) s
5 87 M
(            ) s
/Courier-Bold 10 10 SUF
77 87 M
(if) s
/F-gs-font 10 10 SF
89 87 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 87 M
("11") s
/F-gs-font 10 10 SF
173 87 M
(\)) s
5 76 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 76 M
("11/30/") s
/F-gs-font 10 10 SF
245 76 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 76 M
("\)") s
/F-gs-font 10 10 SF
323 76 M
(;) s
5 65 M
(            ) s
/Courier-Bold 10 10 SUF
77 65 M
(if) s
/F-gs-font 10 10 SF
89 65 M
(\(month == ) s
/Courier-Bold 10 10 SUF
149 65 M
("12") s
/F-gs-font 10 10 SF
173 65 M
(\)) s
5 54 M
(                periodString += ) s
/Courier-Bold 10 10 SUF
197 54 M
("12/31/") s
/F-gs-font 10 10 SF
245 54 M
( + year + ) s
/Courier-Bold 10 10 SUF
305 54 M
("\)") s
/F-gs-font 10 10 SF
323 54 M
(;) s
5 43 M
(        }) s
5 32 M
(        ) s
5 21 M
(        periodEnd << periodString;) s
5 10 M
(    }) s
_R
S
%%Page: (14) 14
%%BeginPageSetup
_S
18 36 translate
/pagenum 14 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (14) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    ) s
5 681 M
(    ) s
/Courier-Bold 10 10 SUF
29 681 M
(return) s
/F-gs-font 10 10 SF
65 681 M
( periodEnd;) s
5 670 M
(}) s
5 648 M
(QPtrList<EditorElement> Database::getElements\(editorCategories category\)) s
5 637 M
({) s
5 626 M
(    QPtrList<EditorElement> tmpList;) s
5 604 M
(    ) s
/Courier-Bold 10 10 SUF
29 604 M
(if) s
/F-gs-font 10 10 SF
41 604 M
(\(!connection->open\(\)\)) s
5 593 M
(    {) s
5 582 M
(        connection->lastError\(\).showMessage\(\);) s
5 571 M
(        ) s
/Courier-Bold 10 10 SUF
53 571 M
(return) s
/F-gs-font 10 10 SF
89 571 M
( tmpList;) s
5 560 M
(    }) s
5 549 M
(    ) s
5 538 M
(    QString table;) s
5 527 M
(    ) s
/Courier-Bold 10 10 SUF
29 527 M
(switch) s
/F-gs-font 10 10 SF
65 527 M
(\(category\)) s
5 516 M
(    {) s
5 505 M
(        ) s
/Courier-Bold 10 10 SUF
53 505 M
(case) s
/F-gs-font 10 10 SF
77 505 M
( ) s
/Courier-Bold 10 10 SUF
83 505 M
(balanceAssets) s
/F-gs-font 10 10 SF
161 505 M
(:) s
5 494 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 494 M
("balanceAssets") s
/F-gs-font 10 10 SF
215 494 M
(;) s
5 483 M
(            ) s
/Courier-Bold 10 10 SUF
77 483 M
(break) s
/F-gs-font 10 10 SF
107 483 M
(;) s
5 472 M
(        ) s
/Courier-Bold 10 10 SUF
53 472 M
(case) s
/F-gs-font 10 10 SF
77 472 M
( ) s
/Courier-Bold 10 10 SUF
83 472 M
(balanceLiabilities) s
/F-gs-font 10 10 SF
191 472 M
(:) s
5 461 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 461 M
("balanceLiabilities") s
/F-gs-font 10 10 SF
245 461 M
(;) s
5 450 M
(            ) s
/Courier-Bold 10 10 SUF
77 450 M
(break) s
/F-gs-font 10 10 SF
107 450 M
(;) s
5 439 M
(        ) s
/Courier-Bold 10 10 SUF
53 439 M
(case) s
/F-gs-font 10 10 SF
77 439 M
( ) s
/Courier-Bold 10 10 SUF
83 439 M
(balanceEquities) s
/F-gs-font 10 10 SF
173 439 M
(:) s
5 428 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 428 M
("balanceEquities") s
/F-gs-font 10 10 SF
227 428 M
(;) s
5 417 M
(            ) s
/Courier-Bold 10 10 SUF
77 417 M
(break) s
/F-gs-font 10 10 SF
107 417 M
(;) s
5 406 M
(        ) s
/Courier-Bold 10 10 SUF
53 406 M
(case) s
/F-gs-font 10 10 SF
77 406 M
( ) s
/Courier-Bold 10 10 SUF
83 406 M
(incomeSvcIncome) s
/F-gs-font 10 10 SF
173 406 M
(:) s
5 395 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 395 M
("incomeSvcIncome") s
/F-gs-font 10 10 SF
227 395 M
(;) s
5 384 M
(            ) s
/Courier-Bold 10 10 SUF
77 384 M
(break) s
/F-gs-font 10 10 SF
107 384 M
(;) s
5 373 M
(        ) s
/Courier-Bold 10 10 SUF
53 373 M
(case) s
/F-gs-font 10 10 SF
77 373 M
( ) s
/Courier-Bold 10 10 SUF
83 373 M
(incomeSvcExpenses) s
/F-gs-font 10 10 SF
185 373 M
(:) s
5 362 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 362 M
("incomeSvcExpenses") s
/F-gs-font 10 10 SF
239 362 M
(;) s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
(break) s
/F-gs-font 10 10 SF
107 351 M
(;) s
5 340 M
(        ) s
/Courier-Bold 10 10 SUF
53 340 M
(case) s
/F-gs-font 10 10 SF
77 340 M
( ) s
/Courier-Bold 10 10 SUF
83 340 M
(incomeRetailIncome) s
/F-gs-font 10 10 SF
191 340 M
(:) s
5 329 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 329 M
("incomeRetailIncome") s
/F-gs-font 10 10 SF
245 329 M
(;) s
5 318 M
(            ) s
/Courier-Bold 10 10 SUF
77 318 M
(break) s
/F-gs-font 10 10 SF
107 318 M
(;) s
5 307 M
(        ) s
/Courier-Bold 10 10 SUF
53 307 M
(case) s
/F-gs-font 10 10 SF
77 307 M
( ) s
/Courier-Bold 10 10 SUF
83 307 M
(incomeRetailCOS) s
/F-gs-font 10 10 SF
173 307 M
(:) s
5 296 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 296 M
("incomeRetailCOS") s
/F-gs-font 10 10 SF
227 296 M
(;) s
5 285 M
(            ) s
/Courier-Bold 10 10 SUF
77 285 M
(break) s
/F-gs-font 10 10 SF
107 285 M
(;) s
5 274 M
(        ) s
/Courier-Bold 10 10 SUF
53 274 M
(case) s
/F-gs-font 10 10 SF
77 274 M
( ) s
/Courier-Bold 10 10 SUF
83 274 M
(incomeRetailExpenses) s
/F-gs-font 10 10 SF
203 274 M
(:) s
5 263 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 263 M
("incomeRetailExpenses") s
/F-gs-font 10 10 SF
257 263 M
(;) s
5 252 M
(            ) s
/Courier-Bold 10 10 SUF
77 252 M
(break) s
/F-gs-font 10 10 SF
107 252 M
(;) s
5 241 M
(    }) s
5 219 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 219 M
("SELECT * FROM ") s
/F-gs-font 10 10 SF
221 219 M
( + table + ) s
/Courier-Bold 10 10 SUF
287 219 M
(" ORDER BY key") s
/F-gs-font 10 10 SF
377 219 M
(, connection\);) s
5 208 M
(    ) s
5 197 M
(    ) s
/Courier-Bold 10 10 SUF
29 197 M
(while) s
/F-gs-font 10 10 SF
59 197 M
(\(query.next\(\)\)) s
5 186 M
(    {) s
5 175 M
(        EditorElement *element = ) s
/Courier-Bold 10 10 SUF
203 175 M
(new) s
/F-gs-font 10 10 SF
221 175 M
( EditorElement\() s
5 164 M
(                category,) s
5 153 M
(                query.value\(0\).toString\(\),) s
5 142 M
(                query.value\(1\).toString\(\),) s
5 131 M
(                query.value\(2\).toString\(\),) s
5 120 M
(                query.value\(3\).toString\(\),) s
5 109 M
(                query.value\(4\).toString\(\)\);) s
5 98 M
(        tmpList.append\(element\);) s
5 87 M
(    }) s
5 76 M
(    ) s
/Courier-Bold 10 10 SUF
29 76 M
(return) s
/F-gs-font 10 10 SF
65 76 M
( tmpList;) s
5 65 M
(}) s
/Courier-Bold 10 10 SUF
5 43 M
(void) s
/F-gs-font 10 10 SF
29 43 M
( ) s
/Courier-Bold 10 10 SUF
35 43 M
(Database::createElement) s
/F-gs-font 10 10 SF
173 43 M
(\(editorCategories category, QString type,) s
5 32 M
(                             QString desc, QString accountBegin, QString accountEnd\)) s
5 21 M
({) s
5 10 M
(    ) s
/Courier-Bold 10 10 SUF
29 10 M
(if) s
/F-gs-font 10 10 SF
41 10 M
(\(!connection->open\(\)\)) s
_R
S
%%Page: (15) 15
%%BeginPageSetup
_S
18 36 translate
/pagenum 15 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (15) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    {) s
5 681 M
(        connection->lastError\(\).showMessage\(\);) s
5 670 M
(        ) s
/Courier-Bold 10 10 SUF
53 670 M
(return) s
/F-gs-font 10 10 SF
89 670 M
(;) s
5 659 M
(    }) s
5 648 M
(    ) s
5 637 M
(    QString table;) s
5 626 M
(    ) s
/Courier-Bold 10 10 SUF
29 626 M
(switch) s
/F-gs-font 10 10 SF
65 626 M
(\(category\)) s
5 615 M
(    {) s
5 604 M
(        ) s
/Courier-Bold 10 10 SUF
53 604 M
(case) s
/F-gs-font 10 10 SF
77 604 M
( ) s
/Courier-Bold 10 10 SUF
83 604 M
(balanceAssets) s
/F-gs-font 10 10 SF
161 604 M
(:) s
5 593 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 593 M
("balanceAssets") s
/F-gs-font 10 10 SF
215 593 M
(;) s
5 582 M
(            ) s
/Courier-Bold 10 10 SUF
77 582 M
(break) s
/F-gs-font 10 10 SF
107 582 M
(;) s
5 571 M
(        ) s
/Courier-Bold 10 10 SUF
53 571 M
(case) s
/F-gs-font 10 10 SF
77 571 M
( ) s
/Courier-Bold 10 10 SUF
83 571 M
(balanceLiabilities) s
/F-gs-font 10 10 SF
191 571 M
(:) s
5 560 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 560 M
("balanceLiabilities") s
/F-gs-font 10 10 SF
245 560 M
(;) s
5 549 M
(            ) s
/Courier-Bold 10 10 SUF
77 549 M
(break) s
/F-gs-font 10 10 SF
107 549 M
(;) s
5 538 M
(        ) s
/Courier-Bold 10 10 SUF
53 538 M
(case) s
/F-gs-font 10 10 SF
77 538 M
( ) s
/Courier-Bold 10 10 SUF
83 538 M
(balanceEquities) s
/F-gs-font 10 10 SF
173 538 M
(:) s
5 527 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 527 M
("balanceEquities") s
/F-gs-font 10 10 SF
227 527 M
(;) s
5 516 M
(            ) s
/Courier-Bold 10 10 SUF
77 516 M
(break) s
/F-gs-font 10 10 SF
107 516 M
(;) s
5 505 M
(        ) s
/Courier-Bold 10 10 SUF
53 505 M
(case) s
/F-gs-font 10 10 SF
77 505 M
( ) s
/Courier-Bold 10 10 SUF
83 505 M
(incomeSvcIncome) s
/F-gs-font 10 10 SF
173 505 M
(:) s
5 494 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 494 M
("incomeSvcIncome") s
/F-gs-font 10 10 SF
227 494 M
(;) s
5 483 M
(            ) s
/Courier-Bold 10 10 SUF
77 483 M
(break) s
/F-gs-font 10 10 SF
107 483 M
(;) s
5 472 M
(        ) s
/Courier-Bold 10 10 SUF
53 472 M
(case) s
/F-gs-font 10 10 SF
77 472 M
( ) s
/Courier-Bold 10 10 SUF
83 472 M
(incomeSvcExpenses) s
/F-gs-font 10 10 SF
185 472 M
(:) s
5 461 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 461 M
("incomeSvcExpenses") s
/F-gs-font 10 10 SF
239 461 M
(;) s
5 450 M
(            ) s
/Courier-Bold 10 10 SUF
77 450 M
(break) s
/F-gs-font 10 10 SF
107 450 M
(;) s
5 439 M
(        ) s
/Courier-Bold 10 10 SUF
53 439 M
(case) s
/F-gs-font 10 10 SF
77 439 M
( ) s
/Courier-Bold 10 10 SUF
83 439 M
(incomeRetailIncome) s
/F-gs-font 10 10 SF
191 439 M
(:) s
5 428 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 428 M
("incomeRetailIncome") s
/F-gs-font 10 10 SF
245 428 M
(;) s
5 417 M
(            ) s
/Courier-Bold 10 10 SUF
77 417 M
(break) s
/F-gs-font 10 10 SF
107 417 M
(;) s
5 406 M
(        ) s
/Courier-Bold 10 10 SUF
53 406 M
(case) s
/F-gs-font 10 10 SF
77 406 M
( ) s
/Courier-Bold 10 10 SUF
83 406 M
(incomeRetailCOS) s
/F-gs-font 10 10 SF
173 406 M
(:) s
5 395 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 395 M
("incomeRetailCOS") s
/F-gs-font 10 10 SF
227 395 M
(;) s
5 384 M
(            ) s
/Courier-Bold 10 10 SUF
77 384 M
(break) s
/F-gs-font 10 10 SF
107 384 M
(;) s
5 373 M
(        ) s
/Courier-Bold 10 10 SUF
53 373 M
(case) s
/F-gs-font 10 10 SF
77 373 M
( ) s
/Courier-Bold 10 10 SUF
83 373 M
(incomeRetailExpenses) s
/F-gs-font 10 10 SF
203 373 M
(:) s
5 362 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 362 M
("incomeRetailExpenses") s
/F-gs-font 10 10 SF
257 362 M
(;) s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
(break) s
/F-gs-font 10 10 SF
107 351 M
(;) s
5 340 M
(    }) s
5 329 M
(    ) s
5 318 M
(    QSqlQuery queryLast\() s
/Courier-Bold 10 10 SUF
149 318 M
("SELECT key FROM ") s
/F-gs-font 10 10 SF
257 318 M
( + table + ) s
/Courier-Bold 10 10 SUF
323 318 M
(" ORDER BY key") s
/F-gs-font 10 10 SF
413 318 M
(\);) s
5 307 M
(    ) s
5 296 M
(    QString oneUp;) s
5 285 M
(    ) s
/Courier-Bold 10 10 SUF
29 285 M
(if) s
/F-gs-font 10 10 SF
41 285 M
(\(queryLast.last\(\)\)) s
5 274 M
(        oneUp.setNum\(queryLast.value\(0\).toInt\(\) + 1\);) s
5 263 M
(    ) s
/Courier-Bold 10 10 SUF
29 263 M
(else) s
/F-gs-font 10 10 SF
5 252 M
(        oneUp.setNum\(1\);) s
5 241 M
(    ) s
5 230 M
(    ) s
/Courier-Bold 10 10 SUF
29 230 M
(if) s
/F-gs-font 10 10 SF
41 230 M
(\(type == ) s
/Courier-Bold 10 10 SUF
95 230 M
("0") s
/F-gs-font 10 10 SF
113 230 M
(\)) s
5 219 M
(    {) s
5 208 M
(        QSqlQuery queryDesc\() s
/Courier-Bold 10 10 SUF
173 208 M
("SELECT desc FROM accounts WHERE id = \\"") s
/F-gs-font 10 10 SF
419 208 M
( + accountBegin + ) s
/Courier-Bold 10 10 SUF
527 208 M
("\\"") s
/F-gs-font 10 10 SF
551 208 M
(, c) s
5 197 M
(onnection\);) s
5 186 M
(        ) s
/Courier-Bold 10 10 SUF
53 186 M
(if) s
/F-gs-font 10 10 SF
65 186 M
(\(queryDesc.next\(\)\)) s
5 175 M
(            desc = queryDesc.value\(0\).toString\(\);) s
5 164 M
(    }) s
5 153 M
(    ) s
5 142 M
(    QSqlQuery queryInsert\() s
/Courier-Bold 10 10 SUF
161 142 M
("INSERT INTO ") s
/F-gs-font 10 10 SF
245 142 M
( + table + ) s
/Courier-Bold 10 10 SUF
311 142 M
(" VALUES\( \\"") s
/F-gs-font 10 10 SF
389 142 M
( + oneUp + ) s
/Courier-Bold 10 10 SUF
455 142 M
("\\", \\"") s
/F-gs-font 10 10 SF
503 142 M
( +) s
5 131 M
(            type + ) s
/Courier-Bold 10 10 SUF
119 131 M
("\\", \\"") s
/F-gs-font 10 10 SF
167 131 M
( + desc + ) s
/Courier-Bold 10 10 SUF
227 131 M
("\\", \\"") s
/F-gs-font 10 10 SF
275 131 M
( + accountBegin + ) s
/Courier-Bold 10 10 SUF
383 131 M
("\\", \\"") s
/F-gs-font 10 10 SF
431 131 M
( + accountEnd + ) s
/Courier-Bold 10 10 SUF
527 131 M
("\\"\)") s
/F-gs-font 10 10 SF
557 131 M
(, ) s
5 120 M
(connection\);) s
5 109 M
(}) s
/Courier-Bold 10 10 SUF
5 87 M
(void) s
/F-gs-font 10 10 SF
29 87 M
( ) s
/Courier-Bold 10 10 SUF
35 87 M
(Database::removeElement) s
/F-gs-font 10 10 SF
173 87 M
(\(editorCategories category, QString key\)) s
5 76 M
({) s
5 65 M
(    ) s
/Courier-Bold 10 10 SUF
29 65 M
(if) s
/F-gs-font 10 10 SF
41 65 M
(\(!connection->open\(\)\)) s
5 54 M
(    {) s
5 43 M
(        connection->lastError\(\).showMessage\(\);) s
5 32 M
(        ) s
/Courier-Bold 10 10 SUF
53 32 M
(return) s
/F-gs-font 10 10 SF
89 32 M
(;) s
5 21 M
(    }) s
5 10 M
(    ) s
_R
S
%%Page: (16) 16
%%BeginPageSetup
_S
18 36 translate
/pagenum 16 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (16) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    QString table;) s
5 681 M
(    ) s
/Courier-Bold 10 10 SUF
29 681 M
(switch) s
/F-gs-font 10 10 SF
65 681 M
(\(category\)) s
5 670 M
(    {) s
5 659 M
(        ) s
/Courier-Bold 10 10 SUF
53 659 M
(case) s
/F-gs-font 10 10 SF
77 659 M
( ) s
/Courier-Bold 10 10 SUF
83 659 M
(balanceAssets) s
/F-gs-font 10 10 SF
161 659 M
(:) s
5 648 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 648 M
("balanceAssets") s
/F-gs-font 10 10 SF
215 648 M
(;) s
5 637 M
(            ) s
/Courier-Bold 10 10 SUF
77 637 M
(break) s
/F-gs-font 10 10 SF
107 637 M
(;) s
5 626 M
(        ) s
/Courier-Bold 10 10 SUF
53 626 M
(case) s
/F-gs-font 10 10 SF
77 626 M
( ) s
/Courier-Bold 10 10 SUF
83 626 M
(balanceLiabilities) s
/F-gs-font 10 10 SF
191 626 M
(:) s
5 615 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 615 M
("balanceLiabilities") s
/F-gs-font 10 10 SF
245 615 M
(;) s
5 604 M
(            ) s
/Courier-Bold 10 10 SUF
77 604 M
(break) s
/F-gs-font 10 10 SF
107 604 M
(;) s
5 593 M
(        ) s
/Courier-Bold 10 10 SUF
53 593 M
(case) s
/F-gs-font 10 10 SF
77 593 M
( ) s
/Courier-Bold 10 10 SUF
83 593 M
(balanceEquities) s
/F-gs-font 10 10 SF
173 593 M
(:) s
5 582 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 582 M
("balanceEquities") s
/F-gs-font 10 10 SF
227 582 M
(;) s
5 571 M
(            ) s
/Courier-Bold 10 10 SUF
77 571 M
(break) s
/F-gs-font 10 10 SF
107 571 M
(;) s
5 560 M
(        ) s
/Courier-Bold 10 10 SUF
53 560 M
(case) s
/F-gs-font 10 10 SF
77 560 M
( ) s
/Courier-Bold 10 10 SUF
83 560 M
(incomeSvcIncome) s
/F-gs-font 10 10 SF
173 560 M
(:) s
5 549 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 549 M
("incomeSvcIncome") s
/F-gs-font 10 10 SF
227 549 M
(;) s
5 538 M
(            ) s
/Courier-Bold 10 10 SUF
77 538 M
(break) s
/F-gs-font 10 10 SF
107 538 M
(;) s
5 527 M
(        ) s
/Courier-Bold 10 10 SUF
53 527 M
(case) s
/F-gs-font 10 10 SF
77 527 M
( ) s
/Courier-Bold 10 10 SUF
83 527 M
(incomeSvcExpenses) s
/F-gs-font 10 10 SF
185 527 M
(:) s
5 516 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 516 M
("incomeSvcExpenses") s
/F-gs-font 10 10 SF
239 516 M
(;) s
5 505 M
(            ) s
/Courier-Bold 10 10 SUF
77 505 M
(break) s
/F-gs-font 10 10 SF
107 505 M
(;) s
5 494 M
(        ) s
/Courier-Bold 10 10 SUF
53 494 M
(case) s
/F-gs-font 10 10 SF
77 494 M
( ) s
/Courier-Bold 10 10 SUF
83 494 M
(incomeRetailIncome) s
/F-gs-font 10 10 SF
191 494 M
(:) s
5 483 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 483 M
("incomeRetailIncome") s
/F-gs-font 10 10 SF
245 483 M
(;) s
5 472 M
(            ) s
/Courier-Bold 10 10 SUF
77 472 M
(break) s
/F-gs-font 10 10 SF
107 472 M
(;) s
5 461 M
(        ) s
/Courier-Bold 10 10 SUF
53 461 M
(case) s
/F-gs-font 10 10 SF
77 461 M
( ) s
/Courier-Bold 10 10 SUF
83 461 M
(incomeRetailCOS) s
/F-gs-font 10 10 SF
173 461 M
(:) s
5 450 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 450 M
("incomeRetailCOS") s
/F-gs-font 10 10 SF
227 450 M
(;) s
5 439 M
(            ) s
/Courier-Bold 10 10 SUF
77 439 M
(break) s
/F-gs-font 10 10 SF
107 439 M
(;) s
5 428 M
(        ) s
/Courier-Bold 10 10 SUF
53 428 M
(case) s
/F-gs-font 10 10 SF
77 428 M
( ) s
/Courier-Bold 10 10 SUF
83 428 M
(incomeRetailExpenses) s
/F-gs-font 10 10 SF
203 428 M
(:) s
5 417 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 417 M
("incomeRetailExpenses") s
/F-gs-font 10 10 SF
257 417 M
(;) s
5 406 M
(            ) s
/Courier-Bold 10 10 SUF
77 406 M
(break) s
/F-gs-font 10 10 SF
107 406 M
(;) s
5 395 M
(    }) s
5 373 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 373 M
("DELETE FROM ") s
/F-gs-font 10 10 SF
209 373 M
( + table + ) s
/Courier-Bold 10 10 SUF
275 373 M
(" WHERE key = ") s
/F-gs-font 10 10 SF
365 373 M
( + key, connection\);) s
5 362 M
(}) s
/Courier-Bold 10 10 SUF
5 340 M
(void) s
/F-gs-font 10 10 SF
29 340 M
( ) s
/Courier-Bold 10 10 SUF
35 340 M
(Database::moveElement) s
/F-gs-font 10 10 SF
161 340 M
(\(editorCategories category, QString key, ) s
/Courier-Bold 10 10 SUF
407 340 M
(bool) s
/F-gs-font 10 10 SF
431 340 M
( up\)) s
5 329 M
({) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(if) s
/F-gs-font 10 10 SF
41 318 M
(\(key == ) s
/Courier-Bold 10 10 SUF
89 318 M
("1") s
/F-gs-font 10 10 SF
107 318 M
( && up\) ) s
/Courier-Bold 10 10 SUF
155 318 M
(return) s
/F-gs-font 10 10 SF
191 318 M
(;) s
5 307 M
(    ) s
5 296 M
(    ) s
/Courier-Bold 10 10 SUF
29 296 M
(if) s
/F-gs-font 10 10 SF
41 296 M
(\(!connection->open\(\)\)) s
5 285 M
(    {) s
5 274 M
(        connection->lastError\(\).showMessage\(\);) s
5 263 M
(        ) s
/Courier-Bold 10 10 SUF
53 263 M
(return) s
/F-gs-font 10 10 SF
89 263 M
(;) s
5 252 M
(    }) s
5 241 M
(    ) s
5 230 M
(    QString oneUp;) s
5 219 M
(    oneUp.setNum\(key.toInt\(\) - 1\);) s
5 208 M
(    QString oneDown;) s
5 197 M
(    oneDown.setNum\(key.toInt\(\) + 1\);) s
5 175 M
(    QString queryLastString\() s
/Courier-Bold 10 10 SUF
173 175 M
("SELECT key FROM ") s
/F-gs-font 10 10 SF
281 175 M
(\);) s
5 164 M
(    QString queryUpdateString\() s
/Courier-Bold 10 10 SUF
185 164 M
("UPDATE ") s
/F-gs-font 10 10 SF
239 164 M
(\);) s
5 153 M
(    ) s
5 142 M
(    QString table;) s
5 131 M
(    ) s
/Courier-Bold 10 10 SUF
29 131 M
(switch) s
/F-gs-font 10 10 SF
65 131 M
(\(category\)) s
5 120 M
(    {) s
5 109 M
(        ) s
/Courier-Bold 10 10 SUF
53 109 M
(case) s
/F-gs-font 10 10 SF
77 109 M
( ) s
/Courier-Bold 10 10 SUF
83 109 M
(balanceAssets) s
/F-gs-font 10 10 SF
161 109 M
(:) s
5 98 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 98 M
("balanceAssets") s
/F-gs-font 10 10 SF
215 98 M
(;) s
5 87 M
(            ) s
/Courier-Bold 10 10 SUF
77 87 M
(break) s
/F-gs-font 10 10 SF
107 87 M
(;) s
5 76 M
(        ) s
/Courier-Bold 10 10 SUF
53 76 M
(case) s
/F-gs-font 10 10 SF
77 76 M
( ) s
/Courier-Bold 10 10 SUF
83 76 M
(balanceLiabilities) s
/F-gs-font 10 10 SF
191 76 M
(:) s
5 65 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 65 M
("balanceLiabilities") s
/F-gs-font 10 10 SF
245 65 M
(;) s
5 54 M
(            ) s
/Courier-Bold 10 10 SUF
77 54 M
(break) s
/F-gs-font 10 10 SF
107 54 M
(;) s
5 43 M
(        ) s
/Courier-Bold 10 10 SUF
53 43 M
(case) s
/F-gs-font 10 10 SF
77 43 M
( ) s
/Courier-Bold 10 10 SUF
83 43 M
(balanceEquities) s
/F-gs-font 10 10 SF
173 43 M
(:) s
5 32 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 32 M
("balanceEquities") s
/F-gs-font 10 10 SF
227 32 M
(;) s
5 21 M
(            ) s
/Courier-Bold 10 10 SUF
77 21 M
(break) s
/F-gs-font 10 10 SF
107 21 M
(;) s
5 10 M
(        ) s
/Courier-Bold 10 10 SUF
53 10 M
(case) s
/F-gs-font 10 10 SF
77 10 M
( ) s
/Courier-Bold 10 10 SUF
83 10 M
(incomeSvcIncome) s
/F-gs-font 10 10 SF
173 10 M
(:) s
_R
S
%%Page: (17) 17
%%BeginPageSetup
_S
18 36 translate
/pagenum 17 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (17) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 692 M
("incomeSvcIncome") s
/F-gs-font 10 10 SF
227 692 M
(;) s
5 681 M
(            ) s
/Courier-Bold 10 10 SUF
77 681 M
(break) s
/F-gs-font 10 10 SF
107 681 M
(;) s
5 670 M
(        ) s
/Courier-Bold 10 10 SUF
53 670 M
(case) s
/F-gs-font 10 10 SF
77 670 M
( ) s
/Courier-Bold 10 10 SUF
83 670 M
(incomeSvcExpenses) s
/F-gs-font 10 10 SF
185 670 M
(:) s
5 659 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 659 M
("incomeSvcExpenses") s
/F-gs-font 10 10 SF
239 659 M
(;) s
5 648 M
(            ) s
/Courier-Bold 10 10 SUF
77 648 M
(break) s
/F-gs-font 10 10 SF
107 648 M
(;) s
5 637 M
(        ) s
/Courier-Bold 10 10 SUF
53 637 M
(case) s
/F-gs-font 10 10 SF
77 637 M
( ) s
/Courier-Bold 10 10 SUF
83 637 M
(incomeRetailIncome) s
/F-gs-font 10 10 SF
191 637 M
(:) s
5 626 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 626 M
("incomeRetailIncome") s
/F-gs-font 10 10 SF
245 626 M
(;) s
5 615 M
(            ) s
/Courier-Bold 10 10 SUF
77 615 M
(break) s
/F-gs-font 10 10 SF
107 615 M
(;) s
5 604 M
(        ) s
/Courier-Bold 10 10 SUF
53 604 M
(case) s
/F-gs-font 10 10 SF
77 604 M
( ) s
/Courier-Bold 10 10 SUF
83 604 M
(incomeRetailCOS) s
/F-gs-font 10 10 SF
173 604 M
(:) s
5 593 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 593 M
("incomeRetailCOS") s
/F-gs-font 10 10 SF
227 593 M
(;) s
5 582 M
(            ) s
/Courier-Bold 10 10 SUF
77 582 M
(break) s
/F-gs-font 10 10 SF
107 582 M
(;) s
5 571 M
(        ) s
/Courier-Bold 10 10 SUF
53 571 M
(case) s
/F-gs-font 10 10 SF
77 571 M
( ) s
/Courier-Bold 10 10 SUF
83 571 M
(incomeRetailExpenses) s
/F-gs-font 10 10 SF
203 571 M
(:) s
5 560 M
(            table = ) s
/Courier-Bold 10 10 SUF
125 560 M
("incomeRetailExpenses") s
/F-gs-font 10 10 SF
257 560 M
(;) s
5 549 M
(            ) s
/Courier-Bold 10 10 SUF
77 549 M
(break) s
/F-gs-font 10 10 SF
107 549 M
(;) s
5 538 M
(    }) s
5 516 M
(    queryLastString += table + ) s
/Courier-Bold 10 10 SUF
191 516 M
(" ORDER BY key") s
/F-gs-font 10 10 SF
281 516 M
(;) s
5 505 M
(    QSqlQuery queryLast\(queryLastString, connection\);) s
5 494 M
(    queryLast.last\(\);) s
5 483 M
(    ) s
/Courier-Bold 10 10 SUF
29 483 M
(if) s
/F-gs-font 10 10 SF
41 483 M
(\(queryLast.value\(0\).toString\(\) == key && !up\) ) s
/Courier-Bold 10 10 SUF
317 483 M
(return) s
/F-gs-font 10 10 SF
353 483 M
(;) s
5 472 M
(    ) s
5 461 M
(    queryUpdateString += table + ) s
/Courier-Bold 10 10 SUF
203 461 M
(" SET key = ") s
/F-gs-font 10 10 SF
281 461 M
(;) s
5 450 M
(    ) s
5 439 M
(    QString upOrDown;) s
5 428 M
(    ) s
/Courier-Bold 10 10 SUF
29 428 M
(if) s
/F-gs-font 10 10 SF
41 428 M
(\(up\)) s
5 417 M
(        upOrDown = oneUp;) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(else) s
/F-gs-font 10 10 SF
5 395 M
(        upOrDown = oneDown;) s
5 384 M
(    queryUpdateString += ) s
/Courier-Bold 10 10 SUF
155 384 M
("0 WHERE key = ") s
/F-gs-font 10 10 SF
251 384 M
(;) s
5 373 M
(    queryUpdateString += key;) s
5 351 M
(    QSqlQuery queryUpdate\(queryUpdateString, connection\);) s
5 340 M
(    ) s
5 329 M
(    QSqlQuery queryUpdate2\() s
/Courier-Bold 10 10 SUF
167 329 M
("UPDATE ") s
/F-gs-font 10 10 SF
221 329 M
( + table + ) s
/Courier-Bold 10 10 SUF
287 329 M
(" SET key = ") s
/F-gs-font 10 10 SF
365 329 M
( + key + ) s
/Courier-Bold 10 10 SUF
419 329 M
(" WHERE key = ") s
/F-gs-font 10 10 SF
509 329 M
( + upOrDow) s
5 318 M
(n, connection\);) s
5 307 M
(    QSqlQuery queryUpdate3\() s
/Courier-Bold 10 10 SUF
167 307 M
("UPDATE ") s
/F-gs-font 10 10 SF
221 307 M
( + table + ) s
/Courier-Bold 10 10 SUF
287 307 M
(" SET key = ") s
/F-gs-font 10 10 SF
365 307 M
( + upOrDown + ) s
/Courier-Bold 10 10 SUF
449 307 M
(" WHERE key = 0") s
/F-gs-font 10 10 SF
545 307 M
(, co) s
5 296 M
(nnection\);) s
5 285 M
(}) s
5 263 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 263 M
(Database::getGeneralDetail) s
/F-gs-font 10 10 SF
221 263 M
(\(QString periodBegin, QString periodEnd,) s
5 252 M
(                                     QString accountBegin, QString accountEnd\)) s
5 241 M
({) s
5 230 M
(    QPtrList<QStringList> accounts;) s
5 219 M
(    ) s
5 208 M
(    ) s
/Courier-Bold 10 10 SUF
29 208 M
(bool) s
/F-gs-font 10 10 SF
53 208 M
( allAccounts = false;) s
5 197 M
(    ) s
/Courier-Bold 10 10 SUF
29 197 M
(if) s
/F-gs-font 10 10 SF
41 197 M
(\(accountBegin == ) s
/Courier-Bold 10 10 SUF
143 197 M
("") s
/F-gs-font 10 10 SF
155 197 M
( && accountEnd == ) s
/Courier-Bold 10 10 SUF
263 197 M
("") s
/F-gs-font 10 10 SF
275 197 M
(\)) s
5 186 M
(        allAccounts = true;) s
5 175 M
(    ) s
5 164 M
(    QSqlQuery query\(connection\);) s
5 153 M
(    ) s
/Courier-Bold 10 10 SUF
29 153 M
(if) s
/F-gs-font 10 10 SF
41 153 M
(\(allAccounts\)) s
5 142 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 142 M
("SELECT * FROM accounts ORDER BY id") s
/F-gs-font 10 10 SF
353 142 M
(\);) s
5 131 M
(    ) s
/Courier-Bold 10 10 SUF
29 131 M
(else) s
/F-gs-font 10 10 SF
5 120 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 120 M
("SELECT * FROM accounts WHERE id >= ") s
/F-gs-font 10 10 SF
359 120 M
( + accountBegin) s
5 109 M
(                      + ) s
/Courier-Bold 10 10 SUF
149 109 M
(" AND id <= ") s
/F-gs-font 10 10 SF
227 109 M
( + accountEnd + ) s
/Courier-Bold 10 10 SUF
323 109 M
(" ORDER BY id") s
/F-gs-font 10 10 SF
407 109 M
(\);) s
5 98 M
(    query.exec\(\);) s
5 76 M
(    ) s
/Courier-Bold 10 10 SUF
29 76 M
(while) s
/F-gs-font 10 10 SF
59 76 M
(\(query.next\(\)\)) s
5 65 M
(    {) s
5 54 M
(        QStringList* accountsList = ) s
/Courier-Bold 10 10 SUF
221 54 M
(new) s
/F-gs-font 10 10 SF
239 54 M
( QStringList;) s
5 43 M
(        *accountsList << query.value\(1\).toString\(\) << query.value\(2\).toString\(\);) s
5 32 M
(        accounts.append\(accountsList\);) s
5 21 M
(    }) s
5 10 M
(    ) s
_R
S
%%Page: (18) 18
%%BeginPageSetup
_S
18 36 translate
/pagenum 18 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (18) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    QRegExp dateRegexp\() s
/Courier-Bold 10 10 SUF
143 692 M
("Period \\\\d+ \\\\\(\(\\\\d\\\\d\)/\(\\\\d\\\\d\)/\(\\\\d\\\\d\)\\\\\)") s
/F-gs-font 10 10 SF
419 692 M
(\);) s
5 681 M
(    ) s
5 670 M
(    dateRegexp.search\(periodBegin\);) s
5 659 M
(    QDate periodBeginDate\(dateRegexp.cap\(3\).insert\(0,) s
/Courier-Bold 10 10 SUF
323 659 M
("20") s
/F-gs-font 10 10 SF
347 659 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\),) s
5 648 M
( dateRegexp.cap\(2\).toInt\(\)\);) s
5 637 M
(    ) s
5 626 M
(    dateRegexp.search\(periodEnd\);) s
5 615 M
(    QDate periodEndDate\(dateRegexp.cap\(3\).insert\(0,) s
/Courier-Bold 10 10 SUF
311 615 M
("20") s
/F-gs-font 10 10 SF
335 615 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\), d) s
5 604 M
(ateRegexp.cap\(2\).toInt\(\)\);) s
5 593 M
(    ) s
5 582 M
(    report->csv = ) s
/Courier-Bold 10 10 SUF
113 582 M
("Account ID,Account Description,Date,Reference,Description,Debit Amt,Credit ) s
5 571 M
(Amt,Balance\\n") s
/F-gs-font 10 10 SF
89 571 M
(;) s
5 560 M
(    report->header = ) s
/Courier-Bold 10 10 SUF
131 560 M
("<center><h1>") s
/F-gs-font 10 10 SF
215 560 M
(;) s
5 549 M
(    report->header += curClient;) s
5 538 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 538 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
245 538 M
(;) s
5 527 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 527 M
("<center><h2>General Ledger Detail</h2></center>\\n") s
/F-gs-font 10 10 SF
443 527 M
(;) s
5 516 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 516 M
("<center><h3>For the Period From ") s
/F-gs-font 10 10 SF
341 516 M
( + periodBeginDate.toString\() s
/Courier-Bold 10 10 SUF
509 516 M
("MMM d, yy) s
5 505 M
(yy") s
/F-gs-font 10 10 SF
23 505 M
(\)) s
5 494 M
(            + ) s
/Courier-Bold 10 10 SUF
89 494 M
(" to ") s
/F-gs-font 10 10 SF
125 494 M
( + periodEndDate.toString\() s
/Courier-Bold 10 10 SUF
281 494 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
359 494 M
(\) + ) s
/Courier-Bold 10 10 SUF
383 494 M
("</h3></center>\\n") s
/F-gs-font 10 10 SF
491 494 M
(;) s
5 483 M
(    ) s
5 472 M
(    ) s
/Courier-Bold 10 10 SUF
29 472 M
(if) s
/F-gs-font 10 10 SF
41 472 M
(\(allAccounts\)) s
5 461 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 461 M
("<center><h4>All Accounts</h4></center>\\n") s
/F-gs-font 10 10 SF
413 461 M
(;) s
5 450 M
(    ) s
/Courier-Bold 10 10 SUF
29 450 M
(else) s
/F-gs-font 10 10 SF
5 439 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 439 M
("<center><h4>Account Range: ") s
/F-gs-font 10 10 SF
335 439 M
( + accountBegin + ) s
/Courier-Bold 10 10 SUF
443 439 M
(" to ") s
/F-gs-font 10 10 SF
479 439 M
( + accountEnd +) s
5 428 M
( ) s
/Courier-Bold 10 10 SUF
11 428 M
("</h4></center>\\n") s
/F-gs-font 10 10 SF
119 428 M
(;) s
5 417 M
(    ) s
5 406 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 406 M
("<table width=\\"100%\\"><tr>") s
/F-gs-font 10 10 SF
5 395 M
(            ) s
/Courier-Bold 10 10 SUF
77 395 M
("<td width=\\"19%\\"><b>Account ID<br>Account Description</b></td>") s
/F-gs-font 10 10 SF
5 384 M
(            ) s
/Courier-Bold 10 10 SUF
77 384 M
("<td width=\\"10%\\"><b>Date</b></td>") s
/F-gs-font 10 10 SF
5 373 M
(            ) s
/Courier-Bold 10 10 SUF
77 373 M
("<td width=\\"10%\\"><b>Reference</b></td>") s
/F-gs-font 10 10 SF
5 362 M
(            ) s
/Courier-Bold 10 10 SUF
77 362 M
("<td width=\\"31%\\"><b>Description</b></td>") s
/F-gs-font 10 10 SF
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
("<td align=\\"right\\" width=\\"10%\\"><b>Debit Amt</b></td>") s
/F-gs-font 10 10 SF
5 340 M
(            ) s
/Courier-Bold 10 10 SUF
77 340 M
("<td align=\\"right\\" width=\\"10%\\"><b>Credit Amt</b></td>") s
/F-gs-font 10 10 SF
5 329 M
(            ) s
/Courier-Bold 10 10 SUF
77 329 M
("<td align=\\"right\\" width=\\"10%\\"><b>Balance</b></td></tr></table>") s
/F-gs-font 10 10 SF
485 329 M
(;) s
5 307 M
(    report->data = ) s
/Courier-Bold 10 10 SUF
119 307 M
("<table width=\\"100%\\">") s
/F-gs-font 10 10 SF
263 307 M
(;) s
5 296 M
(    ) s
5 285 M
(    QString beginningBalance;) s
5 274 M
(    QString periodChangeBalance;) s
5 263 M
(    QString endingBalance;) s
5 252 M
(    QString debitBalance;) s
5 241 M
(    QString creditBalance;) s
5 230 M
(    ) s
5 219 M
(    QString entryYear;) s
5 208 M
(    QString entryMonth;) s
5 197 M
(    QString entryDay;) s
5 186 M
(    QDate entryDate;) s
5 175 M
(    ) s
5 164 M
(    ) s
/Courier-Bold 10 10 SUF
29 164 M
(bool) s
/F-gs-font 10 10 SF
53 164 M
( inDateRange;) s
5 153 M
(    ) s
5 142 M
(    QDate curDate = QDate::currentDate\(\);) s
5 131 M
(    ) s
5 120 M
(    ) s
/Courier-Bold 10 10 SUF
29 120 M
(for) s
/F-gs-font 10 10 SF
47 120 M
(\(QPtrList<QStringList>::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 109 M
(    {) s
5 98 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 98 M
("SELECT date, reference, desc, debit, credit FROM journal WHERE account ) s
5 87 M
(= ") s
/F-gs-font 10 10 SF
23 87 M
( + \(**it\)[1]\);) s
5 76 M
(        query.exec\(\);) s
5 65 M
(        ) s
5 54 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 54 M
("<tr><td width=\\"19%\\">") s
/F-gs-font 10 10 SF
293 54 M
( + \(**it\)[0] + ) s
/Courier-Bold 10 10 SUF
383 54 M
("</td><td width=\\"10%\\">") s
/F-gs-font 10 10 SF
5 43 M
(                + periodBeginDate.toString\() s
/Courier-Bold 10 10 SUF
263 43 M
("MM/dd/yy") s
/F-gs-font 10 10 SF
323 43 M
(\) +) s
5 32 M
(                ) s
/Courier-Bold 10 10 SUF
101 32 M
("</td><td width=\\"10%\\"> </td><td width=\\"31%\\">Beginning Balance</td><td widt) s
5 21 M
(h=\\"10%\\"> </td>") s
/F-gs-font 10 10 SF
5 10 M
(                ) s
/Courier-Bold 10 10 SUF
101 10 M
("<td width=\\"10%\\"> </td><td align=\\"right\\" width=\\"10%\\">\(BALANCE\)</td></tr>) s
_R
S
%%Page: (19) 19
%%BeginPageSetup
_S
18 36 translate
/pagenum 19 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
/Courier-Bold 10 10 SUF
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (19) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(") s
/F-gs-font 10 10 SF
11 692 M
(;) s
5 681 M
(        ) s
5 670 M
(        ) s
/Courier-Bold 10 10 SUF
53 670 M
(bool) s
/F-gs-font 10 10 SF
77 670 M
( accountDescDisplayed = false;) s
5 659 M
(        ) s
5 648 M
(        report->csv += \(**it\)[0] + ) s
/Courier-Bold 10 10 SUF
215 648 M
(",") s
/F-gs-font 10 10 SF
233 648 M
( + \(**it\)[1] + ) s
/Courier-Bold 10 10 SUF
323 648 M
(",") s
/F-gs-font 10 10 SF
341 648 M
( + periodBeginDate.toString\() s
/Courier-Bold 10 10 SUF
509 648 M
("MM/dd/yy") s
/F-gs-font 10 10 SF
569 648 M
() s
5 637 M
(\) +) s
5 626 M
(                ) s
/Courier-Bold 10 10 SUF
101 626 M
(",,Beginning Balance,,,\(BALANCE\)\\n") s
/F-gs-font 10 10 SF
311 626 M
(;) s
5 615 M
(        ) s
5 604 M
(        beginningBalance = ) s
/Courier-Bold 10 10 SUF
167 604 M
("0.00") s
/F-gs-font 10 10 SF
203 604 M
(;) s
5 593 M
(        periodChangeBalance = ) s
/Courier-Bold 10 10 SUF
185 593 M
("0.00") s
/F-gs-font 10 10 SF
221 593 M
(;) s
5 582 M
(        endingBalance = ) s
/Courier-Bold 10 10 SUF
149 582 M
("0.00") s
/F-gs-font 10 10 SF
185 582 M
(;) s
5 571 M
(        debitBalance = ) s
/Courier-Bold 10 10 SUF
143 571 M
("0.00") s
/F-gs-font 10 10 SF
179 571 M
(;) s
5 560 M
(        creditBalance = ) s
/Courier-Bold 10 10 SUF
149 560 M
("0.00") s
/F-gs-font 10 10 SF
185 560 M
(;) s
5 549 M
(        ) s
5 538 M
(        ) s
/Courier-Bold 10 10 SUF
53 538 M
(if) s
/F-gs-font 10 10 SF
65 538 M
(\(query.first\(\)\)) s
5 527 M
(        {) s
5 516 M
(            query.seek\(-1\);) s
5 505 M
(            ) s
5 494 M
(            inDateRange = false;) s
5 483 M
(            ) s
5 472 M
(            ) s
/Courier-Bold 10 10 SUF
77 472 M
(while) s
/F-gs-font 10 10 SF
107 472 M
(\(query.next\(\)\)) s
5 461 M
(            {) s
5 450 M
(                QString entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 439 M
(                    ) s
5 428 M
(                ) s
/Courier-Bold 10 10 SUF
101 428 M
(if) s
/F-gs-font 10 10 SF
113 428 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 428 M
("yy") s
/F-gs-font 10 10 SF
371 428 M
(\).toInt\(\) + 2\)\)) s
5 417 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 417 M
("20") s
/F-gs-font 10 10 SF
269 417 M
(\);) s
5 406 M
(                ) s
/Courier-Bold 10 10 SUF
101 406 M
(else) s
/F-gs-font 10 10 SF
5 395 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 395 M
("19") s
/F-gs-font 10 10 SF
269 395 M
(\);) s
5 384 M
(                ) s
5 373 M
(                QString entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 362 M
(                QString entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 351 M
(                ) s
5 340 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 329 M
(                ) s
5 318 M
(                ) s
/Courier-Bold 10 10 SUF
101 318 M
(if) s
/F-gs-font 10 10 SF
113 318 M
(\(entryDate >= periodBeginDate && entryDate <= periodEndDate\)) s
5 307 M
(                {) s
5 296 M
(                    inDateRange = true;) s
5 285 M
(                    ) s
5 274 M
(                    ) s
/Courier-Bold 10 10 SUF
125 274 M
(if) s
/F-gs-font 10 10 SF
137 274 M
(\(!accountDescDisplayed\)) s
5 263 M
(                    {) s
5 252 M
(                        report->data += ) s
/Courier-Bold 10 10 SUF
245 252 M
("<tr><td width=\\"19%\\">") s
/F-gs-font 10 10 SF
389 252 M
( + \(**it\)[1] + ) s
/Courier-Bold 10 10 SUF
479 252 M
("</td>") s
/F-gs-font 10 10 SF
521 252 M
(;) s
5 241 M
(                        accountDescDisplayed = true;) s
5 230 M
(                    }) s
5 219 M
(                    ) s
/Courier-Bold 10 10 SUF
125 219 M
(else) s
/F-gs-font 10 10 SF
5 208 M
(                        report->data += ) s
/Courier-Bold 10 10 SUF
245 208 M
("<tr><td width=\\"19%\\"> </td>") s
/F-gs-font 10 10 SF
425 208 M
(;) s
5 197 M
(                    ) s
5 186 M
(                    report->data += ) s
/Courier-Bold 10 10 SUF
221 186 M
("<td width=\\"10%\\">") s
/F-gs-font 10 10 SF
341 186 M
( + query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
527 186 M
("</td><) s
5 175 M
(td width=\\"10%\\">") s
/F-gs-font 10 10 SF
5 164 M
(                            + query.value\(1\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
353 164 M
("</td><td width=\\"31%\\">") s
/F-gs-font 10 10 SF
5 153 M
(                            + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
353 153 M
("</td><td align=\\"right\\" width=\\"10) s
5 142 M
(%\\">") s
/F-gs-font 10 10 SF
5 131 M
(                            + addCommas\(query.value\(3\).toString\(\)\) + ) s
/Courier-Bold 10 10 SUF
419 131 M
("</td><td align=\\"right\\") s
5 120 M
( width=\\"10%\\">") s
/F-gs-font 10 10 SF
5 109 M
(                            + addCommas\(query.value\(4\).toString\(\)\) + ) s
/Courier-Bold 10 10 SUF
419 109 M
("</td><td width=\\"10%\\"> ) s
5 98 M
(</td></tr>\\n") s
/F-gs-font 10 10 SF
83 98 M
(;) s
5 87 M
(                    ) s
5 76 M
(                    report->csv += \(**it\)[0] + ) s
/Courier-Bold 10 10 SUF
287 76 M
(",") s
/F-gs-font 10 10 SF
305 76 M
( + \(**it\)[1] + ) s
/Courier-Bold 10 10 SUF
395 76 M
(",") s
/F-gs-font 10 10 SF
5 65 M
(                            + query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
353 65 M
(",") s
/F-gs-font 10 10 SF
371 65 M
( + query.value\(1\).toString\(\)) s
5 54 M
(                            + ) s
/Courier-Bold 10 10 SUF
185 54 M
(",") s
/F-gs-font 10 10 SF
203 54 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
389 54 M
(",") s
/F-gs-font 10 10 SF
407 54 M
( + query.value\(3\).toString\() s
5 43 M
(\)) s
5 32 M
(                            + ) s
/Courier-Bold 10 10 SUF
185 32 M
(",") s
/F-gs-font 10 10 SF
203 32 M
( + query.value\(4\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
389 32 M
(",\\n") s
/F-gs-font 10 10 SF
419 32 M
(;) s
5 21 M
(                    ) s
5 10 M
(                    debitBalance = addCurrency\(debitBalance, query.value\(3\).toString\(\)\);) s
_R
S
%%Page: (20) 20
%%BeginPageSetup
_S
18 36 translate
/pagenum 20 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (20) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                    creditBalance = addCurrency\(creditBalance, query.value\(4\).toString\(\)\);) s
5 681 M
(                    ) s
5 670 M
(                    periodChangeBalance = addCurrency\(debitBalance, QString\(creditBalance\).ins) s
5 659 M
(ert\(0,) s
/Courier-Bold 10 10 SUF
41 659 M
("-") s
/F-gs-font 10 10 SF
59 659 M
(\)\);) s
5 648 M
(            ) s
5 637 M
(                }) s
5 626 M
(                ) s
/Courier-Bold 10 10 SUF
101 626 M
(if) s
/F-gs-font 10 10 SF
113 626 M
(\(entryDate < periodBeginDate\)) s
5 615 M
(                {) s
5 604 M
(                    beginningBalance = addCurrency\(beginningBalance, query.value\(3\).toString\(\)) s
5 593 M
(\);) s
5 582 M
(                    beginningBalance = addCurrency\(beginningBalance, negCurrency\(query.value\(4) s
5 571 M
(\).toString\(\)\)\);) s
5 560 M
(                }) s
5 549 M
(            }) s
5 538 M
(            ) s
5 527 M
(            ) s
/Courier-Bold 10 10 SUF
77 527 M
(if) s
/F-gs-font 10 10 SF
89 527 M
(\(inDateRange\)) s
5 516 M
(            {   ) s
5 505 M
(                report->data += ) s
/Courier-Bold 10 10 SUF
197 505 M
("<tr><td width=\\"19%\\"> </td><td width=\\"10%\\"> </td><td width) s
5 494 M
(=\\"10%\\"> </td>") s
/F-gs-font 10 10 SF
5 483 M
(                        ) s
/Courier-Bold 10 10 SUF
149 483 M
("<td width=\\"31%\\">Current Period Change</td><td align=\\"right\\" width) s
5 472 M
(=\\"10%\\">") s
/F-gs-font 10 10 SF
5 461 M
(                        + addCommas\(debitBalance\) + ) s
/Courier-Bold 10 10 SUF
317 461 M
("</td><td align=\\"right\\" width=\\"10%\\">") s
/F-gs-font 10 10 SF
5 450 M
(                        + addCommas\(creditBalance\) + ) s
/Courier-Bold 10 10 SUF
323 450 M
("</td><td align=\\"right\\" width=\\"10%\\">") s
/F-gs-font 10 10 SF
5 439 M
(                        + addCommas\(periodChangeBalance\) + ) s
/Courier-Bold 10 10 SUF
359 439 M
("</td></tr>\\n") s
/F-gs-font 10 10 SF
443 439 M
(;) s
5 428 M
(                ) s
5 417 M
(                report->csv += ) s
/Courier-Bold 10 10 SUF
191 417 M
(",,,Current Period Change,") s
/F-gs-font 10 10 SF
353 417 M
( + debitBalance + ) s
/Courier-Bold 10 10 SUF
461 417 M
(",") s
/F-gs-font 10 10 SF
479 417 M
( + creditBalanc) s
5 406 M
(e) s
5 395 M
(                        + ) s
/Courier-Bold 10 10 SUF
161 395 M
(",") s
/F-gs-font 10 10 SF
179 395 M
( + periodChangeBalance + ) s
/Courier-Bold 10 10 SUF
329 395 M
("\\n") s
/F-gs-font 10 10 SF
353 395 M
(;) s
5 384 M
(            }) s
5 373 M
(        }) s
5 362 M
(        ) s
/Courier-Bold 10 10 SUF
53 362 M
(else) s
/F-gs-font 10 10 SF
5 351 M
(        {) s
5 340 M
(            report->data += ) s
/Courier-Bold 10 10 SUF
173 340 M
("<tr><td width=\\"19%\\">") s
/F-gs-font 10 10 SF
317 340 M
( + \(**it\)[1] + ) s
/Courier-Bold 10 10 SUF
407 340 M
("</td></tr>\\n") s
/F-gs-font 10 10 SF
491 340 M
(;) s
5 329 M
(            accountDescDisplayed = true;) s
5 318 M
(        }) s
5 307 M
(        ) s
5 296 M
(        ) s
/Courier-Bold 10 10 SUF
53 296 M
(if) s
/F-gs-font 10 10 SF
65 296 M
(\(!accountDescDisplayed\)) s
5 285 M
(            report->data += ) s
/Courier-Bold 10 10 SUF
173 285 M
("<tr><td width=\\"19%\\">") s
/F-gs-font 10 10 SF
317 285 M
( + \(**it\)[1] + ) s
/Courier-Bold 10 10 SUF
407 285 M
("</td></tr>") s
/F-gs-font 10 10 SF
479 285 M
(;) s
5 274 M
(        ) s
5 263 M
(        ) s
/Courier-Bold 10 10 SUF
53 263 M
(if) s
/F-gs-font 10 10 SF
65 263 M
(\(beginningBalance == ) s
/Courier-Bold 10 10 SUF
191 263 M
("0.00") s
/F-gs-font 10 10 SF
227 263 M
( && debitBalance == ) s
/Courier-Bold 10 10 SUF
347 263 M
("0.00") s
/F-gs-font 10 10 SF
383 263 M
( && creditBalance == ) s
/Courier-Bold 10 10 SUF
509 263 M
("0.00") s
/F-gs-font 10 10 SF
545 263 M
(\)) s
5 252 M
(            endingBalance = ) s
/Courier-Bold 10 10 SUF
173 252 M
("") s
/F-gs-font 10 10 SF
185 252 M
(;) s
5 241 M
(        ) s
/Courier-Bold 10 10 SUF
53 241 M
(else) s
/F-gs-font 10 10 SF
5 230 M
(            endingBalance = addCurrency\(beginningBalance, periodChangeBalance\);) s
5 219 M
(        ) s
5 208 M
(        ) s
/Courier-Bold 10 10 SUF
53 208 M
(if) s
/F-gs-font 10 10 SF
65 208 M
(\(beginningBalance == ) s
/Courier-Bold 10 10 SUF
191 208 M
("0.00") s
/F-gs-font 10 10 SF
227 208 M
(\)) s
5 197 M
(            beginningBalance = ) s
/Courier-Bold 10 10 SUF
191 197 M
("") s
/F-gs-font 10 10 SF
203 197 M
(;) s
5 186 M
(        ) s
5 175 M
(        report->data = \(report->data\).replace\() s
/Courier-Bold 10 10 SUF
281 175 M
("\(BALANCE\)") s
/F-gs-font 10 10 SF
347 175 M
(, addCommas\(beginningBalance\)\);) s
5 164 M
(        report->csv = \(report->csv\).replace\() s
/Courier-Bold 10 10 SUF
269 164 M
("\(BALANCE\)") s
/F-gs-font 10 10 SF
335 164 M
(, beginningBalance\);) s
5 153 M
(        ) s
5 142 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 142 M
("<tr><td width=\\"19%\\"> </td><td width=\\"10%\\"><b>") s
/F-gs-font 10 10 SF
5 131 M
(                + periodEndDate.toString\() s
/Courier-Bold 10 10 SUF
251 131 M
("MM/dd/yy") s
/F-gs-font 10 10 SF
311 131 M
(\) + ) s
/Courier-Bold 10 10 SUF
335 131 M
("</b></td>") s
/F-gs-font 10 10 SF
5 120 M
(                ) s
/Courier-Bold 10 10 SUF
101 120 M
("<td width=\\"10%\\"> </td><td width=\\"31%\\"><b>Ending Balance</b></td>") s
/F-gs-font 10 10 SF
5 109 M
(                ) s
/Courier-Bold 10 10 SUF
101 109 M
("<td width=\\"10%\\"> </td><td width=\\"10%\\"> </td><td align=\\"right\\" width=\\"1) s
5 98 M
(0%\\"><b>") s
/F-gs-font 10 10 SF
5 87 M
(                + addCommas\(endingBalance\) + ) s
/Courier-Bold 10 10 SUF
275 87 M
("</b></td></tr><tr><td> </td></tr><tr><td> </td><) s
5 76 M
(/tr>\\n") s
/F-gs-font 10 10 SF
47 76 M
(;) s
5 65 M
(        ) s
5 54 M
(        report->csv += ) s
/Courier-Bold 10 10 SUF
143 54 M
(",") s
/F-gs-font 10 10 SF
161 54 M
( + periodEndDate.toString\() s
/Courier-Bold 10 10 SUF
317 54 M
("MM/dd/yy") s
/F-gs-font 10 10 SF
377 54 M
(\) + ) s
/Courier-Bold 10 10 SUF
401 54 M
(",,Ending Balance,,,") s
/F-gs-font 10 10 SF
5 43 M
(                + endingBalance + ) s
/Courier-Bold 10 10 SUF
209 43 M
("\\n") s
/F-gs-font 10 10 SF
233 43 M
(;) s
5 21 M
(        ) s
/Courier-Bold 10 10 SUF
53 21 M
(delete) s
/F-gs-font 10 10 SF
89 21 M
( *it;) s
5 10 M
(        ) s
_R
S
%%Page: (21) 21
%%BeginPageSetup
_S
18 36 translate
/pagenum 21 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (21) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    }) s
5 670 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 670 M
("</table>") s
/F-gs-font 10 10 SF
185 670 M
(;) s
5 659 M
(    ) s
5 648 M
(    report->string = ) s
/Courier-Bold 10 10 SUF
131 648 M
("<qt>") s
/F-gs-font 10 10 SF
167 648 M
( + report->header + report->data + ) s
/Courier-Bold 10 10 SUF
377 648 M
("</qt>") s
/F-gs-font 10 10 SF
419 648 M
(;) s
5 637 M
(    ) s
5 626 M
(    report->html = report->string.replace\() s
5 615 M
(            ) s
/Courier-Bold 10 10 SUF
77 615 M
("<qt>") s
/F-gs-font 10 10 SF
113 615 M
(, ) s
/Courier-Bold 10 10 SUF
125 615 M
("<html><head><title>") s
/F-gs-font 10 10 SF
251 615 M
( + curClient +) s
5 604 M
(            ) s
/Courier-Bold 10 10 SUF
77 604 M
(" - General Ledger Detail</title></head><body>\\n") s
/F-gs-font 10 10 SF
371 604 M
(\).replace\() s
5 593 M
(                    ) s
/Courier-Bold 10 10 SUF
125 593 M
("</qt>") s
/F-gs-font 10 10 SF
167 593 M
(, ) s
/Courier-Bold 10 10 SUF
179 593 M
("</body></html>") s
/F-gs-font 10 10 SF
275 593 M
(\);) s
5 582 M
(    ) s
5 571 M
(    ) s
/Courier-Bold 10 10 SUF
29 571 M
(return) s
/F-gs-font 10 10 SF
65 571 M
( ) s
/Courier-Bold 10 10 SUF
71 571 M
(this) s
/F-gs-font 10 10 SF
95 571 M
(;) s
5 560 M
(}) s
5 538 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 538 M
(Database::getGeneralTrialBalance) s
/F-gs-font 10 10 SF
257 538 M
(\(QString periodEnd, QString accountBegin, QString ac) s
5 527 M
(countEnd\)) s
5 516 M
({) s
5 505 M
(    QPtrList<QStringList> accounts;) s
5 494 M
(    ) s
5 483 M
(    ) s
/Courier-Bold 10 10 SUF
29 483 M
(bool) s
/F-gs-font 10 10 SF
53 483 M
( allAccounts = false;) s
5 472 M
(    ) s
/Courier-Bold 10 10 SUF
29 472 M
(if) s
/F-gs-font 10 10 SF
41 472 M
(\(accountBegin == ) s
/Courier-Bold 10 10 SUF
143 472 M
("") s
/F-gs-font 10 10 SF
155 472 M
( && accountEnd == ) s
/Courier-Bold 10 10 SUF
263 472 M
("") s
/F-gs-font 10 10 SF
275 472 M
(\)) s
5 461 M
(        allAccounts = true;) s
5 450 M
(   ) s
5 439 M
(    QSqlQuery query\(connection\);) s
5 428 M
(    ) s
/Courier-Bold 10 10 SUF
29 428 M
(if) s
/F-gs-font 10 10 SF
41 428 M
(\(allAccounts\)) s
5 417 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 417 M
("SELECT * FROM accounts ORDER BY id") s
/F-gs-font 10 10 SF
353 417 M
(\);) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(else) s
/F-gs-font 10 10 SF
5 395 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 395 M
("SELECT * FROM accounts WHERE id >= ") s
/F-gs-font 10 10 SF
359 395 M
( + accountBegin) s
5 384 M
(                      + ) s
/Courier-Bold 10 10 SUF
149 384 M
(" AND id <= ") s
/F-gs-font 10 10 SF
227 384 M
( + accountEnd + ) s
/Courier-Bold 10 10 SUF
323 384 M
(" ORDER BY id") s
/F-gs-font 10 10 SF
407 384 M
(\);) s
5 373 M
(    query.exec\(\);) s
5 351 M
(    ) s
/Courier-Bold 10 10 SUF
29 351 M
(while) s
/F-gs-font 10 10 SF
59 351 M
(\(query.next\(\)\)) s
5 340 M
(    {) s
5 329 M
(        QStringList* accountsList = ) s
/Courier-Bold 10 10 SUF
221 329 M
(new) s
/F-gs-font 10 10 SF
239 329 M
( QStringList;) s
5 318 M
(        *accountsList << query.value\(1\).toString\(\) << query.value\(2\).toString\(\);) s
5 307 M
(        accounts.append\(accountsList\);) s
5 296 M
(    }) s
5 285 M
(    ) s
5 274 M
(    QDate curDate = QDate::currentDate\(\);) s
5 263 M
(    ) s
5 252 M
(    QRegExp dateRegexp\() s
/Courier-Bold 10 10 SUF
143 252 M
("Period \\\\d+ \\\\\(\(\\\\d\\\\d\)/\(\\\\d\\\\d\)/\(\\\\d\\\\d\)\\\\\)") s
/F-gs-font 10 10 SF
419 252 M
(\);) s
5 241 M
(    dateRegexp.search\(periodEnd\);) s
5 230 M
(    ) s
5 219 M
(    QDate periodDate\(dateRegexp.cap\(3\).insert\(0,) s
/Courier-Bold 10 10 SUF
293 219 M
("20") s
/F-gs-font 10 10 SF
317 219 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\), date) s
5 208 M
(Regexp.cap\(2\).toInt\(\)\);) s
5 197 M
(    ) s
5 186 M
(    report->csv = ) s
/Courier-Bold 10 10 SUF
113 186 M
("Account ID,Account Description,Debit Amt,Credit Amt\\n") s
/F-gs-font 10 10 SF
443 186 M
(;) s
5 175 M
(    report->header = ) s
/Courier-Bold 10 10 SUF
131 175 M
("<center><h1>") s
/F-gs-font 10 10 SF
215 175 M
(;) s
5 164 M
(    report->header += curClient;) s
5 153 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 153 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
245 153 M
(;) s
5 142 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 142 M
("<center><h2>General Ledger Trial Balance</h2></center>\\n") s
/F-gs-font 10 10 SF
485 142 M
(;) s
5 131 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 131 M
("<center><h3>As of ") s
/F-gs-font 10 10 SF
257 131 M
( + periodDate.toString\() s
/Courier-Bold 10 10 SUF
395 131 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
473 131 M
(\) + ) s
/Courier-Bold 10 10 SUF
497 131 M
("</h3></cent) s
5 120 M
(er>\\n") s
/F-gs-font 10 10 SF
41 120 M
(;) s
5 109 M
(    ) s
5 98 M
(    ) s
/Courier-Bold 10 10 SUF
29 98 M
(if) s
/F-gs-font 10 10 SF
41 98 M
(\(allAccounts\)) s
5 87 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 87 M
("<center><h4>All Accounts</h4></center>\\n") s
/F-gs-font 10 10 SF
413 87 M
(;) s
5 76 M
(    ) s
/Courier-Bold 10 10 SUF
29 76 M
(else) s
/F-gs-font 10 10 SF
5 65 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 65 M
("<center><h4>Account Range: ") s
/F-gs-font 10 10 SF
335 65 M
( + accountBegin + ) s
/Courier-Bold 10 10 SUF
443 65 M
(" to ") s
/F-gs-font 10 10 SF
479 65 M
( + accountEnd +) s
5 54 M
( ) s
/Courier-Bold 10 10 SUF
11 54 M
("</h4></center>\\n") s
/F-gs-font 10 10 SF
119 54 M
(;) s
5 43 M
(    ) s
5 32 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 32 M
("<table width=\\"100%\\"><tr><td width=\\"19%\\"><b>Account ID</b></td>") s
/F-gs-font 10 10 SF
5 21 M
(            ) s
/Courier-Bold 10 10 SUF
77 21 M
("<td width=\\"31%\\"><b>Account Description</b></td>") s
/F-gs-font 10 10 SF
5 10 M
(            ) s
/Courier-Bold 10 10 SUF
77 10 M
("<td align=\\"right\\" width=\\"10%\\"><b>Debit Amt</b></td>") s
/F-gs-font 10 10 SF
_R
S
%%Page: (22) 22
%%BeginPageSetup
_S
18 36 translate
/pagenum 22 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (22) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(            ) s
/Courier-Bold 10 10 SUF
77 692 M
("<td align=\\"right\\" width=\\"10%\\"><b>Credit Amt</b></td><td width=\\"30%\\"> </td><) s
5 681 M
(/tr></table>") s
/F-gs-font 10 10 SF
83 681 M
(;) s
5 659 M
(    report->data = ) s
/Courier-Bold 10 10 SUF
119 659 M
("<table width=\\"100%\\">") s
/F-gs-font 10 10 SF
263 659 M
(;) s
5 648 M
(    ) s
5 637 M
(    QString debit = ) s
/Courier-Bold 10 10 SUF
125 637 M
("0.00") s
/F-gs-font 10 10 SF
161 637 M
(;) s
5 626 M
(    QString credit = ) s
/Courier-Bold 10 10 SUF
131 626 M
("0.00") s
/F-gs-font 10 10 SF
167 626 M
(;) s
5 615 M
(    QString totalDebit = ) s
/Courier-Bold 10 10 SUF
155 615 M
("0.00") s
/F-gs-font 10 10 SF
191 615 M
(;) s
5 604 M
(    QString totalCredit = ) s
/Courier-Bold 10 10 SUF
161 604 M
("0.00") s
/F-gs-font 10 10 SF
197 604 M
(;) s
5 593 M
(    ) s
5 582 M
(    QString entryYear;) s
5 571 M
(    QString entryMonth;) s
5 560 M
(    QString entryDay;) s
5 549 M
(    QDate entryDate;) s
5 538 M
(    ) s
5 527 M
(    ) s
/Courier-Bold 10 10 SUF
29 527 M
(for) s
/F-gs-font 10 10 SF
47 527 M
(\(QPtrList<QStringList>::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 516 M
(    {) s
5 505 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 505 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
485 505 M
( + \(**it\)[0]\);) s
5 494 M
(        query.exec\(\);) s
5 483 M
(        ) s
5 472 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 472 M
("<tr><td width=\\"19%\\">") s
/F-gs-font 10 10 SF
293 472 M
( + \(**it\)[0] + ) s
/Courier-Bold 10 10 SUF
383 472 M
("</td><td width=\\"31%\\">") s
/F-gs-font 10 10 SF
533 472 M
( + \(**) s
5 461 M
(it\)[1]) s
5 450 M
(                + ) s
/Courier-Bold 10 10 SUF
113 450 M
("</td><td align=\\"right\\" width=\\"10%\\">") s
/F-gs-font 10 10 SF
359 450 M
(;) s
5 439 M
(        report->csv += \(**it\)[0] + ) s
/Courier-Bold 10 10 SUF
215 439 M
(",") s
/F-gs-font 10 10 SF
233 439 M
( + \(**it\)[1] + ) s
/Courier-Bold 10 10 SUF
323 439 M
(",") s
/F-gs-font 10 10 SF
341 439 M
(;) s
5 428 M
(        ) s
5 417 M
(        ) s
/Courier-Bold 10 10 SUF
53 417 M
(if) s
/F-gs-font 10 10 SF
65 417 M
(\(query.first\(\)\)) s
5 406 M
(        {) s
5 395 M
(            debit = ) s
/Courier-Bold 10 10 SUF
125 395 M
("0.00") s
/F-gs-font 10 10 SF
161 395 M
(;) s
5 384 M
(            credit = ) s
/Courier-Bold 10 10 SUF
131 384 M
("0.00") s
/F-gs-font 10 10 SF
167 384 M
(;) s
5 373 M
(            ) s
5 362 M
(            query.seek\(-1\);) s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
(while) s
/F-gs-font 10 10 SF
107 351 M
(\(query.next\(\)\)) s
5 340 M
(            {) s
5 329 M
(                QString entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 318 M
(                ) s
5 307 M
(                ) s
/Courier-Bold 10 10 SUF
101 307 M
(if) s
/F-gs-font 10 10 SF
113 307 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 307 M
("yy") s
/F-gs-font 10 10 SF
371 307 M
(\).toInt\(\) + 2\)\)) s
5 296 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 296 M
("20") s
/F-gs-font 10 10 SF
269 296 M
(\);) s
5 285 M
(                ) s
/Courier-Bold 10 10 SUF
101 285 M
(else) s
/F-gs-font 10 10 SF
5 274 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 274 M
("19") s
/F-gs-font 10 10 SF
269 274 M
(\);) s
5 263 M
(                ) s
5 252 M
(                QString entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 241 M
(                QString entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 230 M
(                ) s
5 219 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 208 M
(                ) s
/Courier-Bold 10 10 SUF
101 208 M
(if) s
/F-gs-font 10 10 SF
113 208 M
(\(entryDate > periodDate\)) s
5 197 M
(                    ) s
/Courier-Bold 10 10 SUF
125 197 M
(continue) s
/F-gs-font 10 10 SF
173 197 M
(;) s
5 186 M
(                ) s
5 175 M
(                debit = addCurrency\(debit, query.value\(1\).toString\(\)\);) s
5 164 M
(                credit = addCurrency\(credit, query.value\(2\).toString\(\)\);) s
5 153 M
(            }) s
5 142 M
(            ) s
5 131 M
(            totalDebit = addCurrency\(totalDebit, debit\);) s
5 120 M
(            totalCredit = addCurrency\(totalCredit, credit\);) s
5 109 M
(            ) s
5 98 M
(            ) s
/Courier-Bold 10 10 SUF
77 98 M
(if) s
/F-gs-font 10 10 SF
89 98 M
(\(debit != ) s
/Courier-Bold 10 10 SUF
149 98 M
("0.00") s
/F-gs-font 10 10 SF
185 98 M
(\)) s
5 87 M
(                report->data += addCommas\(debit\);) s
5 76 M
(            report->data += ) s
/Courier-Bold 10 10 SUF
173 76 M
("</td><td align=\\"right\\" width=\\"10%\\">") s
/F-gs-font 10 10 SF
419 76 M
(;) s
5 65 M
(            ) s
/Courier-Bold 10 10 SUF
77 65 M
(if) s
/F-gs-font 10 10 SF
89 65 M
(\(credit != ) s
/Courier-Bold 10 10 SUF
155 65 M
("0.00") s
/F-gs-font 10 10 SF
191 65 M
(\)) s
5 54 M
(                report->data += addCommas\(credit\);) s
5 43 M
(            report->data += ) s
/Courier-Bold 10 10 SUF
173 43 M
("</td><td width=\\"30%\\"> </td></tr>\\n") s
/F-gs-font 10 10 SF
401 43 M
(;) s
5 32 M
(            ) s
5 21 M
(            report->csv += debit + ) s
/Courier-Bold 10 10 SUF
215 21 M
(",") s
/F-gs-font 10 10 SF
233 21 M
( + credit + ) s
/Courier-Bold 10 10 SUF
305 21 M
("\\n") s
/F-gs-font 10 10 SF
329 21 M
(;) s
5 10 M
(        }) s
_R
S
%%Page: (23) 23
%%BeginPageSetup
_S
18 36 translate
/pagenum 23 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (23) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        ) s
/Courier-Bold 10 10 SUF
53 692 M
(else) s
/F-gs-font 10 10 SF
5 681 M
(        {) s
5 670 M
(            report->data += ) s
/Courier-Bold 10 10 SUF
173 670 M
("</td><td width=\\"10%\\"> </td><td width=\\"30%\\"> </td></tr>\\n") s
/F-gs-font 10 10 SF
545 670 M
(;) s
5 659 M
(            report->csv += ) s
/Courier-Bold 10 10 SUF
167 659 M
(",\\n") s
/F-gs-font 10 10 SF
197 659 M
(;) s
5 648 M
(        }) s
5 626 M
(        ) s
/Courier-Bold 10 10 SUF
53 626 M
(delete) s
/F-gs-font 10 10 SF
89 626 M
( *it;) s
5 615 M
(    }) s
5 604 M
(    ) s
5 593 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 593 M
("<tr><td> </td><td> </td><td> </td><td> </td>") s
/F-gs-font 10 10 SF
5 582 M
(            ) s
/Courier-Bold 10 10 SUF
77 582 M
("</tr><tr><td width=\\"19%\\"> </td><td width=\\"31%\\"><b>Total:</b></td>") s
/F-gs-font 10 10 SF
5 571 M
(            ) s
/Courier-Bold 10 10 SUF
77 571 M
("<td align=\\"right\\" width=\\"10%\\"><b>") s
/F-gs-font 10 10 SF
311 571 M
( + addCommas\(totalDebit\)) s
5 560 M
(            + ) s
/Courier-Bold 10 10 SUF
89 560 M
("</b></td><td align=\\"right\\" width=\\"10%\\"><b>") s
/F-gs-font 10 10 SF
377 560 M
( + addCommas\(totalCredit\) + ) s
/Courier-Bold 10 10 SUF
545 560 M
("</b) s
5 549 M
(></td>") s
/F-gs-font 10 10 SF
5 538 M
(            ) s
/Courier-Bold 10 10 SUF
77 538 M
("<td width=\\"30%\\"> </td></tr>\\n</table>") s
/F-gs-font 10 10 SF
323 538 M
(;) s
5 516 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 516 M
(",,,,,Total:,") s
/F-gs-font 10 10 SF
203 516 M
( + totalDebit + ) s
/Courier-Bold 10 10 SUF
299 516 M
(",") s
/F-gs-font 10 10 SF
317 516 M
( + totalCredit + ) s
/Courier-Bold 10 10 SUF
419 516 M
(",\\n") s
/F-gs-font 10 10 SF
449 516 M
(;) s
5 505 M
(    ) s
5 494 M
(    ) s
5 483 M
(    report->string = ) s
/Courier-Bold 10 10 SUF
131 483 M
("<qt>") s
/F-gs-font 10 10 SF
167 483 M
( + report->header + report->data + ) s
/Courier-Bold 10 10 SUF
377 483 M
("</qt>") s
/F-gs-font 10 10 SF
419 483 M
(;) s
5 472 M
(    ) s
5 461 M
(    report->html = report->string.replace\() s
5 450 M
(            ) s
/Courier-Bold 10 10 SUF
77 450 M
("<qt>") s
/F-gs-font 10 10 SF
113 450 M
(, ) s
/Courier-Bold 10 10 SUF
125 450 M
("<html><head><title>") s
/F-gs-font 10 10 SF
251 450 M
( + curClient +) s
5 439 M
(            ) s
/Courier-Bold 10 10 SUF
77 439 M
(" - General Ledger Trial Balance</title></head><body>\\n") s
/F-gs-font 10 10 SF
413 439 M
(\).replace\() s
5 428 M
(            ) s
/Courier-Bold 10 10 SUF
77 428 M
("</qt>") s
/F-gs-font 10 10 SF
119 428 M
(, ) s
/Courier-Bold 10 10 SUF
131 428 M
("</body></html>") s
/F-gs-font 10 10 SF
227 428 M
(\);) s
5 417 M
(    ) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(return) s
/F-gs-font 10 10 SF
65 406 M
( ) s
/Courier-Bold 10 10 SUF
71 406 M
(this) s
/F-gs-font 10 10 SF
95 406 M
(;) s
5 395 M
(}) s
5 373 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 373 M
(Database::getBalanceReport) s
/F-gs-font 10 10 SF
221 373 M
(\(QString periodEnd\)) s
5 362 M
({) s
5 340 M
(    QRegExp dateRegexp\() s
/Courier-Bold 10 10 SUF
143 340 M
("Period \\\\d+ \\\\\(\(\\\\d\\\\d\)/\(\\\\d\\\\d\)/\(\\\\d\\\\d\)\\\\\)") s
/F-gs-font 10 10 SF
419 340 M
(\);) s
5 329 M
(    dateRegexp.search\(periodEnd\);) s
5 318 M
(    ) s
5 307 M
(    QDate curDate = QDate::currentDate\(\);) s
5 296 M
(    QDate periodDate\(dateRegexp.cap\(3\).insert\(0,) s
/Courier-Bold 10 10 SUF
293 296 M
("20") s
/F-gs-font 10 10 SF
317 296 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\), date) s
5 285 M
(Regexp.cap\(2\).toInt\(\)\);) s
5 274 M
(    QString entryYear;) s
5 263 M
(    QString entryMonth;) s
5 252 M
(    QString entryDay;) s
5 241 M
(    QDate entryDate;) s
5 219 M
(    report->csv = ) s
/Courier-Bold 10 10 SUF
113 219 M
("Account Description,Balance\\n") s
/F-gs-font 10 10 SF
299 219 M
(;) s
5 208 M
(    report->header = ) s
/Courier-Bold 10 10 SUF
131 208 M
("<center><h1>") s
/F-gs-font 10 10 SF
215 208 M
(;) s
5 197 M
(    report->header += curClient;) s
5 186 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 186 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
245 186 M
(;) s
5 175 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 175 M
("<center><h2>Balance Sheet</h2></center>\\n") s
/F-gs-font 10 10 SF
395 175 M
(;) s
5 164 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 164 M
("<center><h3>") s
/F-gs-font 10 10 SF
221 164 M
( + periodDate.toString\() s
/Courier-Bold 10 10 SUF
359 164 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
437 164 M
(\) + ) s
/Courier-Bold 10 10 SUF
461 164 M
("</h3>\\n") s
/F-gs-font 10 10 SF
515 164 M
(;) s
5 142 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 142 M
("<table width=\\"60%\\"><tr>") s
/F-gs-font 10 10 SF
5 131 M
(            ) s
/Courier-Bold 10 10 SUF
77 131 M
("<td width=\\"70%\\"><b>Account Description</b></td>") s
/F-gs-font 10 10 SF
5 120 M
(            ) s
/Courier-Bold 10 10 SUF
77 120 M
("<td align=\\"right\\" width=\\"30%\\"><b>Balance</b></td></tr></table></center>") s
/F-gs-font 10 10 SF
539 120 M
(;) s
5 98 M
(    report->data = ) s
/Courier-Bold 10 10 SUF
119 98 M
("<center><table width=\\"60%\\">") s
/F-gs-font 10 10 SF
305 98 M
(;) s
5 76 M
(    QStringList assetsList;) s
5 65 M
(    QStringList liabilitiesList;) s
5 54 M
(    QStringList equitiesList;) s
5 32 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 32 M
("SELECT * FROM balanceAssets") s
/F-gs-font 10 10 SF
299 32 M
(, connection\);) s
5 21 M
(    ) s
/Courier-Bold 10 10 SUF
29 21 M
(while) s
/F-gs-font 10 10 SF
59 21 M
(\(query.next\(\)\)) s
5 10 M
(    {) s
_R
S
%%Page: (24) 24
%%BeginPageSetup
_S
18 36 translate
/pagenum 24 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (24) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        assetsList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
311 692 M
("\\n") s
/F-gs-font 10 10 SF
335 692 M
( + query.value\(1\).toString\(\)) s
5 681 M
(                + ) s
/Courier-Bold 10 10 SUF
113 681 M
("\\n") s
/F-gs-font 10 10 SF
137 681 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 681 M
("\\n") s
/F-gs-font 10 10 SF
347 681 M
( + query.value\(3\).toString\(\)) s
5 670 M
(                + ) s
/Courier-Bold 10 10 SUF
113 670 M
("\\n") s
/F-gs-font 10 10 SF
137 670 M
( + query.value\(4\).toString\(\)\);) s
5 659 M
(    }) s
5 648 M
(    assetsList.sort\(\);) s
5 626 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 626 M
("SELECT * FROM balanceLiabilities") s
/F-gs-font 10 10 SF
317 626 M
(\);) s
5 615 M
(    query.exec\(\);) s
5 604 M
(    ) s
/Courier-Bold 10 10 SUF
29 604 M
(while) s
/F-gs-font 10 10 SF
59 604 M
(\(query.next\(\)\)) s
5 593 M
(    {) s
5 582 M
(        liabilitiesList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
341 582 M
("\\n") s
/F-gs-font 10 10 SF
365 582 M
( + query.value\(1\).toString\(\)) s
5 571 M
(                + ) s
/Courier-Bold 10 10 SUF
113 571 M
("\\n") s
/F-gs-font 10 10 SF
137 571 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 571 M
("\\n") s
/F-gs-font 10 10 SF
347 571 M
( + query.value\(3\).toString\(\)) s
5 560 M
(                + ) s
/Courier-Bold 10 10 SUF
113 560 M
("\\n") s
/F-gs-font 10 10 SF
137 560 M
( + query.value\(4\).toString\(\)\);) s
5 549 M
(    }) s
5 538 M
(    liabilitiesList.sort\(\);) s
5 516 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 516 M
("SELECT * FROM balanceEquities") s
/F-gs-font 10 10 SF
299 516 M
(\);) s
5 505 M
(    query.exec\(\);) s
5 494 M
(    ) s
/Courier-Bold 10 10 SUF
29 494 M
(while) s
/F-gs-font 10 10 SF
59 494 M
(\(query.next\(\)\)) s
5 483 M
(    {) s
5 472 M
(        equitiesList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 472 M
("\\n") s
/F-gs-font 10 10 SF
347 472 M
( + query.value\(1\).toString\(\)) s
5 461 M
(                + ) s
/Courier-Bold 10 10 SUF
113 461 M
("\\n") s
/F-gs-font 10 10 SF
137 461 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 461 M
("\\n") s
/F-gs-font 10 10 SF
347 461 M
( + query.value\(3\).toString\(\)) s
5 450 M
(                + ) s
/Courier-Bold 10 10 SUF
113 450 M
("\\n") s
/F-gs-font 10 10 SF
137 450 M
( + query.value\(4\).toString\(\)\);) s
5 439 M
(    }) s
5 428 M
(    equitiesList.sort\(\);) s
5 395 M
(    QString sectionBalance;) s
5 384 M
(    QString accountBalance;) s
5 362 M
(    QString type;) s
5 351 M
(    QString desc;) s
5 340 M
(    QString accountBegin;) s
5 329 M
(    QString accountEnd;) s
5 318 M
(    ) s
5 307 M
(    QRegExp regexp\() s
/Courier-Bold 10 10 SUF
119 307 M
(".*\\n\(.*\)\\n\(.*\)\\n\(.*\)\\n\(.*\)") s
/F-gs-font 10 10 SF
287 307 M
(\);) s
5 285 M
(    sectionBalance = ) s
/Courier-Bold 10 10 SUF
131 285 M
("0.00") s
/F-gs-font 10 10 SF
167 285 M
(;) s
5 274 M
(    ) s
/Courier-Bold 10 10 SUF
29 274 M
(for) s
/F-gs-font 10 10 SF
47 274 M
(\(QStringList::Iterator listIt = assetsList.begin\(\); listIt != assetsList.end\(\); ++listI) s
5 263 M
(t\)) s
5 252 M
(    {) s
5 241 M
(        regexp.search\(*listIt\);) s
5 230 M
(        type = regexp.cap\(1\);) s
5 219 M
(        desc = regexp.cap\(2\);) s
5 208 M
(        accountBegin = regexp.cap\(3\);) s
5 197 M
(        accountEnd = regexp.cap\(4\);) s
5 175 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 175 M
("0.00") s
/F-gs-font 10 10 SF
191 175 M
(;) s
5 164 M
(        ) s
/Courier-Bold 10 10 SUF
53 164 M
(if) s
/F-gs-font 10 10 SF
65 164 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 164 M
("0") s
/F-gs-font 10 10 SF
137 164 M
(\)  ) s
/Courier-Oblique 10 10 SUF
155 164 M
(// one account) s
/F-gs-font 10 10 SF
5 153 M
(        {) s
5 142 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 142 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 142 M
( + account) s
5 131 M
(Begin\);) s
5 120 M
(            query.exec\(\);) s
5 109 M
(            ) s
/Courier-Bold 10 10 SUF
77 109 M
(while) s
/F-gs-font 10 10 SF
107 109 M
(\(query.next\(\)\)) s
5 98 M
(            {) s
5 87 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 76 M
(                ) s
5 65 M
(                ) s
/Courier-Bold 10 10 SUF
101 65 M
(if) s
/F-gs-font 10 10 SF
113 65 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 65 M
("yy") s
/F-gs-font 10 10 SF
371 65 M
(\).toInt\(\) + 2\)\)) s
5 54 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 54 M
("20") s
/F-gs-font 10 10 SF
269 54 M
(\);) s
5 43 M
(                ) s
/Courier-Bold 10 10 SUF
101 43 M
(else) s
/F-gs-font 10 10 SF
5 32 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 32 M
("19") s
/F-gs-font 10 10 SF
269 32 M
(\);) s
5 21 M
(                ) s
5 10 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
_R
S
%%Page: (25) 25
%%BeginPageSetup
_S
18 36 translate
/pagenum 25 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (25) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 681 M
(                ) s
5 670 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 659 M
(                ) s
/Courier-Bold 10 10 SUF
101 659 M
(if) s
/F-gs-font 10 10 SF
113 659 M
(\(entryDate > periodDate\)) s
5 648 M
(                    ) s
/Courier-Bold 10 10 SUF
125 648 M
(continue) s
/F-gs-font 10 10 SF
173 648 M
(;) s
5 626 M
(                ) s
/Courier-Bold 10 10 SUF
101 626 M
(if) s
/F-gs-font 10 10 SF
113 626 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
293 626 M
("") s
/F-gs-font 10 10 SF
305 626 M
(\)) s
5 615 M
(                    accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)\);) s
5 604 M
(                ) s
/Courier-Bold 10 10 SUF
101 604 M
(if) s
/F-gs-font 10 10 SF
113 604 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
293 604 M
("") s
/F-gs-font 10 10 SF
305 604 M
(\)) s
5 593 M
(                    accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2\).to) s
5 582 M
(String\(\)\)\);) s
5 571 M
(            }) s
5 560 M
(        }) s
5 549 M
(        ) s
/Courier-Bold 10 10 SUF
53 549 M
(else) s
/F-gs-font 10 10 SF
77 549 M
(  ) s
/Courier-Oblique 10 10 SUF
89 549 M
(// begin and end accounts) s
/F-gs-font 10 10 SF
5 538 M
(        {) s
5 527 M
(            QStringList accounts;) s
5 505 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 505 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 505 M
(\);) s
5 494 M
(            query.exec\(\);) s
5 483 M
(            ) s
/Courier-Bold 10 10 SUF
77 483 M
(while) s
/F-gs-font 10 10 SF
107 483 M
(\(query.next\(\)\)) s
5 472 M
(            {) s
5 461 M
(                ) s
/Courier-Bold 10 10 SUF
101 461 M
(if) s
/F-gs-font 10 10 SF
113 461 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 450 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
5 439 M
(                    accounts << query.value\(0\).toString\(\);) s
5 428 M
(            }) s
5 406 M
(            ) s
/Courier-Bold 10 10 SUF
77 406 M
(for) s
/F-gs-font 10 10 SF
95 406 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 395 M
(            {) s
5 384 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 384 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 384 M
( + *it) s
5 373 M
(\);) s
5 362 M
(                query.exec\(\);) s
5 351 M
(                ) s
/Courier-Bold 10 10 SUF
101 351 M
(while) s
/F-gs-font 10 10 SF
131 351 M
(\(query.next\(\)\)) s
5 340 M
(                {) s
5 329 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 318 M
(                ) s
5 307 M
(                    ) s
/Courier-Bold 10 10 SUF
125 307 M
(if) s
/F-gs-font 10 10 SF
137 307 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 307 M
("yy") s
/F-gs-font 10 10 SF
395 307 M
(\).toInt\(\) + 2\)\)) s
5 296 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 296 M
("20") s
/F-gs-font 10 10 SF
293 296 M
(\);) s
5 285 M
(                    ) s
/Courier-Bold 10 10 SUF
125 285 M
(else) s
/F-gs-font 10 10 SF
5 274 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 274 M
("19") s
/F-gs-font 10 10 SF
293 274 M
(\);) s
5 263 M
(                ) s
5 252 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 241 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 230 M
(                ) s
5 219 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 208 M
(                    ) s
/Courier-Bold 10 10 SUF
125 208 M
(if) s
/F-gs-font 10 10 SF
137 208 M
(\(entryDate > periodDate\)) s
5 197 M
(                        ) s
/Courier-Bold 10 10 SUF
149 197 M
(continue) s
/F-gs-font 10 10 SF
197 197 M
(;) s
5 175 M
(                    ) s
/Courier-Bold 10 10 SUF
125 175 M
(if) s
/F-gs-font 10 10 SF
137 175 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 175 M
("") s
/F-gs-font 10 10 SF
329 175 M
(\)) s
5 164 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)) s
5 153 M
(\);) s
5 142 M
(                    ) s
/Courier-Bold 10 10 SUF
125 142 M
(if) s
/F-gs-font 10 10 SF
137 142 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 142 M
("") s
/F-gs-font 10 10 SF
329 142 M
(\)) s
5 131 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2) s
5 120 M
(\).toString\(\)\)\);) s
5 109 M
(                }) s
5 98 M
(            }) s
5 87 M
(        }) s
5 65 M
(        sectionBalance = addCurrency\(sectionBalance, accountBalance\);) s
5 43 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 43 M
("<tr><td width=\\"70%\\">") s
/F-gs-font 10 10 SF
293 43 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 43 M
("</td>") s
/F-gs-font 10 10 SF
5 32 M
(                ) s
/Courier-Bold 10 10 SUF
101 32 M
("<td align=\\"right\\" width=\\"30%\\">") s
/F-gs-font 10 10 SF
317 32 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 32 M
("</td>) s
5 21 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 21 M
(;) s
5 10 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 10 M
(",") s
/F-gs-font 10 10 SF
203 10 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
323 10 M
("\\n") s
/F-gs-font 10 10 SF
347 10 M
(;) s
_R
S
%%Page: (26) 26
%%BeginPageSetup
_S
18 36 translate
/pagenum 26 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (26) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    }) s
5 670 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 670 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 670 M
(;) s
5 659 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 659 M
("<tr><td width=\\"70%\\"><b>Total Assets</b></td>") s
/F-gs-font 10 10 SF
5 648 M
(            ) s
/Courier-Bold 10 10 SUF
77 648 M
("<td align=\\"right\\" width=\\"30%\\"><b>") s
/F-gs-font 10 10 SF
311 648 M
( + formatCurrency\(sectionBalance\) + ) s
/Courier-Bold 10 10 SUF
527 648 M
("</b></) s
5 637 M
(td></tr>\\n") s
/F-gs-font 10 10 SF
71 637 M
(;) s
5 626 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 626 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 626 M
(;) s
5 615 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 615 M
("Total Assets,") s
/F-gs-font 10 10 SF
209 615 M
( + sectionBalance + ) s
/Courier-Bold 10 10 SUF
329 615 M
("\\n") s
/F-gs-font 10 10 SF
353 615 M
(;) s
5 582 M
(    sectionBalance = ) s
/Courier-Bold 10 10 SUF
131 582 M
("0.00") s
/F-gs-font 10 10 SF
167 582 M
(;) s
5 571 M
(    ) s
/Courier-Bold 10 10 SUF
29 571 M
(for) s
/F-gs-font 10 10 SF
47 571 M
(\(QStringList::Iterator listIt = liabilitiesList.begin\(\); listIt != liabilitiesList.end\() s
5 560 M
(\); ++listIt\)) s
5 549 M
(    {) s
5 538 M
(        regexp.search\(*listIt\);) s
5 527 M
(        type = regexp.cap\(1\);) s
5 516 M
(        desc = regexp.cap\(2\);) s
5 505 M
(        accountBegin = regexp.cap\(3\);) s
5 494 M
(        accountEnd = regexp.cap\(4\);) s
5 472 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 472 M
("0.00") s
/F-gs-font 10 10 SF
191 472 M
(;) s
5 461 M
(        ) s
/Courier-Bold 10 10 SUF
53 461 M
(if) s
/F-gs-font 10 10 SF
65 461 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 461 M
("0") s
/F-gs-font 10 10 SF
137 461 M
(\)  ) s
/Courier-Oblique 10 10 SUF
155 461 M
(// one account) s
/F-gs-font 10 10 SF
5 450 M
(        {) s
5 439 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 439 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 439 M
( + account) s
5 428 M
(Begin\);) s
5 417 M
(            query.exec\(\);) s
5 406 M
(            ) s
/Courier-Bold 10 10 SUF
77 406 M
(while) s
/F-gs-font 10 10 SF
107 406 M
(\(query.next\(\)\)) s
5 395 M
(            {) s
5 384 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 373 M
(                ) s
5 362 M
(                ) s
/Courier-Bold 10 10 SUF
101 362 M
(if) s
/F-gs-font 10 10 SF
113 362 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 362 M
("yy") s
/F-gs-font 10 10 SF
371 362 M
(\).toInt\(\) + 2\)\)) s
5 351 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 351 M
("20") s
/F-gs-font 10 10 SF
269 351 M
(\);) s
5 340 M
(                ) s
/Courier-Bold 10 10 SUF
101 340 M
(else) s
/F-gs-font 10 10 SF
5 329 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 329 M
("19") s
/F-gs-font 10 10 SF
269 329 M
(\);) s
5 318 M
(                ) s
5 307 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 296 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 274 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 263 M
(                ) s
/Courier-Bold 10 10 SUF
101 263 M
(if) s
/F-gs-font 10 10 SF
113 263 M
(\(entryDate > periodDate\)) s
5 252 M
(                    ) s
/Courier-Bold 10 10 SUF
125 252 M
(continue) s
/F-gs-font 10 10 SF
173 252 M
(;) s
5 230 M
(                ) s
/Courier-Bold 10 10 SUF
101 230 M
(if) s
/F-gs-font 10 10 SF
113 230 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
293 230 M
("") s
/F-gs-font 10 10 SF
305 230 M
(\)) s
5 219 M
(                {) s
5 208 M
(                    accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(1\).to) s
5 197 M
(String\(\)\)\);) s
5 186 M
(                }) s
5 175 M
(                ) s
/Courier-Bold 10 10 SUF
101 175 M
(if) s
/F-gs-font 10 10 SF
113 175 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
293 175 M
("") s
/F-gs-font 10 10 SF
305 175 M
(\)) s
5 164 M
(                {) s
5 153 M
(                    accountBalance = addCurrency\(accountBalance, query.value\(2\).toString\(\)\);) s
5 142 M
(                }) s
5 131 M
(            }) s
5 120 M
(        }) s
5 109 M
(        ) s
/Courier-Bold 10 10 SUF
53 109 M
(else) s
/F-gs-font 10 10 SF
77 109 M
(  ) s
/Courier-Oblique 10 10 SUF
89 109 M
(// begin and end accounts) s
/F-gs-font 10 10 SF
5 98 M
(        {) s
5 87 M
(            QStringList accounts;) s
5 65 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 65 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 65 M
(\);) s
5 54 M
(            query.exec\(\);) s
5 43 M
(            ) s
/Courier-Bold 10 10 SUF
77 43 M
(while) s
/F-gs-font 10 10 SF
107 43 M
(\(query.next\(\)\)) s
5 32 M
(            {) s
5 21 M
(                ) s
/Courier-Bold 10 10 SUF
101 21 M
(if) s
/F-gs-font 10 10 SF
113 21 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 10 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
_R
S
%%Page: (27) 27
%%BeginPageSetup
_S
18 36 translate
/pagenum 27 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (27) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                    accounts << query.value\(0\).toString\(\);) s
5 681 M
(            }) s
5 659 M
(            ) s
/Courier-Bold 10 10 SUF
77 659 M
(for) s
/F-gs-font 10 10 SF
95 659 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 648 M
(            {) s
5 637 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 637 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 637 M
( + *it) s
5 626 M
(\);) s
5 615 M
(                query.exec\(\);) s
5 604 M
(                ) s
/Courier-Bold 10 10 SUF
101 604 M
(while) s
/F-gs-font 10 10 SF
131 604 M
(\(query.next\(\)\)) s
5 593 M
(                {) s
5 582 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 571 M
(                ) s
5 560 M
(                    ) s
/Courier-Bold 10 10 SUF
125 560 M
(if) s
/F-gs-font 10 10 SF
137 560 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 560 M
("yy") s
/F-gs-font 10 10 SF
395 560 M
(\).toInt\(\) + 2\)\)) s
5 549 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 549 M
("20") s
/F-gs-font 10 10 SF
293 549 M
(\);) s
5 538 M
(                    ) s
/Courier-Bold 10 10 SUF
125 538 M
(else) s
/F-gs-font 10 10 SF
5 527 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 527 M
("19") s
/F-gs-font 10 10 SF
293 527 M
(\);) s
5 516 M
(                ) s
5 505 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 494 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 472 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 461 M
(                    ) s
/Courier-Bold 10 10 SUF
125 461 M
(if) s
/F-gs-font 10 10 SF
137 461 M
(\(entryDate > periodDate\)) s
5 450 M
(                        ) s
/Courier-Bold 10 10 SUF
149 450 M
(continue) s
/F-gs-font 10 10 SF
197 450 M
(;) s
5 428 M
(                    ) s
/Courier-Bold 10 10 SUF
125 428 M
(if) s
/F-gs-font 10 10 SF
137 428 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 428 M
("") s
/F-gs-font 10 10 SF
329 428 M
(\)) s
5 417 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(1) s
5 406 M
(\).toString\(\)\)\);) s
5 395 M
(                    ) s
/Courier-Bold 10 10 SUF
125 395 M
(if) s
/F-gs-font 10 10 SF
137 395 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 395 M
("") s
/F-gs-font 10 10 SF
329 395 M
(\)) s
5 384 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(2\).toString\(\)) s
5 373 M
(\);) s
5 362 M
(                }) s
5 351 M
(            }) s
5 340 M
(        }) s
5 318 M
(        sectionBalance = addCurrency\(sectionBalance, accountBalance\);) s
5 296 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 296 M
("<tr><td width=\\"70%\\">") s
/F-gs-font 10 10 SF
293 296 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 296 M
("</td>") s
/F-gs-font 10 10 SF
5 285 M
(                ) s
/Courier-Bold 10 10 SUF
101 285 M
("<td align=\\"right\\" width=\\"30%\\">") s
/F-gs-font 10 10 SF
317 285 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 285 M
("</td>) s
5 274 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 274 M
(;) s
5 263 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 263 M
(",") s
/F-gs-font 10 10 SF
203 263 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
323 263 M
("\\n") s
/F-gs-font 10 10 SF
347 263 M
(;) s
5 252 M
(    }) s
5 230 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 230 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 230 M
(;) s
5 219 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 219 M
("<tr><td width=\\"70%\\"><b>Total Liabilities</b></td>") s
/F-gs-font 10 10 SF
5 208 M
(            ) s
/Courier-Bold 10 10 SUF
77 208 M
("<td align=\\"right\\" width=\\"30%\\"><b>") s
/F-gs-font 10 10 SF
311 208 M
( + formatCurrency\(sectionBalance\) + ) s
/Courier-Bold 10 10 SUF
527 208 M
("</b></) s
5 197 M
(td></tr>\\n") s
/F-gs-font 10 10 SF
71 197 M
(;) s
5 186 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 186 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 186 M
(;) s
5 175 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 175 M
("Total Liabilities,") s
/F-gs-font 10 10 SF
239 175 M
( + sectionBalance + ) s
/Courier-Bold 10 10 SUF
359 175 M
("\\n") s
/F-gs-font 10 10 SF
383 175 M
(;) s
5 142 M
(    sectionBalance = ) s
/Courier-Bold 10 10 SUF
131 142 M
("0.00") s
/F-gs-font 10 10 SF
167 142 M
(;) s
5 131 M
(    ) s
/Courier-Bold 10 10 SUF
29 131 M
(for) s
/F-gs-font 10 10 SF
47 131 M
(\(QStringList::Iterator listIt = equitiesList.begin\(\); listIt != equitiesList.end\(\); ++l) s
5 120 M
(istIt\)) s
5 109 M
(    {) s
5 98 M
(        regexp.search\(*listIt\);) s
5 87 M
(        type = regexp.cap\(1\);) s
5 76 M
(        desc = regexp.cap\(2\);) s
5 65 M
(        accountBegin = regexp.cap\(3\);) s
5 54 M
(        accountEnd = regexp.cap\(4\);) s
5 32 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 32 M
("0.00") s
/F-gs-font 10 10 SF
191 32 M
(;) s
5 21 M
(        ) s
/Courier-Bold 10 10 SUF
53 21 M
(if) s
/F-gs-font 10 10 SF
65 21 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 21 M
("0") s
/F-gs-font 10 10 SF
137 21 M
(\)  ) s
/Courier-Oblique 10 10 SUF
155 21 M
(// one account) s
/F-gs-font 10 10 SF
5 10 M
(        {) s
_R
S
%%Page: (28) 28
%%BeginPageSetup
_S
18 36 translate
/pagenum 28 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (28) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 692 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 692 M
( + account) s
5 681 M
(Begin\);) s
5 670 M
(            query.exec\(\);) s
5 659 M
(            ) s
/Courier-Bold 10 10 SUF
77 659 M
(while) s
/F-gs-font 10 10 SF
107 659 M
(\(query.next\(\)\)) s
5 648 M
(            {) s
5 637 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 626 M
(                ) s
5 615 M
(                ) s
/Courier-Bold 10 10 SUF
101 615 M
(if) s
/F-gs-font 10 10 SF
113 615 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 615 M
("yy") s
/F-gs-font 10 10 SF
371 615 M
(\).toInt\(\) + 2\)\)) s
5 604 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 604 M
("20") s
/F-gs-font 10 10 SF
269 604 M
(\);) s
5 593 M
(                ) s
/Courier-Bold 10 10 SUF
101 593 M
(else) s
/F-gs-font 10 10 SF
5 582 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 582 M
("19") s
/F-gs-font 10 10 SF
269 582 M
(\);) s
5 571 M
(                ) s
5 560 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 549 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 538 M
(                ) s
5 527 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 516 M
(                ) s
/Courier-Bold 10 10 SUF
101 516 M
(if) s
/F-gs-font 10 10 SF
113 516 M
(\(entryDate > periodDate\)) s
5 505 M
(                    ) s
/Courier-Bold 10 10 SUF
125 505 M
(continue) s
/F-gs-font 10 10 SF
173 505 M
(;) s
5 483 M
(                ) s
/Courier-Bold 10 10 SUF
101 483 M
(if) s
/F-gs-font 10 10 SF
113 483 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
293 483 M
("") s
/F-gs-font 10 10 SF
305 483 M
(\)) s
5 472 M
(                {) s
5 461 M
(                    accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(1\).to) s
5 450 M
(String\(\)\)\);) s
5 439 M
(                }) s
5 428 M
(                ) s
/Courier-Bold 10 10 SUF
101 428 M
(if) s
/F-gs-font 10 10 SF
113 428 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
293 428 M
("") s
/F-gs-font 10 10 SF
305 428 M
(\)) s
5 417 M
(                {) s
5 406 M
(                    accountBalance = addCurrency\(accountBalance, query.value\(2\).toString\(\)\);) s
5 395 M
(                }) s
5 384 M
(            }) s
5 373 M
(        }) s
5 362 M
(        ) s
/Courier-Bold 10 10 SUF
53 362 M
(else) s
/F-gs-font 10 10 SF
77 362 M
(  ) s
/Courier-Oblique 10 10 SUF
89 362 M
(// begin and end accounts) s
/F-gs-font 10 10 SF
5 351 M
(        {) s
5 340 M
(            QStringList accounts;) s
5 318 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 318 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 318 M
(\);) s
5 307 M
(            query.exec\(\);) s
5 296 M
(            ) s
/Courier-Bold 10 10 SUF
77 296 M
(while) s
/F-gs-font 10 10 SF
107 296 M
(\(query.next\(\)\)) s
5 285 M
(            {) s
5 274 M
(                ) s
/Courier-Bold 10 10 SUF
101 274 M
(if) s
/F-gs-font 10 10 SF
113 274 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 263 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
5 252 M
(                    accounts << query.value\(0\).toString\(\);) s
5 241 M
(            }) s
5 219 M
(            ) s
/Courier-Bold 10 10 SUF
77 219 M
(for) s
/F-gs-font 10 10 SF
95 219 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 208 M
(            {) s
5 197 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 197 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 197 M
( + *it) s
5 186 M
(\);) s
5 175 M
(                query.exec\(\);) s
5 164 M
(                ) s
/Courier-Bold 10 10 SUF
101 164 M
(while) s
/F-gs-font 10 10 SF
131 164 M
(\(query.next\(\)\)) s
5 153 M
(                {) s
5 142 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 131 M
(                ) s
5 120 M
(                    ) s
/Courier-Bold 10 10 SUF
125 120 M
(if) s
/F-gs-font 10 10 SF
137 120 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 120 M
("yy") s
/F-gs-font 10 10 SF
395 120 M
(\).toInt\(\) + 2\)\)) s
5 109 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 109 M
("20") s
/F-gs-font 10 10 SF
293 109 M
(\);) s
5 98 M
(                    ) s
/Courier-Bold 10 10 SUF
125 98 M
(else) s
/F-gs-font 10 10 SF
5 87 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 87 M
("19") s
/F-gs-font 10 10 SF
293 87 M
(\);) s
5 76 M
(                ) s
5 65 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 54 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 43 M
(                ) s
5 32 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 21 M
(                    ) s
/Courier-Bold 10 10 SUF
125 21 M
(if) s
/F-gs-font 10 10 SF
137 21 M
(\(entryDate > periodDate\)) s
5 10 M
(                        ) s
/Courier-Bold 10 10 SUF
149 10 M
(continue) s
/F-gs-font 10 10 SF
197 10 M
(;) s
_R
S
%%Page: (29) 29
%%BeginPageSetup
_S
18 36 translate
/pagenum 29 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (29) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 681 M
(                    ) s
/Courier-Bold 10 10 SUF
125 681 M
(if) s
/F-gs-font 10 10 SF
137 681 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 681 M
("") s
/F-gs-font 10 10 SF
329 681 M
(\)) s
5 670 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(1) s
5 659 M
(\).toString\(\)\)\);) s
5 648 M
(                    ) s
/Courier-Bold 10 10 SUF
125 648 M
(if) s
/F-gs-font 10 10 SF
137 648 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 648 M
("") s
/F-gs-font 10 10 SF
329 648 M
(\)) s
5 637 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(2\).toString\(\)) s
5 626 M
(\);) s
5 615 M
(                }) s
5 604 M
(            }) s
5 593 M
(        }) s
5 571 M
(        sectionBalance = addCurrency\(sectionBalance, accountBalance\);) s
5 549 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 549 M
("<tr><td width=\\"70%\\">") s
/F-gs-font 10 10 SF
293 549 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 549 M
("</td>") s
/F-gs-font 10 10 SF
5 538 M
(                ) s
/Courier-Bold 10 10 SUF
101 538 M
("<td align=\\"right\\" width=\\"30%\\">") s
/F-gs-font 10 10 SF
317 538 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 538 M
("</td>) s
5 527 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 527 M
(;) s
5 516 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 516 M
(",") s
/F-gs-font 10 10 SF
203 516 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
323 516 M
("\\n") s
/F-gs-font 10 10 SF
347 516 M
(;) s
5 505 M
(    }) s
5 494 M
(    ) s
5 483 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 483 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 483 M
(;) s
5 472 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 472 M
("<tr><td width=\\"70%\\"><b>Total Equities</b></td>") s
/F-gs-font 10 10 SF
5 461 M
(            ) s
/Courier-Bold 10 10 SUF
77 461 M
("<td align=\\"right\\" width=\\"30%\\"><b>") s
/F-gs-font 10 10 SF
311 461 M
( + formatCurrency\(sectionBalance\) + ) s
/Courier-Bold 10 10 SUF
527 461 M
("</b></) s
5 450 M
(td></tr>\\n") s
/F-gs-font 10 10 SF
71 450 M
(;) s
5 439 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 439 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 439 M
(;) s
5 428 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 428 M
("Total Equities,") s
/F-gs-font 10 10 SF
221 428 M
( + sectionBalance + ) s
/Courier-Bold 10 10 SUF
341 428 M
("\\n") s
/F-gs-font 10 10 SF
365 428 M
(;) s
5 406 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 406 M
("</table></center>") s
/F-gs-font 10 10 SF
239 406 M
(;) s
5 384 M
(    report->string = ) s
/Courier-Bold 10 10 SUF
131 384 M
("<qt>") s
/F-gs-font 10 10 SF
167 384 M
( + report->header + report->data + ) s
/Courier-Bold 10 10 SUF
377 384 M
("</qt>") s
/F-gs-font 10 10 SF
419 384 M
(;) s
5 373 M
(    ) s
5 362 M
(    report->html = report->string.replace\() s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
("<qt>") s
/F-gs-font 10 10 SF
113 351 M
(, ) s
/Courier-Bold 10 10 SUF
125 351 M
("<html><head><title>") s
/F-gs-font 10 10 SF
251 351 M
( + curClient +) s
5 340 M
(            ) s
/Courier-Bold 10 10 SUF
77 340 M
(" - Balance Sheet</title></head><body>\\n") s
/F-gs-font 10 10 SF
323 340 M
(\).replace\() s
5 329 M
(                    ) s
/Courier-Bold 10 10 SUF
125 329 M
("</qt>") s
/F-gs-font 10 10 SF
167 329 M
(, ) s
/Courier-Bold 10 10 SUF
179 329 M
("</body></html>") s
/F-gs-font 10 10 SF
275 329 M
(\);) s
5 307 M
(    ) s
/Courier-Bold 10 10 SUF
29 307 M
(return) s
/F-gs-font 10 10 SF
65 307 M
( ) s
/Courier-Bold 10 10 SUF
71 307 M
(this) s
/F-gs-font 10 10 SF
95 307 M
(;) s
5 296 M
(}) s
5 274 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 274 M
(Database::getChartAccounts) s
/F-gs-font 10 10 SF
221 274 M
(\(\)) s
5 263 M
({) s
5 252 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 252 M
("SELECT * FROM accounts ORDER BY id") s
/F-gs-font 10 10 SF
341 252 M
(, connection\);) s
5 241 M
(    ) s
5 230 M
(    QDate date = QDate::currentDate\(\);) s
5 219 M
(    ) s
5 208 M
(    report->csv = ) s
/Courier-Bold 10 10 SUF
113 208 M
("Account ID,Account Description\\n") s
/F-gs-font 10 10 SF
317 208 M
(;) s
5 197 M
(    report->header = ) s
/Courier-Bold 10 10 SUF
131 197 M
("<center><h1>") s
/F-gs-font 10 10 SF
215 197 M
(;) s
5 186 M
(    report->header += curClient;) s
5 175 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 175 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
245 175 M
(;) s
5 164 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 164 M
("<center><h2>Chart of Accounts</h2></center>\\n") s
/F-gs-font 10 10 SF
419 164 M
(;) s
5 153 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 153 M
("<center><h3>As of ") s
/F-gs-font 10 10 SF
257 153 M
( + date.toString\() s
/Courier-Bold 10 10 SUF
359 153 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
437 153 M
(\) + ) s
/Courier-Bold 10 10 SUF
461 153 M
("</h3></center>\\n") s
/F-gs-font 10 10 SF
569 153 M
() s
5 142 M
(;) s
5 120 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 120 M
("<table width=\\"100%\\"><tr><td width=\\"15%\\"><b>Account ID</b></td>") s
/F-gs-font 10 10 SF
5 109 M
(            ) s
/Courier-Bold 10 10 SUF
77 109 M
("<td width=\\"40%\\"><b>Account Description</b></td><td width=\\"45%\\"> </td></tr>\\n") s
/F-gs-font 10 10 SF
569 109 M
() s
5 98 M
(;) s
5 76 M
(    report->data = ) s
/Courier-Bold 10 10 SUF
119 76 M
("<table width=\\"100%\\">") s
/F-gs-font 10 10 SF
263 76 M
(;) s
5 65 M
(    ) s
5 54 M
(    QStringList reportString;) s
5 43 M
(    QStringList reportCSV;) s
5 32 M
(    ) s
5 21 M
(    ) s
/Courier-Bold 10 10 SUF
29 21 M
(while) s
/F-gs-font 10 10 SF
59 21 M
(\(query.next\(\)\)) s
5 10 M
(    {) s
_R
S
%%Page: (30) 30
%%BeginPageSetup
_S
18 36 translate
/pagenum 30 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (30) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        reportCSV << \(query.value\(1\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
305 692 M
(",") s
/F-gs-font 10 10 SF
323 692 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
509 692 M
("\\n") s
/F-gs-font 10 10 SF
533 692 M
(\);) s
5 681 M
(        reportString << \() s
/Courier-Bold 10 10 SUF
155 681 M
("<tr><td width=\\"15%\\">") s
/F-gs-font 10 10 SF
299 681 M
( + query.value\(1\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
485 681 M
("</td><td widt) s
5 670 M
(h=\\"40%\\">") s
/F-gs-font 10 10 SF
71 670 M
( +) s
5 659 M
(                query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
269 659 M
("</td><td width=\\"45%\\"> </td></tr>\\n") s
/F-gs-font 10 10 SF
497 659 M
(\);) s
5 648 M
(    }) s
5 637 M
(    ) s
5 626 M
(    ) s
5 615 M
(    report->data += reportString.join\() s
/Courier-Bold 10 10 SUF
233 615 M
("") s
/F-gs-font 10 10 SF
245 615 M
(\) + ) s
/Courier-Bold 10 10 SUF
269 615 M
("</table>") s
/F-gs-font 10 10 SF
329 615 M
(;) s
5 604 M
(    report->csv += reportCSV.join\() s
/Courier-Bold 10 10 SUF
209 604 M
("") s
/F-gs-font 10 10 SF
221 604 M
(\);) s
5 593 M
(    ) s
5 582 M
(    report->string = ) s
/Courier-Bold 10 10 SUF
131 582 M
("<qt>") s
/F-gs-font 10 10 SF
167 582 M
( + report->header + report->data + ) s
/Courier-Bold 10 10 SUF
377 582 M
("</qt>") s
/F-gs-font 10 10 SF
419 582 M
(;) s
5 571 M
(    ) s
5 560 M
(    report->html = report->string.replace\() s
5 549 M
(            ) s
/Courier-Bold 10 10 SUF
77 549 M
("<qt>") s
/F-gs-font 10 10 SF
113 549 M
(, ) s
/Courier-Bold 10 10 SUF
125 549 M
("<html><head><title>") s
/F-gs-font 10 10 SF
251 549 M
( + curClient + ) s
/Courier-Bold 10 10 SUF
341 549 M
(" - Chart of Accounts</title></head><b) s
5 538 M
(ody>\\n") s
/F-gs-font 10 10 SF
47 538 M
(\).replace\() s
5 527 M
(            ) s
/Courier-Bold 10 10 SUF
77 527 M
("</qt>") s
/F-gs-font 10 10 SF
119 527 M
(, ) s
/Courier-Bold 10 10 SUF
131 527 M
("</body></html>") s
/F-gs-font 10 10 SF
227 527 M
(\);) s
5 516 M
(    ) s
5 505 M
(    ) s
/Courier-Bold 10 10 SUF
29 505 M
(return) s
/F-gs-font 10 10 SF
65 505 M
( ) s
/Courier-Bold 10 10 SUF
71 505 M
(this) s
/F-gs-font 10 10 SF
95 505 M
(;) s
5 494 M
(}) s
5 472 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 472 M
(Database::getJournalTmpReport) s
/F-gs-font 10 10 SF
239 472 M
(\(\)) s
5 461 M
({) s
5 450 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 450 M
("SELECT * FROM journalTmp ORDER BY key") s
/F-gs-font 10 10 SF
359 450 M
(, connection\);) s
5 439 M
(    ) s
5 428 M
(    QDate date = QDate::currentDate\(\);) s
5 406 M
(    journalTmpReport->header = ) s
/Courier-Bold 10 10 SUF
191 406 M
("<center><h1>") s
/F-gs-font 10 10 SF
275 406 M
(;) s
5 395 M
(    journalTmpReport->header += curClient;) s
5 384 M
(    journalTmpReport->header += ) s
/Courier-Bold 10 10 SUF
197 384 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
305 384 M
(;) s
5 373 M
(    journalTmpReport->header += ) s
/Courier-Bold 10 10 SUF
197 373 M
("<center><h2>Journal Entries</h2></center>\\n") s
/F-gs-font 10 10 SF
467 373 M
(;) s
5 362 M
(    journalTmpReport->header += ) s
/Courier-Bold 10 10 SUF
197 362 M
("<center><h3>Entered ") s
/F-gs-font 10 10 SF
329 362 M
( + date.toString\() s
/Courier-Bold 10 10 SUF
431 362 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
509 362 M
(\) + ) s
/Courier-Bold 10 10 SUF
533 362 M
("</h3>) s
5 351 M
(</center>\\n") s
/F-gs-font 10 10 SF
77 351 M
(;) s
5 329 M
(    journalTmpReport->header += ) s
/Courier-Bold 10 10 SUF
197 329 M
("<table width=\\"100%\\"><tr><td width=\\"10%\\"><b>Date</b></td>") s
/F-gs-font 10 10 SF
5 318 M
(            ) s
/Courier-Bold 10 10 SUF
77 318 M
("<td width=\\"10%\\"><b>Account</b></td><td width=\\"10%\\"><b>Reference</b></td>") s
/F-gs-font 10 10 SF
5 307 M
(            ) s
/Courier-Bold 10 10 SUF
77 307 M
("<td width=\\"50%\\"><b>Description</b></td><td width\\"10%\\" align=\\"right\\"><b>Debi) s
5 296 M
(t Amt</b></td>") s
/F-gs-font 10 10 SF
5 285 M
(            ) s
/Courier-Bold 10 10 SUF
77 285 M
("<td width=\\"10%\\" align=\\"right\\"><b>Credit Amt</b></td></tr>\\n") s
/F-gs-font 10 10 SF
467 285 M
(;) s
5 263 M
(    journalTmpReport->data = ) s
/Courier-Bold 10 10 SUF
179 263 M
("<table width=\\"100%\\">") s
/F-gs-font 10 10 SF
323 263 M
(;) s
5 252 M
(    ) s
5 241 M
(    QStringList reportString;) s
5 230 M
(    ) s
5 219 M
(    ) s
/Courier-Bold 10 10 SUF
29 219 M
(while) s
/F-gs-font 10 10 SF
59 219 M
(\(query.next\(\)\)) s
5 208 M
(    {) s
5 197 M
(        journalTmpReport->data += ) s
/Courier-Bold 10 10 SUF
209 197 M
("<tr><td width=\\"10%\\">") s
/F-gs-font 10 10 SF
353 197 M
( + query.value\(1\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
539 197 M
("</td) s
5 186 M
(><td width=\\"10%\\">") s
/F-gs-font 10 10 SF
125 186 M
( +) s
5 175 M
(                query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
269 175 M
("</td><td width=\\"10%\\">") s
/F-gs-font 10 10 SF
419 175 M
( + query.value\(3\).toStrin) s
5 164 M
(g\(\) +) s
5 153 M
(                ) s
/Courier-Bold 10 10 SUF
101 153 M
("</td><td width=\\"50%\\">") s
/F-gs-font 10 10 SF
251 153 M
( + query.value\(4\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
437 153 M
("</td><td width=\\"10%\\) s
5 142 M
(" align=\\"right\\">") s
/F-gs-font 10 10 SF
119 142 M
( +) s
5 131 M
(                addCommas\(query.value\(5\).toString\(\)\) + ) s
/Courier-Bold 10 10 SUF
335 131 M
("</td><td width=\\"10%\\" align=\\"right\\") s
5 120 M
(>") s
/F-gs-font 10 10 SF
5 109 M
(                + addCommas\(query.value\(6\).toString\(\)\) + ) s
/Courier-Bold 10 10 SUF
347 109 M
("</td></tr>\\n") s
/F-gs-font 10 10 SF
431 109 M
(;) s
5 98 M
(    }) s
5 76 M
(    journalTmpReport->data += ) s
/Courier-Bold 10 10 SUF
185 76 M
("</table>") s
/F-gs-font 10 10 SF
245 76 M
(;) s
5 65 M
(    ) s
5 54 M
(    ) s
/Courier-Bold 10 10 SUF
29 54 M
(return) s
/F-gs-font 10 10 SF
65 54 M
( ) s
/Courier-Bold 10 10 SUF
71 54 M
(this) s
/F-gs-font 10 10 SF
95 54 M
(;) s
5 43 M
(}) s
5 21 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 21 M
(Database::getIncomeSvcReport) s
/F-gs-font 10 10 SF
233 21 M
(\(QString periodEnd\)) s
5 10 M
({) s
_R
S
%%Page: (31) 31
%%BeginPageSetup
_S
18 36 translate
/pagenum 31 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (31) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    QRegExp dateRegexp\() s
/Courier-Bold 10 10 SUF
143 692 M
("Period \\\\d+ \\\\\(\(\\\\d\\\\d\)/\(\\\\d\\\\d\)/\(\\\\d\\\\d\)\\\\\)") s
/F-gs-font 10 10 SF
419 692 M
(\);) s
5 670 M
(    dateRegexp.search\(getPeriodBegin\(\)[0]\);) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(int) s
/F-gs-font 10 10 SF
47 659 M
( periodBeginMonth = dateRegexp.cap\(1\).toInt\(\);) s
5 648 M
(    QDate periodBeginDate\(dateRegexp.cap\(3\).insert\(0, ) s
/Courier-Bold 10 10 SUF
329 648 M
("20") s
/F-gs-font 10 10 SF
353 648 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\)) s
5 637 M
(, dateRegexp.cap\(2\).toInt\(\)\);) s
5 615 M
(    dateRegexp.search\(periodEnd\);) s
5 604 M
(    QDate periodBeginSingleDate\(dateRegexp.cap\(3\).insert\(0, ) s
/Courier-Bold 10 10 SUF
365 604 M
("20") s
/F-gs-font 10 10 SF
389 604 M
(\).toInt\(\), dateRegexp.cap\(1\).t) s
5 593 M
(oInt\(\), 1\);) s
5 571 M
(    dateRegexp.search\(periodEnd\);) s
5 560 M
(    ) s
/Courier-Bold 10 10 SUF
29 560 M
(int) s
/F-gs-font 10 10 SF
47 560 M
( periodEndMonth = dateRegexp.cap\(1\).toInt\(\);) s
5 549 M
(    QDate periodEndDate\(dateRegexp.cap\(3\).insert\(0, ) s
/Courier-Bold 10 10 SUF
317 549 M
("20") s
/F-gs-font 10 10 SF
341 549 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\), ) s
5 538 M
(dateRegexp.cap\(2\).toInt\(\)\);) s
5 516 M
(    QDate curDate = QDate::currentDate\(\);) s
5 494 M
(    QString monthRange;) s
5 483 M
(    ) s
/Courier-Bold 10 10 SUF
29 483 M
(int) s
/F-gs-font 10 10 SF
47 483 M
( monthRangeInt = periodEndMonth - periodBeginMonth;) s
5 472 M
(    ) s
/Courier-Bold 10 10 SUF
29 472 M
(if) s
/F-gs-font 10 10 SF
41 472 M
(\(monthRangeInt < 0\)) s
5 461 M
(        monthRangeInt += 12;) s
5 450 M
(    monthRangeInt++;) s
5 428 M
(    ) s
/Courier-Bold 10 10 SUF
29 428 M
(if) s
/F-gs-font 10 10 SF
41 428 M
(\(monthRangeInt == 1\)) s
5 417 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 417 M
("One") s
/F-gs-font 10 10 SF
161 417 M
(;) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(if) s
/F-gs-font 10 10 SF
41 406 M
(\(monthRangeInt == 2\)) s
5 395 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 395 M
("Two") s
/F-gs-font 10 10 SF
161 395 M
(;) s
5 384 M
(    ) s
/Courier-Bold 10 10 SUF
29 384 M
(if) s
/F-gs-font 10 10 SF
41 384 M
(\(monthRangeInt == 3\)) s
5 373 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 373 M
("Three") s
/F-gs-font 10 10 SF
173 373 M
(;) s
5 362 M
(    ) s
/Courier-Bold 10 10 SUF
29 362 M
(if) s
/F-gs-font 10 10 SF
41 362 M
(\(monthRangeInt == 4\)) s
5 351 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 351 M
("Four") s
/F-gs-font 10 10 SF
167 351 M
(;) s
5 340 M
(    ) s
/Courier-Bold 10 10 SUF
29 340 M
(if) s
/F-gs-font 10 10 SF
41 340 M
(\(monthRangeInt == 5\)) s
5 329 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 329 M
("Five") s
/F-gs-font 10 10 SF
167 329 M
(;) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(if) s
/F-gs-font 10 10 SF
41 318 M
(\(monthRangeInt == 6\)) s
5 307 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 307 M
("Six") s
/F-gs-font 10 10 SF
161 307 M
(;) s
5 296 M
(    ) s
/Courier-Bold 10 10 SUF
29 296 M
(if) s
/F-gs-font 10 10 SF
41 296 M
(\(monthRangeInt == 7\)) s
5 285 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 285 M
("Seven") s
/F-gs-font 10 10 SF
173 285 M
(;) s
5 274 M
(    ) s
/Courier-Bold 10 10 SUF
29 274 M
(if) s
/F-gs-font 10 10 SF
41 274 M
(\(monthRangeInt == 8\)) s
5 263 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 263 M
("Eight") s
/F-gs-font 10 10 SF
173 263 M
(;) s
5 252 M
(    ) s
/Courier-Bold 10 10 SUF
29 252 M
(if) s
/F-gs-font 10 10 SF
41 252 M
(\(monthRangeInt == 9\)) s
5 241 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 241 M
("Nine") s
/F-gs-font 10 10 SF
167 241 M
(;) s
5 230 M
(    ) s
/Courier-Bold 10 10 SUF
29 230 M
(if) s
/F-gs-font 10 10 SF
41 230 M
(\(monthRangeInt == 10\)) s
5 219 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 219 M
("Ten") s
/F-gs-font 10 10 SF
161 219 M
(;) s
5 208 M
(    ) s
/Courier-Bold 10 10 SUF
29 208 M
(if) s
/F-gs-font 10 10 SF
41 208 M
(\(monthRangeInt == 11\)) s
5 197 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 197 M
("Eleven") s
/F-gs-font 10 10 SF
179 197 M
(;) s
5 186 M
(    ) s
/Courier-Bold 10 10 SUF
29 186 M
(if) s
/F-gs-font 10 10 SF
41 186 M
(\(monthRangeInt == 12\)) s
5 175 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 175 M
("Twelve") s
/F-gs-font 10 10 SF
179 175 M
(;) s
5 153 M
(    QString entryYear;) s
5 142 M
(    QString entryMonth;) s
5 131 M
(    QString entryDay;) s
5 120 M
(    QDate entryDate;) s
5 98 M
(    report->csv = ) s
/Courier-Bold 10 10 SUF
113 98 M
("Account Description,One Month Balance,") s
/F-gs-font 10 10 SF
353 98 M
(;) s
5 87 M
(    ) s
/Courier-Bold 10 10 SUF
29 87 M
(if) s
/F-gs-font 10 10 SF
41 87 M
(\(monthRange == ) s
/Courier-Bold 10 10 SUF
131 87 M
("One") s
/F-gs-font 10 10 SF
161 87 M
(\)) s
5 76 M
(        report->csv += ) s
/Courier-Bold 10 10 SUF
143 76 M
("One Month Balance\\n") s
/F-gs-font 10 10 SF
269 76 M
(;) s
5 65 M
(    ) s
/Courier-Bold 10 10 SUF
29 65 M
(else) s
/F-gs-font 10 10 SF
5 54 M
(        report->csv += monthRange + ) s
/Courier-Bold 10 10 SUF
221 54 M
(" Months Balance\\n") s
/F-gs-font 10 10 SF
335 54 M
(;) s
5 32 M
(    report->header = ) s
/Courier-Bold 10 10 SUF
131 32 M
("<center><h1>") s
/F-gs-font 10 10 SF
215 32 M
(;) s
5 21 M
(    report->header += curClient;) s
5 10 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 10 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
245 10 M
(;) s
_R
S
%%Page: (32) 32
%%BeginPageSetup
_S
18 36 translate
/pagenum 32 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (32) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 692 M
("<center><h2>Income Statement Service Company</h2></center>\\n") s
/F-gs-font 10 10 SF
509 692 M
(;) s
5 681 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 681 M
("<center><h3>For One Month and ") s
/F-gs-font 10 10 SF
329 681 M
(;) s
5 670 M
(    ) s
/Courier-Bold 10 10 SUF
29 670 M
(if) s
/F-gs-font 10 10 SF
41 670 M
(\(monthRange == ) s
/Courier-Bold 10 10 SUF
131 670 M
("One") s
/F-gs-font 10 10 SF
161 670 M
(\)) s
5 659 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 659 M
("One Month") s
/F-gs-font 10 10 SF
227 659 M
(;) s
5 648 M
(    ) s
/Courier-Bold 10 10 SUF
29 648 M
(else) s
/F-gs-font 10 10 SF
5 637 M
(        report->header += monthRange + ) s
/Courier-Bold 10 10 SUF
239 637 M
(" Months") s
/F-gs-font 10 10 SF
293 637 M
(;) s
5 626 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 626 M
(" Ended ") s
/F-gs-font 10 10 SF
191 626 M
( + periodEndDate.toString\() s
/Courier-Bold 10 10 SUF
347 626 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
425 626 M
(\) + ) s
/Courier-Bold 10 10 SUF
449 626 M
("</h3>\\n") s
/F-gs-font 10 10 SF
503 626 M
(;) s
5 604 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 604 M
("<table width=\\"80%\\"><tr>") s
/F-gs-font 10 10 SF
5 593 M
(            ) s
/Courier-Bold 10 10 SUF
77 593 M
("<td width=\\"50%\\"><b>Account Description</b></td>") s
/F-gs-font 10 10 SF
5 582 M
(            ) s
/Courier-Bold 10 10 SUF
77 582 M
("<td align=\\"right\\" width=\\"25%\\"><b>One Month</b></td>") s
/F-gs-font 10 10 SF
5 571 M
(            ) s
/Courier-Bold 10 10 SUF
77 571 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 571 M
(;) s
5 560 M
(    ) s
/Courier-Bold 10 10 SUF
29 560 M
(if) s
/F-gs-font 10 10 SF
41 560 M
(\(monthRange == ) s
/Courier-Bold 10 10 SUF
131 560 M
("One") s
/F-gs-font 10 10 SF
161 560 M
(\)) s
5 549 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 549 M
("One Month") s
/F-gs-font 10 10 SF
227 549 M
(;) s
5 538 M
(    ) s
/Courier-Bold 10 10 SUF
29 538 M
(else) s
/F-gs-font 10 10 SF
5 527 M
(        report->header += monthRange + ) s
/Courier-Bold 10 10 SUF
239 527 M
(" Months") s
/F-gs-font 10 10 SF
293 527 M
(;) s
5 516 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 516 M
("</b></td></tr></table></center>") s
/F-gs-font 10 10 SF
335 516 M
(;) s
5 494 M
(    report->data = ) s
/Courier-Bold 10 10 SUF
119 494 M
("<center><table width=\\"80%\\">") s
/F-gs-font 10 10 SF
305 494 M
(;) s
5 472 M
(    QStringList incomeList;) s
5 461 M
(    QStringList expensesList;) s
5 439 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 439 M
("SELECT * FROM incomeSvcIncome") s
/F-gs-font 10 10 SF
311 439 M
(, connection\);) s
5 428 M
(    ) s
/Courier-Bold 10 10 SUF
29 428 M
(while) s
/F-gs-font 10 10 SF
59 428 M
(\(query.next\(\)\)) s
5 417 M
(    {) s
5 406 M
(        incomeList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
311 406 M
("\\n") s
/F-gs-font 10 10 SF
335 406 M
( + query.value\(1\).toString\(\)) s
5 395 M
(        + ) s
/Courier-Bold 10 10 SUF
65 395 M
("\\n") s
/F-gs-font 10 10 SF
89 395 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
275 395 M
("\\n") s
/F-gs-font 10 10 SF
299 395 M
( + query.value\(3\).toString\(\)) s
5 384 M
(        + ) s
/Courier-Bold 10 10 SUF
65 384 M
("\\n") s
/F-gs-font 10 10 SF
89 384 M
( + query.value\(4\).toString\(\)\);) s
5 373 M
(    }) s
5 362 M
(    incomeList.sort\(\);) s
5 340 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 340 M
("SELECT * FROM incomeSvcExpenses") s
/F-gs-font 10 10 SF
311 340 M
(\);) s
5 329 M
(    query.exec\(\);) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(while) s
/F-gs-font 10 10 SF
59 318 M
(\(query.next\(\)\)) s
5 307 M
(    {) s
5 296 M
(        expensesList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 296 M
("\\n") s
/F-gs-font 10 10 SF
347 296 M
( + query.value\(1\).toString\(\)) s
5 285 M
(        + ) s
/Courier-Bold 10 10 SUF
65 285 M
("\\n") s
/F-gs-font 10 10 SF
89 285 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
275 285 M
("\\n") s
/F-gs-font 10 10 SF
299 285 M
( + query.value\(3\).toString\(\)) s
5 274 M
(        + ) s
/Courier-Bold 10 10 SUF
65 274 M
("\\n") s
/F-gs-font 10 10 SF
89 274 M
( + query.value\(4\).toString\(\)\);) s
5 263 M
(    }) s
5 252 M
(    expensesList.sort\(\);) s
5 230 M
(    QString incomeBalance;) s
5 219 M
(    QString incomeBalanceSingle;) s
5 208 M
(    QString expensesBalance;) s
5 197 M
(    QString expensesBalanceSingle;) s
5 186 M
(    QString accountBalance;) s
5 175 M
(    QString accountBalanceSingle;) s
5 153 M
(    QString type;) s
5 142 M
(    QString desc;) s
5 131 M
(    QString accountBegin;) s
5 120 M
(    QString accountEnd;) s
5 98 M
(    QRegExp regexp\() s
/Courier-Bold 10 10 SUF
119 98 M
(".*\\n\(.*\)\\n\(.*\)\\n\(.*\)\\n\(.*\)") s
/F-gs-font 10 10 SF
287 98 M
(\);) s
5 76 M
(    incomeBalance = ) s
/Courier-Bold 10 10 SUF
125 76 M
("0.00") s
/F-gs-font 10 10 SF
161 76 M
(;) s
5 65 M
(    incomeBalanceSingle = ) s
/Courier-Bold 10 10 SUF
161 65 M
("0.00") s
/F-gs-font 10 10 SF
197 65 M
(;) s
5 54 M
(    ) s
/Courier-Bold 10 10 SUF
29 54 M
(for) s
/F-gs-font 10 10 SF
47 54 M
(\(QStringList::Iterator listIt = incomeList.begin\(\); listIt != incomeList.end\(\); ++listI) s
5 43 M
(t\)) s
5 32 M
(    {) s
5 21 M
(        regexp.search\(*listIt\);) s
5 10 M
(        type = regexp.cap\(1\);) s
_R
S
%%Page: (33) 33
%%BeginPageSetup
_S
18 36 translate
/pagenum 33 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (33) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        desc = regexp.cap\(2\);) s
5 681 M
(        accountBegin = regexp.cap\(3\);) s
5 670 M
(        accountEnd = regexp.cap\(4\);) s
5 648 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 648 M
("0.00") s
/F-gs-font 10 10 SF
191 648 M
(;) s
5 637 M
(        accountBalanceSingle = ) s
/Courier-Bold 10 10 SUF
191 637 M
("0.00") s
/F-gs-font 10 10 SF
227 637 M
(;) s
5 626 M
(        ) s
/Courier-Bold 10 10 SUF
53 626 M
(if) s
/F-gs-font 10 10 SF
65 626 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 626 M
("0") s
/F-gs-font 10 10 SF
137 626 M
(\)) s
5 615 M
(        {) s
5 604 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 604 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 604 M
( + account) s
5 593 M
(Begin\);) s
5 582 M
(            query.exec\(\);) s
5 571 M
(            ) s
/Courier-Bold 10 10 SUF
77 571 M
(while) s
/F-gs-font 10 10 SF
107 571 M
(\(query.next\(\)\)) s
5 560 M
(            {) s
5 549 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 527 M
(                ) s
/Courier-Bold 10 10 SUF
101 527 M
(if) s
/F-gs-font 10 10 SF
113 527 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 527 M
("yy") s
/F-gs-font 10 10 SF
371 527 M
(\).toInt\(\) + 2\)\)) s
5 516 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 516 M
("20") s
/F-gs-font 10 10 SF
269 516 M
(\);) s
5 505 M
(                ) s
/Courier-Bold 10 10 SUF
101 505 M
(else) s
/F-gs-font 10 10 SF
5 494 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 494 M
("19") s
/F-gs-font 10 10 SF
269 494 M
(\);) s
5 472 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 461 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 439 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 428 M
(                ) s
/Courier-Bold 10 10 SUF
101 428 M
(if) s
/F-gs-font 10 10 SF
113 428 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 417 M
(                    ) s
/Courier-Bold 10 10 SUF
125 417 M
(continue) s
/F-gs-font 10 10 SF
173 417 M
(;) s
5 395 M
(                ) s
/Courier-Bold 10 10 SUF
101 395 M
(if) s
/F-gs-font 10 10 SF
113 395 M
(\(entryDate >= periodBeginDate\)) s
5 384 M
(                {) s
5 373 M
(                    ) s
/Courier-Bold 10 10 SUF
125 373 M
(if) s
/F-gs-font 10 10 SF
137 373 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 373 M
("") s
/F-gs-font 10 10 SF
329 373 M
(\)) s
5 362 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)) s
5 351 M
(\);) s
5 340 M
(                    ) s
/Courier-Bold 10 10 SUF
125 340 M
(if) s
/F-gs-font 10 10 SF
137 340 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 340 M
("") s
/F-gs-font 10 10 SF
329 340 M
(\)) s
5 329 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2) s
5 318 M
(\).toString\(\)\)\);) s
5 307 M
(                }) s
5 296 M
(                ) s
/Courier-Bold 10 10 SUF
101 296 M
(if) s
/F-gs-font 10 10 SF
113 296 M
(\(entryDate >= periodBeginSingleDate\)) s
5 285 M
(                {) s
5 274 M
(                    ) s
/Courier-Bold 10 10 SUF
125 274 M
(if) s
/F-gs-font 10 10 SF
137 274 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 274 M
("") s
/F-gs-font 10 10 SF
329 274 M
(\)) s
5 263 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, query.value\(1) s
5 252 M
(\).toString\(\)\);) s
5 241 M
(                    ) s
/Courier-Bold 10 10 SUF
125 241 M
(if) s
/F-gs-font 10 10 SF
137 241 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 241 M
("") s
/F-gs-font 10 10 SF
329 241 M
(\)) s
5 230 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurrency\(q) s
5 219 M
(uery.value\(2\).toString\(\)\)\);) s
5 208 M
(                }) s
5 197 M
(            }) s
5 186 M
(        }) s
5 175 M
(        ) s
/Courier-Bold 10 10 SUF
53 175 M
(else) s
/F-gs-font 10 10 SF
5 164 M
(        {) s
5 153 M
(            QStringList accounts;) s
5 131 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 131 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 131 M
(\);) s
5 120 M
(            query.exec\(\);) s
5 109 M
(            ) s
/Courier-Bold 10 10 SUF
77 109 M
(while) s
/F-gs-font 10 10 SF
107 109 M
(\(query.next\(\)\)) s
5 98 M
(            {) s
5 87 M
(                ) s
/Courier-Bold 10 10 SUF
101 87 M
(if) s
/F-gs-font 10 10 SF
113 87 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 76 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
5 65 M
(                    accounts << query.value\(0\).toString\(\);) s
5 54 M
(            }) s
5 32 M
(            ) s
/Courier-Bold 10 10 SUF
77 32 M
(for) s
/F-gs-font 10 10 SF
95 32 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 21 M
(            {) s
5 10 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 10 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 10 M
( + *it) s
_R
S
%%Page: (34) 34
%%BeginPageSetup
_S
18 36 translate
/pagenum 34 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (34) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(\);) s
5 681 M
(                query.exec\(\);) s
5 670 M
(                ) s
/Courier-Bold 10 10 SUF
101 670 M
(while) s
/F-gs-font 10 10 SF
131 670 M
(\(query.next\(\)\)) s
5 659 M
(                {) s
5 648 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 626 M
(                    ) s
/Courier-Bold 10 10 SUF
125 626 M
(if) s
/F-gs-font 10 10 SF
137 626 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 626 M
("yy") s
/F-gs-font 10 10 SF
395 626 M
(\).toInt\(\) + 2\)\)) s
5 615 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 615 M
("20") s
/F-gs-font 10 10 SF
293 615 M
(\);) s
5 604 M
(                    ) s
/Courier-Bold 10 10 SUF
125 604 M
(else) s
/F-gs-font 10 10 SF
5 593 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 593 M
("19") s
/F-gs-font 10 10 SF
293 593 M
(\);) s
5 571 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 560 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 538 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 527 M
(                    ) s
/Courier-Bold 10 10 SUF
125 527 M
(if) s
/F-gs-font 10 10 SF
137 527 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 516 M
(                        ) s
/Courier-Bold 10 10 SUF
149 516 M
(continue) s
/F-gs-font 10 10 SF
197 516 M
(;) s
5 494 M
(                    ) s
/Courier-Bold 10 10 SUF
125 494 M
(if) s
/F-gs-font 10 10 SF
137 494 M
(\(entryDate >= periodBeginDate\)) s
5 483 M
(                    {) s
5 472 M
(                        ) s
/Courier-Bold 10 10 SUF
149 472 M
(if) s
/F-gs-font 10 10 SF
161 472 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 472 M
("") s
/F-gs-font 10 10 SF
353 472 M
(\)) s
5 461 M
(                            accountBalance = addCurrency\(accountBalance, query.value\(1\).toStri) s
5 450 M
(ng\(\)\);) s
5 439 M
(                        ) s
/Courier-Bold 10 10 SUF
149 439 M
(if) s
/F-gs-font 10 10 SF
161 439 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 439 M
("") s
/F-gs-font 10 10 SF
353 439 M
(\)) s
5 428 M
(                            accountBalance = addCurrency\(accountBalance, negCurrency\(query.val) s
5 417 M
(ue\(2\).toString\(\)\)\);) s
5 406 M
(                    }) s
5 395 M
(                    ) s
/Courier-Bold 10 10 SUF
125 395 M
(if) s
/F-gs-font 10 10 SF
137 395 M
(\(entryDate >= periodBeginSingleDate\)) s
5 384 M
(                    {) s
5 373 M
(                        ) s
/Courier-Bold 10 10 SUF
149 373 M
(if) s
/F-gs-font 10 10 SF
161 373 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 373 M
("") s
/F-gs-font 10 10 SF
353 373 M
(\)) s
5 362 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, query.val) s
5 351 M
(ue\(1\).toString\(\)\);) s
5 340 M
(                        ) s
/Courier-Bold 10 10 SUF
149 340 M
(if) s
/F-gs-font 10 10 SF
161 340 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 340 M
("") s
/F-gs-font 10 10 SF
353 340 M
(\)) s
5 329 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurren) s
5 318 M
(cy\(query.value\(2\).toString\(\)\)\);) s
5 307 M
(                    }) s
5 296 M
(                }) s
5 285 M
(            }) s
5 274 M
(        }) s
5 252 M
(        incomeBalance = addCurrency\(incomeBalance, negCurrency\(accountBalance\)\);) s
5 241 M
(        incomeBalanceSingle = addCurrency\(incomeBalanceSingle, negCurrency\(accountBalanceSingl) s
5 230 M
(e\)\);) s
5 208 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 208 M
("<tr><td width=\\"50%\\">") s
/F-gs-font 10 10 SF
293 208 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 208 M
("</td>") s
/F-gs-font 10 10 SF
5 197 M
(                ) s
/Courier-Bold 10 10 SUF
101 197 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 197 M
( + formatCurrency\(accountBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 197 M
() s
5 186 M
("</td>") s
/F-gs-font 10 10 SF
5 175 M
(                ) s
/Courier-Bold 10 10 SUF
101 175 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 175 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 175 M
("</td>) s
5 164 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 164 M
(;) s
5 153 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 153 M
(",") s
/F-gs-font 10 10 SF
203 153 M
( + accountBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 153 M
(",") s
/F-gs-font 10 10 SF
377 153 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
497 153 M
("\\n") s
/F-gs-font 10 10 SF
521 153 M
(;) s
5 142 M
(    }) s
5 120 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 120 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 120 M
(;) s
5 109 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 109 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Total Income</b></td>") s
/F-gs-font 10 10 SF
5 98 M
(            ) s
/Courier-Bold 10 10 SUF
77 98 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 98 M
( + formatCurrency\(incomeBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
557 98 M
("<) s
5 87 M
(/b></td>") s
/F-gs-font 10 10 SF
5 76 M
(            ) s
/Courier-Bold 10 10 SUF
77 76 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 76 M
( + formatCurrency\(incomeBalance\) + ) s
/Courier-Bold 10 10 SUF
521 76 M
("</b></t) s
5 65 M
(d></tr>\\n") s
/F-gs-font 10 10 SF
65 65 M
(;) s
5 54 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 54 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 54 M
(;) s
5 43 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 43 M
("Total Income,") s
/F-gs-font 10 10 SF
209 43 M
( + incomeBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 43 M
(",") s
/F-gs-font 10 10 SF
377 43 M
( + incomeBalance + ) s
/Courier-Bold 10 10 SUF
491 43 M
("\\n\\n") s
/F-gs-font 10 10 SF
527 43 M
(;) s
5 10 M
(    expensesBalance = ) s
/Courier-Bold 10 10 SUF
137 10 M
("0.00") s
/F-gs-font 10 10 SF
173 10 M
(;) s
_R
S
%%Page: (35) 35
%%BeginPageSetup
_S
18 36 translate
/pagenum 35 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (35) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    expensesBalanceSingle = ) s
/Courier-Bold 10 10 SUF
173 692 M
("0.00") s
/F-gs-font 10 10 SF
209 692 M
(;) s
5 681 M
(    ) s
/Courier-Bold 10 10 SUF
29 681 M
(for) s
/F-gs-font 10 10 SF
47 681 M
(\(QStringList::Iterator listIt = expensesList.begin\(\); listIt != expensesList.end\(\); ++l) s
5 670 M
(istIt\)) s
5 659 M
(    {) s
5 648 M
(        regexp.search\(*listIt\);) s
5 637 M
(        type = regexp.cap\(1\);) s
5 626 M
(        desc = regexp.cap\(2\);) s
5 615 M
(        accountBegin = regexp.cap\(3\);) s
5 604 M
(        accountEnd = regexp.cap\(4\);) s
5 582 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 582 M
("0.00") s
/F-gs-font 10 10 SF
191 582 M
(;) s
5 571 M
(        accountBalanceSingle = ) s
/Courier-Bold 10 10 SUF
191 571 M
("0.00") s
/F-gs-font 10 10 SF
227 571 M
(;) s
5 560 M
(        ) s
/Courier-Bold 10 10 SUF
53 560 M
(if) s
/F-gs-font 10 10 SF
65 560 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 560 M
("0") s
/F-gs-font 10 10 SF
137 560 M
(\)) s
5 549 M
(        {) s
5 538 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 538 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 538 M
( + account) s
5 527 M
(Begin\);) s
5 516 M
(            query.exec\(\);) s
5 505 M
(            ) s
/Courier-Bold 10 10 SUF
77 505 M
(while) s
/F-gs-font 10 10 SF
107 505 M
(\(query.next\(\)\)) s
5 494 M
(            {) s
5 483 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 461 M
(                ) s
/Courier-Bold 10 10 SUF
101 461 M
(if) s
/F-gs-font 10 10 SF
113 461 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 461 M
("yy") s
/F-gs-font 10 10 SF
371 461 M
(\).toInt\(\) + 2\)\)) s
5 450 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 450 M
("20") s
/F-gs-font 10 10 SF
269 450 M
(\);) s
5 439 M
(                ) s
/Courier-Bold 10 10 SUF
101 439 M
(else) s
/F-gs-font 10 10 SF
5 428 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 428 M
("19") s
/F-gs-font 10 10 SF
269 428 M
(\);) s
5 406 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 395 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 373 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 362 M
(                ) s
/Courier-Bold 10 10 SUF
101 362 M
(if) s
/F-gs-font 10 10 SF
113 362 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 351 M
(                    ) s
/Courier-Bold 10 10 SUF
125 351 M
(continue) s
/F-gs-font 10 10 SF
173 351 M
(;) s
5 329 M
(                ) s
/Courier-Bold 10 10 SUF
101 329 M
(if) s
/F-gs-font 10 10 SF
113 329 M
(\(entryDate >= periodBeginDate\)) s
5 318 M
(                {) s
5 307 M
(                    ) s
/Courier-Bold 10 10 SUF
125 307 M
(if) s
/F-gs-font 10 10 SF
137 307 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 307 M
("") s
/F-gs-font 10 10 SF
329 307 M
(\)) s
5 296 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)) s
5 285 M
(\);) s
5 274 M
(                    ) s
/Courier-Bold 10 10 SUF
125 274 M
(if) s
/F-gs-font 10 10 SF
137 274 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 274 M
("") s
/F-gs-font 10 10 SF
329 274 M
(\)) s
5 263 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2) s
5 252 M
(\).toString\(\)\)\);) s
5 241 M
(                }) s
5 230 M
(                ) s
/Courier-Bold 10 10 SUF
101 230 M
(if) s
/F-gs-font 10 10 SF
113 230 M
(\(entryDate >= periodBeginSingleDate\)) s
5 219 M
(                {) s
5 208 M
(                    ) s
/Courier-Bold 10 10 SUF
125 208 M
(if) s
/F-gs-font 10 10 SF
137 208 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 208 M
("") s
/F-gs-font 10 10 SF
329 208 M
(\)) s
5 197 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, query.value\(1) s
5 186 M
(\).toString\(\)\);) s
5 175 M
(                    ) s
/Courier-Bold 10 10 SUF
125 175 M
(if) s
/F-gs-font 10 10 SF
137 175 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 175 M
("") s
/F-gs-font 10 10 SF
329 175 M
(\)) s
5 164 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurrency\(q) s
5 153 M
(uery.value\(2\).toString\(\)\)\);) s
5 142 M
(                }) s
5 131 M
(            }) s
5 120 M
(        }) s
5 109 M
(        ) s
/Courier-Bold 10 10 SUF
53 109 M
(else) s
/F-gs-font 10 10 SF
5 98 M
(        {) s
5 87 M
(            QStringList accounts;) s
5 65 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 65 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 65 M
(\);) s
5 54 M
(            query.exec\(\);) s
5 43 M
(            ) s
/Courier-Bold 10 10 SUF
77 43 M
(while) s
/F-gs-font 10 10 SF
107 43 M
(\(query.next\(\)\)) s
5 32 M
(            {) s
5 21 M
(                ) s
/Courier-Bold 10 10 SUF
101 21 M
(if) s
/F-gs-font 10 10 SF
113 21 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 10 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
_R
S
%%Page: (36) 36
%%BeginPageSetup
_S
18 36 translate
/pagenum 36 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (36) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                    accounts << query.value\(0\).toString\(\);) s
5 681 M
(            }) s
5 659 M
(            ) s
/Courier-Bold 10 10 SUF
77 659 M
(for) s
/F-gs-font 10 10 SF
95 659 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 648 M
(            {) s
5 637 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 637 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 637 M
( + *it) s
5 626 M
(\);) s
5 615 M
(                query.exec\(\);) s
5 604 M
(                ) s
/Courier-Bold 10 10 SUF
101 604 M
(while) s
/F-gs-font 10 10 SF
131 604 M
(\(query.next\(\)\)) s
5 593 M
(                {) s
5 582 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 560 M
(                    ) s
/Courier-Bold 10 10 SUF
125 560 M
(if) s
/F-gs-font 10 10 SF
137 560 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 560 M
("yy") s
/F-gs-font 10 10 SF
395 560 M
(\).toInt\(\) + 2\)\)) s
5 549 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 549 M
("20") s
/F-gs-font 10 10 SF
293 549 M
(\);) s
5 538 M
(                    ) s
/Courier-Bold 10 10 SUF
125 538 M
(else) s
/F-gs-font 10 10 SF
5 527 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 527 M
("19") s
/F-gs-font 10 10 SF
293 527 M
(\);) s
5 505 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 494 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 472 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 461 M
(                    ) s
/Courier-Bold 10 10 SUF
125 461 M
(if) s
/F-gs-font 10 10 SF
137 461 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 450 M
(                        ) s
/Courier-Bold 10 10 SUF
149 450 M
(continue) s
/F-gs-font 10 10 SF
197 450 M
(;) s
5 428 M
(                    ) s
/Courier-Bold 10 10 SUF
125 428 M
(if) s
/F-gs-font 10 10 SF
137 428 M
(\(entryDate >= periodBeginDate\)) s
5 417 M
(                    {) s
5 406 M
(                        ) s
/Courier-Bold 10 10 SUF
149 406 M
(if) s
/F-gs-font 10 10 SF
161 406 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 406 M
("") s
/F-gs-font 10 10 SF
353 406 M
(\)) s
5 395 M
(                            accountBalance = addCurrency\(accountBalance, query.value\(1\).toStri) s
5 384 M
(ng\(\)\);) s
5 373 M
(                        ) s
/Courier-Bold 10 10 SUF
149 373 M
(if) s
/F-gs-font 10 10 SF
161 373 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 373 M
("") s
/F-gs-font 10 10 SF
353 373 M
(\)) s
5 362 M
(                            accountBalance = addCurrency\(accountBalance, negCurrency\(query.val) s
5 351 M
(ue\(2\).toString\(\)\)\);) s
5 340 M
(                    }) s
5 329 M
(                    ) s
/Courier-Bold 10 10 SUF
125 329 M
(if) s
/F-gs-font 10 10 SF
137 329 M
(\(entryDate >= periodBeginSingleDate\)) s
5 318 M
(                    {) s
5 307 M
(                        ) s
/Courier-Bold 10 10 SUF
149 307 M
(if) s
/F-gs-font 10 10 SF
161 307 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 307 M
("") s
/F-gs-font 10 10 SF
353 307 M
(\)) s
5 296 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, query.val) s
5 285 M
(ue\(1\).toString\(\)\);) s
5 274 M
(                        ) s
/Courier-Bold 10 10 SUF
149 274 M
(if) s
/F-gs-font 10 10 SF
161 274 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 274 M
("") s
/F-gs-font 10 10 SF
353 274 M
(\)) s
5 263 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurren) s
5 252 M
(cy\(query.value\(2\).toString\(\)\)\);) s
5 241 M
(                    }) s
5 230 M
(                }) s
5 219 M
(            }) s
5 208 M
(        }) s
5 186 M
(        expensesBalance = addCurrency\(expensesBalance, accountBalance\);) s
5 175 M
(        expensesBalanceSingle = addCurrency\(expensesBalanceSingle, accountBalanceSingle\);) s
5 153 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 153 M
("<tr><td width=\\"50%\\">") s
/F-gs-font 10 10 SF
293 153 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 153 M
("</td>") s
/F-gs-font 10 10 SF
5 142 M
(                ) s
/Courier-Bold 10 10 SUF
101 142 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 142 M
( + formatCurrency\(accountBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 142 M
() s
5 131 M
("</td>") s
/F-gs-font 10 10 SF
5 120 M
(                ) s
/Courier-Bold 10 10 SUF
101 120 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 120 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 120 M
("</td>) s
5 109 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 109 M
(;) s
5 98 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 98 M
(",") s
/F-gs-font 10 10 SF
203 98 M
( + accountBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 98 M
(",") s
/F-gs-font 10 10 SF
377 98 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
497 98 M
("\\n") s
/F-gs-font 10 10 SF
521 98 M
(;) s
5 87 M
(    }) s
5 65 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 65 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 65 M
(;) s
5 54 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 54 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Total Expenses</b></td>") s
/F-gs-font 10 10 SF
5 43 M
(            ) s
/Courier-Bold 10 10 SUF
77 43 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 43 M
( + formatCurrency\(expensesBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 43 M
() s
5 32 M
("</b></td>") s
/F-gs-font 10 10 SF
5 21 M
(            ) s
/Courier-Bold 10 10 SUF
77 21 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 21 M
( + formatCurrency\(expensesBalance\) + ) s
/Courier-Bold 10 10 SUF
533 21 M
("</b><) s
5 10 M
(/td></tr>\\n") s
/F-gs-font 10 10 SF
77 10 M
(;) s
_R
S
%%Page: (37) 37
%%BeginPageSetup
_S
18 36 translate
/pagenum 37 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (37) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 692 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 692 M
(;) s
5 681 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 681 M
("Total Expenses,") s
/F-gs-font 10 10 SF
221 681 M
( + expensesBalanceSingle + ) s
/Courier-Bold 10 10 SUF
383 681 M
(",") s
/F-gs-font 10 10 SF
401 681 M
( + expensesBalance + ) s
/Courier-Bold 10 10 SUF
527 681 M
("\\n") s
/F-gs-font 10 10 SF
551 681 M
(;) s
5 659 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 659 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Net Income \(Loss\)</b></td>") s
/F-gs-font 10 10 SF
5 648 M
(            ) s
/Courier-Bold 10 10 SUF
77 648 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 648 M
( + formatCurrency\(addCurrency\(incomeBalance) s
5 637 M
(Single, expensesBalanceSingle\)\)) s
5 626 M
(            + ) s
/Courier-Bold 10 10 SUF
89 626 M
("</b></td>") s
/F-gs-font 10 10 SF
5 615 M
(            ) s
/Courier-Bold 10 10 SUF
77 615 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 615 M
( + formatCurrency\(addCurrency\(incomeBalance) s
5 604 M
(, expensesBalance\)\)) s
5 593 M
(            + ) s
/Courier-Bold 10 10 SUF
89 593 M
("</b></td></tr>\\n") s
/F-gs-font 10 10 SF
197 593 M
(;) s
5 582 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 582 M
("Net Income \(Loss\),") s
/F-gs-font 10 10 SF
239 582 M
( + addCurrency\(incomeBalanceSingle, expensesBalanceSing) s
5 571 M
(le\)) s
5 560 M
(            + ) s
/Courier-Bold 10 10 SUF
89 560 M
(",") s
/F-gs-font 10 10 SF
107 560 M
( + addCurrency\(incomeBalance, expensesBalance\) + ) s
/Courier-Bold 10 10 SUF
401 560 M
("\\n") s
/F-gs-font 10 10 SF
425 560 M
(;) s
5 538 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 538 M
("</table></center>") s
/F-gs-font 10 10 SF
239 538 M
(;) s
5 516 M
(    report->string = ) s
/Courier-Bold 10 10 SUF
131 516 M
("<qt>") s
/F-gs-font 10 10 SF
167 516 M
( + report->header + report->data + ) s
/Courier-Bold 10 10 SUF
377 516 M
("</qt>") s
/F-gs-font 10 10 SF
419 516 M
(;) s
5 494 M
(    report->html = report->string.replace\() s
5 483 M
(            ) s
/Courier-Bold 10 10 SUF
77 483 M
("<qt>") s
/F-gs-font 10 10 SF
113 483 M
(, ) s
/Courier-Bold 10 10 SUF
125 483 M
("<html><head><title>") s
/F-gs-font 10 10 SF
251 483 M
( + curClient +) s
5 472 M
(            ) s
/Courier-Bold 10 10 SUF
77 472 M
(" - Income Statement Service Company</title></head><body>\\n") s
/F-gs-font 10 10 SF
437 472 M
(\).replace\() s
5 461 M
(                    ) s
/Courier-Bold 10 10 SUF
125 461 M
("</qt>") s
/F-gs-font 10 10 SF
167 461 M
(, ) s
/Courier-Bold 10 10 SUF
179 461 M
("</body></html>") s
/F-gs-font 10 10 SF
275 461 M
(\);) s
5 439 M
(    ) s
/Courier-Bold 10 10 SUF
29 439 M
(return) s
/F-gs-font 10 10 SF
65 439 M
( ) s
/Courier-Bold 10 10 SUF
71 439 M
(this) s
/F-gs-font 10 10 SF
95 439 M
(;) s
5 428 M
(}) s
5 406 M
(Database* ) s
/Courier-Bold 10 10 SUF
65 406 M
(Database::getIncomeRetailReport) s
/F-gs-font 10 10 SF
251 406 M
(\(QString periodEnd\)) s
5 395 M
({) s
5 384 M
(    QRegExp dateRegexp\() s
/Courier-Bold 10 10 SUF
143 384 M
("Period \\\\d+ \\\\\(\(\\\\d\\\\d\)/\(\\\\d\\\\d\)/\(\\\\d\\\\d\)\\\\\)") s
/F-gs-font 10 10 SF
419 384 M
(\);) s
5 362 M
(    dateRegexp.search\(getPeriodBegin\(\)[0]\);) s
5 351 M
(    ) s
/Courier-Bold 10 10 SUF
29 351 M
(int) s
/F-gs-font 10 10 SF
47 351 M
( periodBeginMonth = dateRegexp.cap\(1\).toInt\(\);) s
5 340 M
(    QDate periodBeginDate\(dateRegexp.cap\(3\).insert\(0, ) s
/Courier-Bold 10 10 SUF
329 340 M
("20") s
/F-gs-font 10 10 SF
353 340 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\)) s
5 329 M
(, dateRegexp.cap\(2\).toInt\(\)\);) s
5 307 M
(    dateRegexp.search\(periodEnd\);) s
5 296 M
(    QDate periodBeginSingleDate\(dateRegexp.cap\(3\).insert\(0, ) s
/Courier-Bold 10 10 SUF
365 296 M
("20") s
/F-gs-font 10 10 SF
389 296 M
(\).toInt\(\), dateRegexp.cap\(1\).t) s
5 285 M
(oInt\(\), 1\);) s
5 263 M
(    dateRegexp.search\(periodEnd\);) s
5 252 M
(    ) s
/Courier-Bold 10 10 SUF
29 252 M
(int) s
/F-gs-font 10 10 SF
47 252 M
( periodEndMonth = dateRegexp.cap\(1\).toInt\(\);) s
5 241 M
(    QDate periodEndDate\(dateRegexp.cap\(3\).insert\(0, ) s
/Courier-Bold 10 10 SUF
317 241 M
("20") s
/F-gs-font 10 10 SF
341 241 M
(\).toInt\(\), dateRegexp.cap\(1\).toInt\(\), ) s
5 230 M
(dateRegexp.cap\(2\).toInt\(\)\);) s
5 208 M
(    QDate curDate = QDate::currentDate\(\);) s
5 186 M
(    QString monthRange;) s
5 175 M
(    ) s
/Courier-Bold 10 10 SUF
29 175 M
(int) s
/F-gs-font 10 10 SF
47 175 M
( monthRangeInt = periodEndMonth - periodBeginMonth;) s
5 164 M
(    ) s
/Courier-Bold 10 10 SUF
29 164 M
(if) s
/F-gs-font 10 10 SF
41 164 M
(\(monthRangeInt < 0\)) s
5 153 M
(        monthRangeInt += 12;) s
5 142 M
(    monthRangeInt++;) s
5 120 M
(    ) s
/Courier-Bold 10 10 SUF
29 120 M
(if) s
/F-gs-font 10 10 SF
41 120 M
(\(monthRangeInt == 1\)) s
5 109 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 109 M
("One") s
/F-gs-font 10 10 SF
161 109 M
(;) s
5 98 M
(    ) s
/Courier-Bold 10 10 SUF
29 98 M
(if) s
/F-gs-font 10 10 SF
41 98 M
(\(monthRangeInt == 2\)) s
5 87 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 87 M
("Two") s
/F-gs-font 10 10 SF
161 87 M
(;) s
5 76 M
(    ) s
/Courier-Bold 10 10 SUF
29 76 M
(if) s
/F-gs-font 10 10 SF
41 76 M
(\(monthRangeInt == 3\)) s
5 65 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 65 M
("Three") s
/F-gs-font 10 10 SF
173 65 M
(;) s
5 54 M
(    ) s
/Courier-Bold 10 10 SUF
29 54 M
(if) s
/F-gs-font 10 10 SF
41 54 M
(\(monthRangeInt == 4\)) s
5 43 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 43 M
("Four") s
/F-gs-font 10 10 SF
167 43 M
(;) s
5 32 M
(    ) s
/Courier-Bold 10 10 SUF
29 32 M
(if) s
/F-gs-font 10 10 SF
41 32 M
(\(monthRangeInt == 5\)) s
5 21 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 21 M
("Five") s
/F-gs-font 10 10 SF
167 21 M
(;) s
5 10 M
(    ) s
/Courier-Bold 10 10 SUF
29 10 M
(if) s
/F-gs-font 10 10 SF
41 10 M
(\(monthRangeInt == 6\)) s
_R
S
%%Page: (38) 38
%%BeginPageSetup
_S
18 36 translate
/pagenum 38 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (38) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 692 M
("Six") s
/F-gs-font 10 10 SF
161 692 M
(;) s
5 681 M
(    ) s
/Courier-Bold 10 10 SUF
29 681 M
(if) s
/F-gs-font 10 10 SF
41 681 M
(\(monthRangeInt == 7\)) s
5 670 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 670 M
("Seven") s
/F-gs-font 10 10 SF
173 670 M
(;) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(if) s
/F-gs-font 10 10 SF
41 659 M
(\(monthRangeInt == 8\)) s
5 648 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 648 M
("Eight") s
/F-gs-font 10 10 SF
173 648 M
(;) s
5 637 M
(    ) s
/Courier-Bold 10 10 SUF
29 637 M
(if) s
/F-gs-font 10 10 SF
41 637 M
(\(monthRangeInt == 9\)) s
5 626 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 626 M
("Nine") s
/F-gs-font 10 10 SF
167 626 M
(;) s
5 615 M
(    ) s
/Courier-Bold 10 10 SUF
29 615 M
(if) s
/F-gs-font 10 10 SF
41 615 M
(\(monthRangeInt == 10\)) s
5 604 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 604 M
("Ten") s
/F-gs-font 10 10 SF
161 604 M
(;) s
5 593 M
(    ) s
/Courier-Bold 10 10 SUF
29 593 M
(if) s
/F-gs-font 10 10 SF
41 593 M
(\(monthRangeInt == 11\)) s
5 582 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 582 M
("Eleven") s
/F-gs-font 10 10 SF
179 582 M
(;) s
5 571 M
(    ) s
/Courier-Bold 10 10 SUF
29 571 M
(if) s
/F-gs-font 10 10 SF
41 571 M
(\(monthRangeInt == 12\)) s
5 560 M
(        monthRange = ) s
/Courier-Bold 10 10 SUF
131 560 M
("Twelve") s
/F-gs-font 10 10 SF
179 560 M
(;) s
5 538 M
(    QString entryYear;) s
5 527 M
(    QString entryMonth;) s
5 516 M
(    QString entryDay;) s
5 505 M
(    QDate entryDate;) s
5 483 M
(    report->csv = ) s
/Courier-Bold 10 10 SUF
113 483 M
("Account Description,One Month Balance,") s
/F-gs-font 10 10 SF
353 483 M
(;) s
5 472 M
(    ) s
/Courier-Bold 10 10 SUF
29 472 M
(if) s
/F-gs-font 10 10 SF
41 472 M
(\(monthRange == ) s
/Courier-Bold 10 10 SUF
131 472 M
("One") s
/F-gs-font 10 10 SF
161 472 M
(\)) s
5 461 M
(        report->csv += ) s
/Courier-Bold 10 10 SUF
143 461 M
("One Month Balance\\n") s
/F-gs-font 10 10 SF
269 461 M
(;) s
5 450 M
(    ) s
/Courier-Bold 10 10 SUF
29 450 M
(else) s
/F-gs-font 10 10 SF
5 439 M
(        report->csv += monthRange + ) s
/Courier-Bold 10 10 SUF
221 439 M
(" Months Balance\\n") s
/F-gs-font 10 10 SF
335 439 M
(;) s
5 417 M
(    report->header = ) s
/Courier-Bold 10 10 SUF
131 417 M
("<center><h1>") s
/F-gs-font 10 10 SF
215 417 M
(;) s
5 406 M
(    report->header += curClient;) s
5 395 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 395 M
("</h1></center>\\n") s
/F-gs-font 10 10 SF
245 395 M
(;) s
5 384 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 384 M
("<center><h2>Income Statement Retail</h2></center>\\n") s
/F-gs-font 10 10 SF
455 384 M
(;) s
5 373 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 373 M
("<center><h3>For One Month and ") s
/F-gs-font 10 10 SF
329 373 M
(;) s
5 362 M
(    ) s
/Courier-Bold 10 10 SUF
29 362 M
(if) s
/F-gs-font 10 10 SF
41 362 M
(\(monthRange == ) s
/Courier-Bold 10 10 SUF
131 362 M
("One") s
/F-gs-font 10 10 SF
161 362 M
(\)) s
5 351 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 351 M
("One Month") s
/F-gs-font 10 10 SF
227 351 M
(;) s
5 340 M
(    ) s
/Courier-Bold 10 10 SUF
29 340 M
(else) s
/F-gs-font 10 10 SF
5 329 M
(        report->header += monthRange + ) s
/Courier-Bold 10 10 SUF
239 329 M
(" Months") s
/F-gs-font 10 10 SF
293 329 M
(;) s
5 318 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 318 M
(" Ended ") s
/F-gs-font 10 10 SF
191 318 M
( + periodEndDate.toString\() s
/Courier-Bold 10 10 SUF
347 318 M
("MMM d, yyyy") s
/F-gs-font 10 10 SF
425 318 M
(\) + ) s
/Courier-Bold 10 10 SUF
449 318 M
("</h3>\\n") s
/F-gs-font 10 10 SF
503 318 M
(;) s
5 296 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 296 M
("<table width=\\"80%\\"><tr>") s
/F-gs-font 10 10 SF
5 285 M
(            ) s
/Courier-Bold 10 10 SUF
77 285 M
("<td width=\\"50%\\"><b>Account Description</b></td>") s
/F-gs-font 10 10 SF
5 274 M
(            ) s
/Courier-Bold 10 10 SUF
77 274 M
("<td align=\\"right\\" width=\\"25%\\"><b>One Month</b></td>") s
/F-gs-font 10 10 SF
5 263 M
(            ) s
/Courier-Bold 10 10 SUF
77 263 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 263 M
(;) s
5 252 M
(    ) s
/Courier-Bold 10 10 SUF
29 252 M
(if) s
/F-gs-font 10 10 SF
41 252 M
(\(monthRange == ) s
/Courier-Bold 10 10 SUF
131 252 M
("One") s
/F-gs-font 10 10 SF
161 252 M
(\)) s
5 241 M
(        report->header += ) s
/Courier-Bold 10 10 SUF
161 241 M
("One Month") s
/F-gs-font 10 10 SF
227 241 M
(;) s
5 230 M
(    ) s
/Courier-Bold 10 10 SUF
29 230 M
(else) s
/F-gs-font 10 10 SF
5 219 M
(        report->header += monthRange + ) s
/Courier-Bold 10 10 SUF
239 219 M
(" Months") s
/F-gs-font 10 10 SF
293 219 M
(;) s
5 208 M
(    report->header += ) s
/Courier-Bold 10 10 SUF
137 208 M
("</b></td></tr></table></center>") s
/F-gs-font 10 10 SF
335 208 M
(;) s
5 186 M
(    report->data = ) s
/Courier-Bold 10 10 SUF
119 186 M
("<center><table width=\\"80%\\">") s
/F-gs-font 10 10 SF
305 186 M
(;) s
5 164 M
(    QStringList incomeList;) s
5 153 M
(    QStringList cosList;) s
5 142 M
(    QStringList expensesList;) s
5 120 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 120 M
("SELECT * FROM incomeRetailIncome") s
/F-gs-font 10 10 SF
329 120 M
(, connection\);) s
5 109 M
(    ) s
/Courier-Bold 10 10 SUF
29 109 M
(while) s
/F-gs-font 10 10 SF
59 109 M
(\(query.next\(\)\)) s
5 98 M
(    {) s
5 87 M
(        incomeList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
311 87 M
("\\n") s
/F-gs-font 10 10 SF
335 87 M
( + query.value\(1\).toString\(\)) s
5 76 M
(        + ) s
/Courier-Bold 10 10 SUF
65 76 M
("\\n") s
/F-gs-font 10 10 SF
89 76 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
275 76 M
("\\n") s
/F-gs-font 10 10 SF
299 76 M
( + query.value\(3\).toString\(\)) s
5 65 M
(        + ) s
/Courier-Bold 10 10 SUF
65 65 M
("\\n") s
/F-gs-font 10 10 SF
89 65 M
( + query.value\(4\).toString\(\)\);) s
5 54 M
(    }) s
5 43 M
(    incomeList.sort\(\);) s
5 21 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 21 M
("SELECT * FROM incomeRetailCOS") s
/F-gs-font 10 10 SF
299 21 M
(\);) s
5 10 M
(    query.exec\(\);) s
_R
S
%%Page: (39) 39
%%BeginPageSetup
_S
18 36 translate
/pagenum 39 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (39) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    ) s
/Courier-Bold 10 10 SUF
29 692 M
(while) s
/F-gs-font 10 10 SF
59 692 M
(\(query.next\(\)\)) s
5 681 M
(    {) s
5 670 M
(        cosList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
293 670 M
("\\n") s
/F-gs-font 10 10 SF
317 670 M
( + query.value\(1\).toString\(\)) s
5 659 M
(        + ) s
/Courier-Bold 10 10 SUF
65 659 M
("\\n") s
/F-gs-font 10 10 SF
89 659 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
275 659 M
("\\n") s
/F-gs-font 10 10 SF
299 659 M
( + query.value\(3\).toString\(\)) s
5 648 M
(        + ) s
/Courier-Bold 10 10 SUF
65 648 M
("\\n") s
/F-gs-font 10 10 SF
89 648 M
( + query.value\(4\).toString\(\)\);) s
5 637 M
(    }) s
5 626 M
(    cosList.sort\(\);) s
5 604 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 604 M
("SELECT * FROM incomeRetailExpenses") s
/F-gs-font 10 10 SF
329 604 M
(\);) s
5 593 M
(    query.exec\(\);) s
5 582 M
(    ) s
/Courier-Bold 10 10 SUF
29 582 M
(while) s
/F-gs-font 10 10 SF
59 582 M
(\(query.next\(\)\)) s
5 571 M
(    {) s
5 560 M
(        expensesList << \(query.value\(0\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
323 560 M
("\\n") s
/F-gs-font 10 10 SF
347 560 M
( + query.value\(1\).toString\(\)) s
5 549 M
(        + ) s
/Courier-Bold 10 10 SUF
65 549 M
("\\n") s
/F-gs-font 10 10 SF
89 549 M
( + query.value\(2\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
275 549 M
("\\n") s
/F-gs-font 10 10 SF
299 549 M
( + query.value\(3\).toString\(\)) s
5 538 M
(        + ) s
/Courier-Bold 10 10 SUF
65 538 M
("\\n") s
/F-gs-font 10 10 SF
89 538 M
( + query.value\(4\).toString\(\)\);) s
5 527 M
(    }) s
5 516 M
(    expensesList.sort\(\);) s
5 494 M
(    QString incomeBalance;) s
5 483 M
(    QString incomeBalanceSingle;) s
5 472 M
(    QString cosBalance;) s
5 461 M
(    QString cosBalanceSingle;) s
5 450 M
(    QString expensesBalance;) s
5 439 M
(    QString expensesBalanceSingle;) s
5 428 M
(    QString accountBalance;) s
5 417 M
(    QString accountBalanceSingle;) s
5 395 M
(    QString type;) s
5 384 M
(    QString desc;) s
5 373 M
(    QString accountBegin;) s
5 362 M
(    QString accountEnd;) s
5 340 M
(    QRegExp regexp\() s
/Courier-Bold 10 10 SUF
119 340 M
(".*\\n\(.*\)\\n\(.*\)\\n\(.*\)\\n\(.*\)") s
/F-gs-font 10 10 SF
287 340 M
(\);) s
5 318 M
(    incomeBalance = ) s
/Courier-Bold 10 10 SUF
125 318 M
("0.00") s
/F-gs-font 10 10 SF
161 318 M
(;) s
5 307 M
(    incomeBalanceSingle = ) s
/Courier-Bold 10 10 SUF
161 307 M
("0.00") s
/F-gs-font 10 10 SF
197 307 M
(;) s
5 296 M
(    ) s
/Courier-Bold 10 10 SUF
29 296 M
(for) s
/F-gs-font 10 10 SF
47 296 M
(\(QStringList::Iterator listIt = incomeList.begin\(\); listIt != incomeList.end\(\); ++listI) s
5 285 M
(t\)) s
5 274 M
(    {) s
5 263 M
(        regexp.search\(*listIt\);) s
5 252 M
(        type = regexp.cap\(1\);) s
5 241 M
(        desc = regexp.cap\(2\);) s
5 230 M
(        accountBegin = regexp.cap\(3\);) s
5 219 M
(        accountEnd = regexp.cap\(4\);) s
5 197 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 197 M
("0.00") s
/F-gs-font 10 10 SF
191 197 M
(;) s
5 186 M
(        accountBalanceSingle = ) s
/Courier-Bold 10 10 SUF
191 186 M
("0.00") s
/F-gs-font 10 10 SF
227 186 M
(;) s
5 175 M
(        ) s
/Courier-Bold 10 10 SUF
53 175 M
(if) s
/F-gs-font 10 10 SF
65 175 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 175 M
("0") s
/F-gs-font 10 10 SF
137 175 M
(\)) s
5 164 M
(        {) s
5 153 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 153 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 153 M
( + account) s
5 142 M
(Begin\);) s
5 131 M
(            query.exec\(\);) s
5 120 M
(            ) s
/Courier-Bold 10 10 SUF
77 120 M
(while) s
/F-gs-font 10 10 SF
107 120 M
(\(query.next\(\)\)) s
5 109 M
(            {) s
5 98 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 76 M
(                ) s
/Courier-Bold 10 10 SUF
101 76 M
(if) s
/F-gs-font 10 10 SF
113 76 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 76 M
("yy") s
/F-gs-font 10 10 SF
371 76 M
(\).toInt\(\) + 2\)\)) s
5 65 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 65 M
("20") s
/F-gs-font 10 10 SF
269 65 M
(\);) s
5 54 M
(                ) s
/Courier-Bold 10 10 SUF
101 54 M
(else) s
/F-gs-font 10 10 SF
5 43 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 43 M
("19") s
/F-gs-font 10 10 SF
269 43 M
(\);) s
5 21 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 10 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
_R
S
%%Page: (40) 40
%%BeginPageSetup
_S
18 36 translate
/pagenum 40 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (40) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 681 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 670 M
(                ) s
/Courier-Bold 10 10 SUF
101 670 M
(if) s
/F-gs-font 10 10 SF
113 670 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 659 M
(                    ) s
/Courier-Bold 10 10 SUF
125 659 M
(continue) s
/F-gs-font 10 10 SF
173 659 M
(;) s
5 637 M
(                ) s
/Courier-Bold 10 10 SUF
101 637 M
(if) s
/F-gs-font 10 10 SF
113 637 M
(\(entryDate >= periodBeginDate\)) s
5 626 M
(                {) s
5 615 M
(                    ) s
/Courier-Bold 10 10 SUF
125 615 M
(if) s
/F-gs-font 10 10 SF
137 615 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 615 M
("") s
/F-gs-font 10 10 SF
329 615 M
(\)) s
5 604 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)) s
5 593 M
(\);) s
5 582 M
(                    ) s
/Courier-Bold 10 10 SUF
125 582 M
(if) s
/F-gs-font 10 10 SF
137 582 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 582 M
("") s
/F-gs-font 10 10 SF
329 582 M
(\)) s
5 571 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2) s
5 560 M
(\).toString\(\)\)\);) s
5 549 M
(                }) s
5 538 M
(                ) s
/Courier-Bold 10 10 SUF
101 538 M
(if) s
/F-gs-font 10 10 SF
113 538 M
(\(entryDate >= periodBeginSingleDate\)) s
5 527 M
(                {) s
5 516 M
(                    ) s
/Courier-Bold 10 10 SUF
125 516 M
(if) s
/F-gs-font 10 10 SF
137 516 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 516 M
("") s
/F-gs-font 10 10 SF
329 516 M
(\)) s
5 505 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, query.value\(1) s
5 494 M
(\).toString\(\)\);) s
5 483 M
(                    ) s
/Courier-Bold 10 10 SUF
125 483 M
(if) s
/F-gs-font 10 10 SF
137 483 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 483 M
("") s
/F-gs-font 10 10 SF
329 483 M
(\)) s
5 472 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurrency\(q) s
5 461 M
(uery.value\(2\).toString\(\)\)\);) s
5 450 M
(                }) s
5 439 M
(            }) s
5 428 M
(        }) s
5 417 M
(        ) s
/Courier-Bold 10 10 SUF
53 417 M
(else) s
/F-gs-font 10 10 SF
5 406 M
(        {) s
5 395 M
(            QStringList accounts;) s
5 373 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 373 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 373 M
(\);) s
5 362 M
(            query.exec\(\);) s
5 351 M
(            ) s
/Courier-Bold 10 10 SUF
77 351 M
(while) s
/F-gs-font 10 10 SF
107 351 M
(\(query.next\(\)\)) s
5 340 M
(            {) s
5 329 M
(                ) s
/Courier-Bold 10 10 SUF
101 329 M
(if) s
/F-gs-font 10 10 SF
113 329 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 318 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
5 307 M
(                    accounts << query.value\(0\).toString\(\);) s
5 296 M
(            }) s
5 274 M
(            ) s
/Courier-Bold 10 10 SUF
77 274 M
(for) s
/F-gs-font 10 10 SF
95 274 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 263 M
(            {) s
5 252 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 252 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 252 M
( + *it) s
5 241 M
(\);) s
5 230 M
(                query.exec\(\);) s
5 219 M
(                ) s
/Courier-Bold 10 10 SUF
101 219 M
(while) s
/F-gs-font 10 10 SF
131 219 M
(\(query.next\(\)\)) s
5 208 M
(                {) s
5 197 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 175 M
(                    ) s
/Courier-Bold 10 10 SUF
125 175 M
(if) s
/F-gs-font 10 10 SF
137 175 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 175 M
("yy") s
/F-gs-font 10 10 SF
395 175 M
(\).toInt\(\) + 2\)\)) s
5 164 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 164 M
("20") s
/F-gs-font 10 10 SF
293 164 M
(\);) s
5 153 M
(                    ) s
/Courier-Bold 10 10 SUF
125 153 M
(else) s
/F-gs-font 10 10 SF
5 142 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 142 M
("19") s
/F-gs-font 10 10 SF
293 142 M
(\);) s
5 120 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 109 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 87 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 76 M
(                    ) s
/Courier-Bold 10 10 SUF
125 76 M
(if) s
/F-gs-font 10 10 SF
137 76 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 65 M
(                        ) s
/Courier-Bold 10 10 SUF
149 65 M
(continue) s
/F-gs-font 10 10 SF
197 65 M
(;) s
5 43 M
(                    ) s
/Courier-Bold 10 10 SUF
125 43 M
(if) s
/F-gs-font 10 10 SF
137 43 M
(\(entryDate >= periodBeginDate\)) s
5 32 M
(                    {) s
5 21 M
(                        ) s
/Courier-Bold 10 10 SUF
149 21 M
(if) s
/F-gs-font 10 10 SF
161 21 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 21 M
("") s
/F-gs-font 10 10 SF
353 21 M
(\)) s
5 10 M
(                            accountBalance = addCurrency\(accountBalance, query.value\(1\).toStri) s
_R
S
%%Page: (41) 41
%%BeginPageSetup
_S
18 36 translate
/pagenum 41 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (41) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(ng\(\)\);) s
5 681 M
(                        ) s
/Courier-Bold 10 10 SUF
149 681 M
(if) s
/F-gs-font 10 10 SF
161 681 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 681 M
("") s
/F-gs-font 10 10 SF
353 681 M
(\)) s
5 670 M
(                            accountBalance = addCurrency\(accountBalance, negCurrency\(query.val) s
5 659 M
(ue\(2\).toString\(\)\)\);) s
5 648 M
(                    }) s
5 637 M
(                    ) s
/Courier-Bold 10 10 SUF
125 637 M
(if) s
/F-gs-font 10 10 SF
137 637 M
(\(entryDate >= periodBeginSingleDate\)) s
5 626 M
(                    {) s
5 615 M
(                        ) s
/Courier-Bold 10 10 SUF
149 615 M
(if) s
/F-gs-font 10 10 SF
161 615 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 615 M
("") s
/F-gs-font 10 10 SF
353 615 M
(\)) s
5 604 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, query.val) s
5 593 M
(ue\(1\).toString\(\)\);) s
5 582 M
(                        ) s
/Courier-Bold 10 10 SUF
149 582 M
(if) s
/F-gs-font 10 10 SF
161 582 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 582 M
("") s
/F-gs-font 10 10 SF
353 582 M
(\)) s
5 571 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurren) s
5 560 M
(cy\(query.value\(2\).toString\(\)\)\);) s
5 549 M
(                    }) s
5 538 M
(                }) s
5 527 M
(            }) s
5 516 M
(        }) s
5 494 M
(        incomeBalance = addCurrency\(incomeBalance, negCurrency\(accountBalance\)\);) s
5 483 M
(        incomeBalanceSingle = addCurrency\(incomeBalanceSingle, negCurrency\(accountBalanceSingl) s
5 472 M
(e\)\);) s
5 450 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 450 M
("<tr><td width=\\"50%\\">") s
/F-gs-font 10 10 SF
293 450 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 450 M
("</td>") s
/F-gs-font 10 10 SF
5 439 M
(                ) s
/Courier-Bold 10 10 SUF
101 439 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 439 M
( + formatCurrency\(accountBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 439 M
() s
5 428 M
("</td>") s
/F-gs-font 10 10 SF
5 417 M
(                ) s
/Courier-Bold 10 10 SUF
101 417 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 417 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 417 M
("</td>) s
5 406 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 406 M
(;) s
5 395 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 395 M
(",") s
/F-gs-font 10 10 SF
203 395 M
( + accountBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 395 M
(",") s
/F-gs-font 10 10 SF
377 395 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
497 395 M
("\\n") s
/F-gs-font 10 10 SF
521 395 M
(;) s
5 384 M
(    }) s
5 362 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 362 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 362 M
(;) s
5 351 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 351 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Total Income</b></td>") s
/F-gs-font 10 10 SF
5 340 M
(            ) s
/Courier-Bold 10 10 SUF
77 340 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 340 M
( + formatCurrency\(incomeBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
557 340 M
("<) s
5 329 M
(/b>") s
/F-gs-font 10 10 SF
5 318 M
(                ) s
/Courier-Bold 10 10 SUF
101 318 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
203 318 M
( + ICON_PATH + ) s
/Courier-Bold 10 10 SUF
293 318 M
("/underline_single.gif\\" width=\\"80\\" height=\\) s
5 307 M
("1\\"></td>") s
/F-gs-font 10 10 SF
5 296 M
(            ) s
/Courier-Bold 10 10 SUF
77 296 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 296 M
( + formatCurrency\(incomeBalance\) + ) s
/Courier-Bold 10 10 SUF
521 296 M
("</b>") s
/F-gs-font 10 10 SF
5 285 M
(                ) s
/Courier-Bold 10 10 SUF
101 285 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
203 285 M
( + ICON_PATH + ) s
/Courier-Bold 10 10 SUF
293 285 M
("/underline_single.gif\\" width=\\"80\\" height=\\) s
5 274 M
("1\\"></td></tr>\\n") s
/F-gs-font 10 10 SF
113 274 M
(;) s
5 263 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 263 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 263 M
(;) s
5 252 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 252 M
("Total Income,") s
/F-gs-font 10 10 SF
209 252 M
( + incomeBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 252 M
(",") s
/F-gs-font 10 10 SF
377 252 M
( + incomeBalance + ) s
/Courier-Bold 10 10 SUF
491 252 M
("\\n\\n") s
/F-gs-font 10 10 SF
527 252 M
(;) s
5 219 M
(    cosBalance = ) s
/Courier-Bold 10 10 SUF
107 219 M
("0.00") s
/F-gs-font 10 10 SF
143 219 M
(;) s
5 208 M
(    cosBalanceSingle = ) s
/Courier-Bold 10 10 SUF
143 208 M
("0.00") s
/F-gs-font 10 10 SF
179 208 M
(;) s
5 197 M
(    ) s
/Courier-Bold 10 10 SUF
29 197 M
(for) s
/F-gs-font 10 10 SF
47 197 M
(\(QStringList::Iterator listIt = cosList.begin\(\); listIt != cosList.end\(\); ++listIt\)) s
5 186 M
(    {) s
5 175 M
(        regexp.search\(*listIt\);) s
5 164 M
(        type = regexp.cap\(1\);) s
5 153 M
(        desc = regexp.cap\(2\);) s
5 142 M
(        accountBegin = regexp.cap\(3\);) s
5 131 M
(        accountEnd = regexp.cap\(4\);) s
5 109 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 109 M
("0.00") s
/F-gs-font 10 10 SF
191 109 M
(;) s
5 98 M
(        accountBalanceSingle = ) s
/Courier-Bold 10 10 SUF
191 98 M
("0.00") s
/F-gs-font 10 10 SF
227 98 M
(;) s
5 87 M
(        ) s
/Courier-Bold 10 10 SUF
53 87 M
(if) s
/F-gs-font 10 10 SF
65 87 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 87 M
("0") s
/F-gs-font 10 10 SF
137 87 M
(\)) s
5 76 M
(        {) s
5 65 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 65 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 65 M
( + account) s
5 54 M
(Begin\);) s
5 43 M
(            query.exec\(\);) s
5 32 M
(            ) s
/Courier-Bold 10 10 SUF
77 32 M
(while) s
/F-gs-font 10 10 SF
107 32 M
(\(query.next\(\)\)) s
5 21 M
(            {) s
5 10 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
_R
S
%%Page: (42) 42
%%BeginPageSetup
_S
18 36 translate
/pagenum 42 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (42) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 681 M
(                ) s
/Courier-Bold 10 10 SUF
101 681 M
(if) s
/F-gs-font 10 10 SF
113 681 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 681 M
("yy") s
/F-gs-font 10 10 SF
371 681 M
(\).toInt\(\) + 2\)\)) s
5 670 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 670 M
("20") s
/F-gs-font 10 10 SF
269 670 M
(\);) s
5 659 M
(                ) s
/Courier-Bold 10 10 SUF
101 659 M
(else) s
/F-gs-font 10 10 SF
5 648 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 648 M
("19") s
/F-gs-font 10 10 SF
269 648 M
(\);) s
5 626 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 615 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 593 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 582 M
(                ) s
/Courier-Bold 10 10 SUF
101 582 M
(if) s
/F-gs-font 10 10 SF
113 582 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 571 M
(                    ) s
/Courier-Bold 10 10 SUF
125 571 M
(continue) s
/F-gs-font 10 10 SF
173 571 M
(;) s
5 549 M
(                ) s
/Courier-Bold 10 10 SUF
101 549 M
(if) s
/F-gs-font 10 10 SF
113 549 M
(\(entryDate >= periodBeginDate\)) s
5 538 M
(                {) s
5 527 M
(                    ) s
/Courier-Bold 10 10 SUF
125 527 M
(if) s
/F-gs-font 10 10 SF
137 527 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 527 M
("") s
/F-gs-font 10 10 SF
329 527 M
(\)) s
5 516 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)) s
5 505 M
(\);) s
5 494 M
(                    ) s
/Courier-Bold 10 10 SUF
125 494 M
(if) s
/F-gs-font 10 10 SF
137 494 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 494 M
("") s
/F-gs-font 10 10 SF
329 494 M
(\)) s
5 483 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2) s
5 472 M
(\).toString\(\)\)\);) s
5 461 M
(                }) s
5 450 M
(                ) s
/Courier-Bold 10 10 SUF
101 450 M
(if) s
/F-gs-font 10 10 SF
113 450 M
(\(entryDate >= periodBeginSingleDate\)) s
5 439 M
(                {) s
5 428 M
(                    ) s
/Courier-Bold 10 10 SUF
125 428 M
(if) s
/F-gs-font 10 10 SF
137 428 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 428 M
("") s
/F-gs-font 10 10 SF
329 428 M
(\)) s
5 417 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, query.value\(1) s
5 406 M
(\).toString\(\)\);) s
5 395 M
(                    ) s
/Courier-Bold 10 10 SUF
125 395 M
(if) s
/F-gs-font 10 10 SF
137 395 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 395 M
("") s
/F-gs-font 10 10 SF
329 395 M
(\)) s
5 384 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurrency\(q) s
5 373 M
(uery.value\(2\).toString\(\)\)\);) s
5 362 M
(                }) s
5 351 M
(            }) s
5 340 M
(        }) s
5 329 M
(        ) s
/Courier-Bold 10 10 SUF
53 329 M
(else) s
/F-gs-font 10 10 SF
5 318 M
(        {) s
5 307 M
(            QStringList accounts;) s
5 285 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 285 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 285 M
(\);) s
5 274 M
(            query.exec\(\);) s
5 263 M
(            ) s
/Courier-Bold 10 10 SUF
77 263 M
(while) s
/F-gs-font 10 10 SF
107 263 M
(\(query.next\(\)\)) s
5 252 M
(            {) s
5 241 M
(                ) s
/Courier-Bold 10 10 SUF
101 241 M
(if) s
/F-gs-font 10 10 SF
113 241 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 230 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
5 219 M
(                    accounts << query.value\(0\).toString\(\);) s
5 208 M
(            }) s
5 186 M
(            ) s
/Courier-Bold 10 10 SUF
77 186 M
(for) s
/F-gs-font 10 10 SF
95 186 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 175 M
(            {) s
5 164 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 164 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 164 M
( + *it) s
5 153 M
(\);) s
5 142 M
(                query.exec\(\);) s
5 131 M
(                ) s
/Courier-Bold 10 10 SUF
101 131 M
(while) s
/F-gs-font 10 10 SF
131 131 M
(\(query.next\(\)\)) s
5 120 M
(                {) s
5 109 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 87 M
(                    ) s
/Courier-Bold 10 10 SUF
125 87 M
(if) s
/F-gs-font 10 10 SF
137 87 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 87 M
("yy") s
/F-gs-font 10 10 SF
395 87 M
(\).toInt\(\) + 2\)\)) s
5 76 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 76 M
("20") s
/F-gs-font 10 10 SF
293 76 M
(\);) s
5 65 M
(                    ) s
/Courier-Bold 10 10 SUF
125 65 M
(else) s
/F-gs-font 10 10 SF
5 54 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 54 M
("19") s
/F-gs-font 10 10 SF
293 54 M
(\);) s
5 32 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 21 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
_R
S
%%Page: (43) 43
%%BeginPageSetup
_S
18 36 translate
/pagenum 43 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (43) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 681 M
(                    ) s
/Courier-Bold 10 10 SUF
125 681 M
(if) s
/F-gs-font 10 10 SF
137 681 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 670 M
(                        ) s
/Courier-Bold 10 10 SUF
149 670 M
(continue) s
/F-gs-font 10 10 SF
197 670 M
(;) s
5 648 M
(                    ) s
/Courier-Bold 10 10 SUF
125 648 M
(if) s
/F-gs-font 10 10 SF
137 648 M
(\(entryDate >= periodBeginDate\)) s
5 637 M
(                    {) s
5 626 M
(                        ) s
/Courier-Bold 10 10 SUF
149 626 M
(if) s
/F-gs-font 10 10 SF
161 626 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 626 M
("") s
/F-gs-font 10 10 SF
353 626 M
(\)) s
5 615 M
(                            accountBalance = addCurrency\(accountBalance, query.value\(1\).toStri) s
5 604 M
(ng\(\)\);) s
5 593 M
(                        ) s
/Courier-Bold 10 10 SUF
149 593 M
(if) s
/F-gs-font 10 10 SF
161 593 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 593 M
("") s
/F-gs-font 10 10 SF
353 593 M
(\)) s
5 582 M
(                            accountBalance = addCurrency\(accountBalance, negCurrency\(query.val) s
5 571 M
(ue\(2\).toString\(\)\)\);) s
5 560 M
(                    }) s
5 549 M
(                    ) s
/Courier-Bold 10 10 SUF
125 549 M
(if) s
/F-gs-font 10 10 SF
137 549 M
(\(entryDate >= periodBeginSingleDate\)) s
5 538 M
(                    {) s
5 527 M
(                        ) s
/Courier-Bold 10 10 SUF
149 527 M
(if) s
/F-gs-font 10 10 SF
161 527 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 527 M
("") s
/F-gs-font 10 10 SF
353 527 M
(\)) s
5 516 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, query.val) s
5 505 M
(ue\(1\).toString\(\)\);) s
5 494 M
(                        ) s
/Courier-Bold 10 10 SUF
149 494 M
(if) s
/F-gs-font 10 10 SF
161 494 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 494 M
("") s
/F-gs-font 10 10 SF
353 494 M
(\)) s
5 483 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurren) s
5 472 M
(cy\(query.value\(2\).toString\(\)\)\);) s
5 461 M
(                    }) s
5 450 M
(                }) s
5 439 M
(            }) s
5 428 M
(        }) s
5 406 M
(        cosBalance = addCurrency\(cosBalance, accountBalance\);) s
5 395 M
(        cosBalanceSingle = addCurrency\(cosBalanceSingle, accountBalanceSingle\);) s
5 373 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 373 M
("<tr><td width=\\"50%\\">") s
/F-gs-font 10 10 SF
293 373 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 373 M
("</td>") s
/F-gs-font 10 10 SF
5 362 M
(                ) s
/Courier-Bold 10 10 SUF
101 362 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 362 M
( + formatCurrency\(accountBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 362 M
() s
5 351 M
("</td>") s
/F-gs-font 10 10 SF
5 340 M
(                ) s
/Courier-Bold 10 10 SUF
101 340 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 340 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 340 M
("</td>) s
5 329 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 329 M
(;) s
5 318 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 318 M
(",") s
/F-gs-font 10 10 SF
203 318 M
( + accountBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 318 M
(",") s
/F-gs-font 10 10 SF
377 318 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
497 318 M
("\\n") s
/F-gs-font 10 10 SF
521 318 M
(;) s
5 307 M
(    }) s
5 285 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 285 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 285 M
(;) s
5 274 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 274 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Total Cost of Sales</b></td>") s
/F-gs-font 10 10 SF
5 263 M
(            ) s
/Courier-Bold 10 10 SUF
77 263 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 263 M
( + formatCurrency\(cosBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
539 263 M
("</b>) s
5 252 M
(") s
/F-gs-font 10 10 SF
5 241 M
(                ) s
/Courier-Bold 10 10 SUF
101 241 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
203 241 M
( + ICON_PATH + ) s
/Courier-Bold 10 10 SUF
293 241 M
("/underline_single.gif\\" width=\\"80\\" height=\\) s
5 230 M
("1\\"></td>") s
/F-gs-font 10 10 SF
5 219 M
(            ) s
/Courier-Bold 10 10 SUF
77 219 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 219 M
( + formatCurrency\(cosBalance\) + ) s
/Courier-Bold 10 10 SUF
503 219 M
("</b>") s
/F-gs-font 10 10 SF
5 208 M
(                ) s
/Courier-Bold 10 10 SUF
101 208 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
203 208 M
( + ICON_PATH + ) s
/Courier-Bold 10 10 SUF
293 208 M
("/underline_single.gif\\" width=\\"80\\" height=\\) s
5 197 M
("1\\"></td></tr>\\n") s
/F-gs-font 10 10 SF
113 197 M
(;) s
5 186 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 186 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Gross Profit</b></td>") s
/F-gs-font 10 10 SF
5 175 M
(            ) s
/Courier-Bold 10 10 SUF
77 175 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 175 M
( + formatCurrency\() s
5 164 M
(                                                      addCurrency\(incomeBalanceSingle, negCurr) s
5 153 M
(ency\(cosBalanceSingle\)\)\)) s
5 142 M
(                                                    + ) s
/Courier-Bold 10 10 SUF
329 142 M
("</b>") s
/F-gs-font 10 10 SF
5 131 M
(                                                        ) s
/Courier-Bold 10 10 SUF
341 131 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
443 131 M
( + ICON_PATH + ) s
5 120 M
(                                                        ) s
/Courier-Bold 10 10 SUF
341 120 M
("/underline_single.gif\\" width=\\"80\\" ) s
5 109 M
(height=\\"1\\"></td>") s
/F-gs-font 10 10 SF
5 98 M
(            ) s
/Courier-Bold 10 10 SUF
77 98 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 98 M
( + formatCurrency\() s
5 87 M
(                                                      addCurrency\(incomeBalance, negCurrency\(c) s
5 76 M
(osBalance\)\)\)) s
5 65 M
(                                                    + ) s
/Courier-Bold 10 10 SUF
329 65 M
("</b>") s
/F-gs-font 10 10 SF
5 54 M
(                                                        ) s
/Courier-Bold 10 10 SUF
341 54 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
443 54 M
( + ICON_PATH +) s
5 43 M
(                                                        ) s
/Courier-Bold 10 10 SUF
341 43 M
("/underline_single.gif\\" width=\\"80\\" ) s
5 32 M
(height=\\"1\\"></td></tr>\\n") s
/F-gs-font 10 10 SF
161 32 M
(;) s
5 21 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 21 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 21 M
(;) s
5 10 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 10 M
("Total Cost of Sales,") s
/F-gs-font 10 10 SF
251 10 M
( + cosBalanceSingle + ) s
/Courier-Bold 10 10 SUF
383 10 M
(",") s
/F-gs-font 10 10 SF
401 10 M
( + cosBalance + ) s
/Courier-Bold 10 10 SUF
497 10 M
("\\n") s
/F-gs-font 10 10 SF
521 10 M
(;) s
_R
S
%%Page: (44) 44
%%BeginPageSetup
_S
18 36 translate
/pagenum 44 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (44) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 692 M
("Gross Profit,") s
/F-gs-font 10 10 SF
209 692 M
( + addCurrency\(incomeBalanceSingle, negCurrency\(cosBalanceSi) s
5 681 M
(ngle\)\)) s
5 670 M
(                + ) s
/Courier-Bold 10 10 SUF
113 670 M
(",") s
/F-gs-font 10 10 SF
131 670 M
( + addCurrency\(incomeBalance, negCurrency\(cosBalance\)\) + ) s
/Courier-Bold 10 10 SUF
473 670 M
("\\n\\n") s
/F-gs-font 10 10 SF
509 670 M
(;) s
5 637 M
(    expensesBalance = ) s
/Courier-Bold 10 10 SUF
137 637 M
("0.00") s
/F-gs-font 10 10 SF
173 637 M
(;) s
5 626 M
(    expensesBalanceSingle = ) s
/Courier-Bold 10 10 SUF
173 626 M
("0.00") s
/F-gs-font 10 10 SF
209 626 M
(;) s
5 615 M
(    ) s
/Courier-Bold 10 10 SUF
29 615 M
(for) s
/F-gs-font 10 10 SF
47 615 M
(\(QStringList::Iterator listIt = expensesList.begin\(\); listIt != expensesList.end\(\); ++l) s
5 604 M
(istIt\)) s
5 593 M
(    {) s
5 582 M
(        regexp.search\(*listIt\);) s
5 571 M
(        type = regexp.cap\(1\);) s
5 560 M
(        desc = regexp.cap\(2\);) s
5 549 M
(        accountBegin = regexp.cap\(3\);) s
5 538 M
(        accountEnd = regexp.cap\(4\);) s
5 516 M
(        accountBalance = ) s
/Courier-Bold 10 10 SUF
155 516 M
("0.00") s
/F-gs-font 10 10 SF
191 516 M
(;) s
5 505 M
(        accountBalanceSingle = ) s
/Courier-Bold 10 10 SUF
191 505 M
("0.00") s
/F-gs-font 10 10 SF
227 505 M
(;) s
5 494 M
(        ) s
/Courier-Bold 10 10 SUF
53 494 M
(if) s
/F-gs-font 10 10 SF
65 494 M
(\(type == ) s
/Courier-Bold 10 10 SUF
119 494 M
("0") s
/F-gs-font 10 10 SF
137 494 M
(\)) s
5 483 M
(        {) s
5 472 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 472 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
509 472 M
( + account) s
5 461 M
(Begin\);) s
5 450 M
(            query.exec\(\);) s
5 439 M
(            ) s
/Courier-Bold 10 10 SUF
77 439 M
(while) s
/F-gs-font 10 10 SF
107 439 M
(\(query.next\(\)\)) s
5 428 M
(            {) s
5 417 M
(                entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 395 M
(                ) s
/Courier-Bold 10 10 SUF
101 395 M
(if) s
/F-gs-font 10 10 SF
113 395 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
347 395 M
("yy") s
/F-gs-font 10 10 SF
371 395 M
(\).toInt\(\) + 2\)\)) s
5 384 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 384 M
("20") s
/F-gs-font 10 10 SF
269 384 M
(\);) s
5 373 M
(                ) s
/Courier-Bold 10 10 SUF
101 373 M
(else) s
/F-gs-font 10 10 SF
5 362 M
(                    entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
245 362 M
("19") s
/F-gs-font 10 10 SF
269 362 M
(\);) s
5 340 M
(                entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 329 M
(                entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 307 M
(                entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 296 M
(                ) s
/Courier-Bold 10 10 SUF
101 296 M
(if) s
/F-gs-font 10 10 SF
113 296 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 285 M
(                    ) s
/Courier-Bold 10 10 SUF
125 285 M
(continue) s
/F-gs-font 10 10 SF
173 285 M
(;) s
5 263 M
(                ) s
/Courier-Bold 10 10 SUF
101 263 M
(if) s
/F-gs-font 10 10 SF
113 263 M
(\(entryDate >= periodBeginDate\)) s
5 252 M
(                {) s
5 241 M
(                    ) s
/Courier-Bold 10 10 SUF
125 241 M
(if) s
/F-gs-font 10 10 SF
137 241 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 241 M
("") s
/F-gs-font 10 10 SF
329 241 M
(\)) s
5 230 M
(                        accountBalance = addCurrency\(accountBalance, query.value\(1\).toString\(\)) s
5 219 M
(\);) s
5 208 M
(                    ) s
/Courier-Bold 10 10 SUF
125 208 M
(if) s
/F-gs-font 10 10 SF
137 208 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 208 M
("") s
/F-gs-font 10 10 SF
329 208 M
(\)) s
5 197 M
(                        accountBalance = addCurrency\(accountBalance, negCurrency\(query.value\(2) s
5 186 M
(\).toString\(\)\)\);) s
5 175 M
(                }) s
5 164 M
(                ) s
/Courier-Bold 10 10 SUF
101 164 M
(if) s
/F-gs-font 10 10 SF
113 164 M
(\(entryDate >= periodBeginSingleDate\)) s
5 153 M
(                {) s
5 142 M
(                    ) s
/Courier-Bold 10 10 SUF
125 142 M
(if) s
/F-gs-font 10 10 SF
137 142 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 142 M
("") s
/F-gs-font 10 10 SF
329 142 M
(\)) s
5 131 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, query.value\(1) s
5 120 M
(\).toString\(\)\);) s
5 109 M
(                    ) s
/Courier-Bold 10 10 SUF
125 109 M
(if) s
/F-gs-font 10 10 SF
137 109 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
317 109 M
("") s
/F-gs-font 10 10 SF
329 109 M
(\)) s
5 98 M
(                        accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurrency\(q) s
5 87 M
(uery.value\(2\).toString\(\)\)\);) s
5 76 M
(                }) s
5 65 M
(            }) s
5 54 M
(        }) s
5 43 M
(        ) s
/Courier-Bold 10 10 SUF
53 43 M
(else) s
/F-gs-font 10 10 SF
5 32 M
(        {) s
5 21 M
(            QStringList accounts;) s
_R
S
%%Page: (45) 45
%%BeginPageSetup
_S
18 36 translate
/pagenum 45 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (45) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(            query.prepare\() s
/Courier-Bold 10 10 SUF
161 692 M
("SELECT id FROM accounts") s
/F-gs-font 10 10 SF
311 692 M
(\);) s
5 681 M
(            query.exec\(\);) s
5 670 M
(            ) s
/Courier-Bold 10 10 SUF
77 670 M
(while) s
/F-gs-font 10 10 SF
107 670 M
(\(query.next\(\)\)) s
5 659 M
(            {) s
5 648 M
(                ) s
/Courier-Bold 10 10 SUF
101 648 M
(if) s
/F-gs-font 10 10 SF
113 648 M
(\(query.value\(0\).toInt\(\) >= accountBegin.toInt\(\)) s
5 637 M
(                   && query.value\(0\).toInt\(\) <= accountEnd.toInt\(\)\)) s
5 626 M
(                    accounts << query.value\(0\).toString\(\);) s
5 615 M
(            }) s
5 593 M
(            ) s
/Courier-Bold 10 10 SUF
77 593 M
(for) s
/F-gs-font 10 10 SF
95 593 M
(\(QStringList::Iterator it = accounts.begin\(\); it != accounts.end\(\); ++it\)) s
5 582 M
(            {) s
5 571 M
(                query.prepare\() s
/Courier-Bold 10 10 SUF
185 571 M
("SELECT date, debit, credit FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
533 571 M
( + *it) s
5 560 M
(\);) s
5 549 M
(                query.exec\(\);) s
5 538 M
(                ) s
/Courier-Bold 10 10 SUF
101 538 M
(while) s
/F-gs-font 10 10 SF
131 538 M
(\(query.next\(\)\)) s
5 527 M
(                {) s
5 516 M
(                    entryYear = query.value\(0\).toString\(\).right\(2\);) s
5 494 M
(                    ) s
/Courier-Bold 10 10 SUF
125 494 M
(if) s
/F-gs-font 10 10 SF
137 494 M
(\(entryYear.toInt\(\) < \(curDate.toString\() s
/Courier-Bold 10 10 SUF
371 494 M
("yy") s
/F-gs-font 10 10 SF
395 494 M
(\).toInt\(\) + 2\)\)) s
5 483 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 483 M
("20") s
/F-gs-font 10 10 SF
293 483 M
(\);) s
5 472 M
(                    ) s
/Courier-Bold 10 10 SUF
125 472 M
(else) s
/F-gs-font 10 10 SF
5 461 M
(                        entryYear.insert\(0, ) s
/Courier-Bold 10 10 SUF
269 461 M
("19") s
/F-gs-font 10 10 SF
293 461 M
(\);) s
5 439 M
(                    entryMonth = query.value\(0\).toString\(\).left\(2\);) s
5 428 M
(                    entryDay = query.value\(0\).toString\(\).mid\(3,2\);) s
5 406 M
(                    entryDate.setYMD\(entryYear.toInt\(\), entryMonth.toInt\(\), entryDay.toInt\(\)\);) s
5 395 M
(                    ) s
/Courier-Bold 10 10 SUF
125 395 M
(if) s
/F-gs-font 10 10 SF
137 395 M
(\(entryDate > periodEndDate || entryDate < periodBeginDate\)) s
5 384 M
(                        ) s
/Courier-Bold 10 10 SUF
149 384 M
(continue) s
/F-gs-font 10 10 SF
197 384 M
(;) s
5 362 M
(                    ) s
/Courier-Bold 10 10 SUF
125 362 M
(if) s
/F-gs-font 10 10 SF
137 362 M
(\(entryDate >= periodBeginDate\)) s
5 351 M
(                    {) s
5 340 M
(                        ) s
/Courier-Bold 10 10 SUF
149 340 M
(if) s
/F-gs-font 10 10 SF
161 340 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 340 M
("") s
/F-gs-font 10 10 SF
353 340 M
(\)) s
5 329 M
(                            accountBalance = addCurrency\(accountBalance, query.value\(1\).toStri) s
5 318 M
(ng\(\)\);) s
5 307 M
(                        ) s
/Courier-Bold 10 10 SUF
149 307 M
(if) s
/F-gs-font 10 10 SF
161 307 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 307 M
("") s
/F-gs-font 10 10 SF
353 307 M
(\)) s
5 296 M
(                            accountBalance = addCurrency\(accountBalance, negCurrency\(query.val) s
5 285 M
(ue\(2\).toString\(\)\)\);) s
5 274 M
(                    }) s
5 263 M
(                    ) s
/Courier-Bold 10 10 SUF
125 263 M
(if) s
/F-gs-font 10 10 SF
137 263 M
(\(entryDate >= periodBeginSingleDate\)) s
5 252 M
(                    {) s
5 241 M
(                        ) s
/Courier-Bold 10 10 SUF
149 241 M
(if) s
/F-gs-font 10 10 SF
161 241 M
(\(query.value\(1\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 241 M
("") s
/F-gs-font 10 10 SF
353 241 M
(\)) s
5 230 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, query.val) s
5 219 M
(ue\(1\).toString\(\)\);) s
5 208 M
(                        ) s
/Courier-Bold 10 10 SUF
149 208 M
(if) s
/F-gs-font 10 10 SF
161 208 M
(\(query.value\(2\).toString\(\) != ) s
/Courier-Bold 10 10 SUF
341 208 M
("") s
/F-gs-font 10 10 SF
353 208 M
(\)) s
5 197 M
(                            accountBalanceSingle = addCurrency\(accountBalanceSingle, negCurren) s
5 186 M
(cy\(query.value\(2\).toString\(\)\)\);) s
5 175 M
(                    }) s
5 164 M
(                }) s
5 153 M
(            }) s
5 142 M
(        }) s
5 120 M
(        expensesBalance = addCurrency\(expensesBalance, accountBalance\);) s
5 109 M
(        expensesBalanceSingle = addCurrency\(expensesBalanceSingle, accountBalanceSingle\);) s
5 87 M
(        report->data += ) s
/Courier-Bold 10 10 SUF
149 87 M
("<tr><td width=\\"50%\\">") s
/F-gs-font 10 10 SF
293 87 M
( + desc + ) s
/Courier-Bold 10 10 SUF
353 87 M
("</td>") s
/F-gs-font 10 10 SF
5 76 M
(                ) s
/Courier-Bold 10 10 SUF
101 76 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 76 M
( + formatCurrency\(accountBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 76 M
() s
5 65 M
("</td>") s
/F-gs-font 10 10 SF
5 54 M
(                ) s
/Courier-Bold 10 10 SUF
101 54 M
("<td align=\\"right\\" width=\\"25%\\">") s
/F-gs-font 10 10 SF
317 54 M
( + formatCurrency\(accountBalance\) + ) s
/Courier-Bold 10 10 SUF
533 54 M
("</td>) s
5 43 M
(</tr>\\n") s
/F-gs-font 10 10 SF
53 43 M
(;) s
5 32 M
(        report->csv += desc + ) s
/Courier-Bold 10 10 SUF
185 32 M
(",") s
/F-gs-font 10 10 SF
203 32 M
( + accountBalanceSingle + ) s
/Courier-Bold 10 10 SUF
359 32 M
(",") s
/F-gs-font 10 10 SF
377 32 M
( + accountBalance + ) s
/Courier-Bold 10 10 SUF
497 32 M
("\\n") s
/F-gs-font 10 10 SF
521 32 M
(;) s
5 21 M
(    }) s
_R
S
%%Page: (46) 46
%%BeginPageSetup
_S
18 36 translate
/pagenum 46 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (46) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 692 M
("<tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
263 692 M
(;) s
5 681 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 681 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Total Expenses</b></td>") s
/F-gs-font 10 10 SF
5 670 M
(            ) s
/Courier-Bold 10 10 SUF
77 670 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 670 M
( + formatCurrency\(expensesBalanceSingle\) + ) s
/Courier-Bold 10 10 SUF
569 670 M
() s
5 659 M
("</b>") s
/F-gs-font 10 10 SF
5 648 M
(                ) s
/Courier-Bold 10 10 SUF
101 648 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
203 648 M
( + ICON_PATH + ) s
/Courier-Bold 10 10 SUF
293 648 M
("/underline_single.gif\\" width=\\"80\\" height=\\) s
5 637 M
("1\\"></td>") s
/F-gs-font 10 10 SF
5 626 M
(            ) s
/Courier-Bold 10 10 SUF
77 626 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 626 M
( + formatCurrency\(expensesBalance\) + ) s
/Courier-Bold 10 10 SUF
533 626 M
("</b>") s
/F-gs-font 10 10 SF
5 615 M
(                ) s
/Courier-Bold 10 10 SUF
101 615 M
("<br><img src=\\"") s
/F-gs-font 10 10 SF
203 615 M
( + ICON_PATH + ) s
/Courier-Bold 10 10 SUF
293 615 M
("/underline_single.gif\\" width=\\"80\\" height=\\) s
5 604 M
("1\\"></td></tr>\\n") s
/F-gs-font 10 10 SF
113 604 M
(;) s
5 593 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 593 M
("<tr><td align=\\"right\\" width=\\"50%\\"><b>Net Income \(Loss\)</b></td>") s
/F-gs-font 10 10 SF
5 582 M
(            ) s
/Courier-Bold 10 10 SUF
77 582 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 582 M
( + formatCurrency\() s
5 571 M
(                                                      addCurrency\() s
5 560 M
(                                                          addCurrency\(incomeBalanceSingle, neg) s
5 549 M
(Currency\(cosBalanceSingle\)\),) s
5 538 M
(                                                          negCurrency\(expensesBalanceSingle\)\)\)) s
5 527 M
(                                                    + ) s
/Courier-Bold 10 10 SUF
329 527 M
("</b><br><img src=\\"") s
/F-gs-font 10 10 SF
5 516 M
(                                                        + ICON_PATH +) s
5 505 M
(                                                        ) s
/Courier-Bold 10 10 SUF
341 505 M
("/underline_double.gif\\" width=\\"80\\" ) s
5 494 M
(height=\\"3\\">") s
/F-gs-font 10 10 SF
5 483 M
(                                                    ) s
/Courier-Bold 10 10 SUF
317 483 M
("</td>") s
/F-gs-font 10 10 SF
5 472 M
(            ) s
/Courier-Bold 10 10 SUF
77 472 M
("<td align=\\"right\\" width=\\"25%\\"><b>") s
/F-gs-font 10 10 SF
311 472 M
( + formatCurrency\() s
5 461 M
(                                                      addCurrency\() s
5 450 M
(                                                          addCurrency\(incomeBalance, negCurren) s
5 439 M
(cy\(cosBalance\)\),) s
5 428 M
(                                                          negCurrency\(expensesBalance\)\)\)) s
5 417 M
(                                                    + ) s
/Courier-Bold 10 10 SUF
329 417 M
("</b><br><img src=\\"") s
/F-gs-font 10 10 SF
5 406 M
(                                                        + ICON_PATH +) s
5 395 M
(                                                        ) s
/Courier-Bold 10 10 SUF
341 395 M
("/underline_double.gif\\" width=\\"80\\" ) s
5 384 M
(height=\\"3\\">") s
/F-gs-font 10 10 SF
5 373 M
(                                                    ) s
/Courier-Bold 10 10 SUF
317 373 M
("</td></tr>\\n") s
/F-gs-font 10 10 SF
401 373 M
(;) s
5 362 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 362 M
("<tr><td> </td></tr><tr><td> </td></tr>\\n") s
/F-gs-font 10 10 SF
377 362 M
(;) s
5 351 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 351 M
("Total Expenses,") s
/F-gs-font 10 10 SF
221 351 M
( + expensesBalanceSingle + ) s
/Courier-Bold 10 10 SUF
383 351 M
(",") s
/F-gs-font 10 10 SF
401 351 M
( + expensesBalance + ) s
/Courier-Bold 10 10 SUF
527 351 M
("\\n") s
/F-gs-font 10 10 SF
551 351 M
(;) s
5 340 M
(    report->csv += ) s
/Courier-Bold 10 10 SUF
119 340 M
("Net Income \(Loss\),") s
/F-gs-font 10 10 SF
239 340 M
( + addCurrency\() s
5 329 M
(                                              addCurrency\(incomeBalanceSingle, negCurrency\(cos) s
5 318 M
(BalanceSingle\)\),) s
5 307 M
(                                              negCurrency\(expensesBalanceSingle\)\)) s
5 296 M
(                + ) s
/Courier-Bold 10 10 SUF
113 296 M
(",") s
/F-gs-font 10 10 SF
131 296 M
( + addCurrency\() s
5 285 M
(                            addCurrency\(incomeBalance, negCurrency\(cosBalance\)\),) s
5 274 M
(                            negCurrency\(expensesBalanceSingle\)\)) s
5 263 M
(                + ) s
/Courier-Bold 10 10 SUF
113 263 M
("\\n\\n") s
/F-gs-font 10 10 SF
149 263 M
(;) s
5 230 M
(    report->data += ) s
/Courier-Bold 10 10 SUF
125 230 M
("</table></center>") s
/F-gs-font 10 10 SF
239 230 M
(;) s
5 208 M
(    report->string = ) s
/Courier-Bold 10 10 SUF
131 208 M
("<qt>") s
/F-gs-font 10 10 SF
167 208 M
( + report->header + report->data + ) s
/Courier-Bold 10 10 SUF
377 208 M
("</qt>") s
/F-gs-font 10 10 SF
419 208 M
(;) s
5 186 M
(    report->html = report->string.replace\() s
5 175 M
(            ) s
/Courier-Bold 10 10 SUF
77 175 M
("<qt>") s
/F-gs-font 10 10 SF
113 175 M
(, ) s
/Courier-Bold 10 10 SUF
125 175 M
("<html><head><title>") s
/F-gs-font 10 10 SF
251 175 M
( + curClient +) s
5 164 M
(            ) s
/Courier-Bold 10 10 SUF
77 164 M
(" - Income Statement Retail</title></head></body>\\n") s
/F-gs-font 10 10 SF
389 164 M
(\).replace\() s
5 153 M
(                    ) s
/Courier-Bold 10 10 SUF
125 153 M
("</qt>") s
/F-gs-font 10 10 SF
167 153 M
(, ) s
/Courier-Bold 10 10 SUF
179 153 M
("</body></html>") s
/F-gs-font 10 10 SF
275 153 M
(\);) s
5 131 M
(    ) s
/Courier-Bold 10 10 SUF
29 131 M
(return) s
/F-gs-font 10 10 SF
65 131 M
( ) s
/Courier-Bold 10 10 SUF
71 131 M
(this) s
/F-gs-font 10 10 SF
95 131 M
(;) s
5 120 M
(}) s
5 98 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 98 M
(Database::reportHeader) s
/F-gs-font 10 10 SF
191 98 M
(\(\)) s
5 87 M
({) s
5 76 M
(    ) s
/Courier-Bold 10 10 SUF
29 76 M
(return) s
/F-gs-font 10 10 SF
65 76 M
( report->header;) s
5 65 M
(}) s
5 43 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 43 M
(Database::reportData) s
/F-gs-font 10 10 SF
179 43 M
(\(\)) s
5 32 M
({) s
5 21 M
(    ) s
/Courier-Bold 10 10 SUF
29 21 M
(return) s
/F-gs-font 10 10 SF
65 21 M
( report->data;) s
5 10 M
(}) s
_R
S
%%Page: (47) 47
%%BeginPageSetup
_S
18 36 translate
/pagenum 47 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (47) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 681 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 681 M
(Database::reportString) s
/F-gs-font 10 10 SF
191 681 M
(\(\)) s
5 670 M
({) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(return) s
/F-gs-font 10 10 SF
65 659 M
( report->string;) s
5 648 M
(}) s
5 626 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 626 M
(Database::reportCSV) s
/F-gs-font 10 10 SF
173 626 M
(\(\)) s
5 615 M
({) s
5 604 M
(    ) s
/Courier-Bold 10 10 SUF
29 604 M
(return) s
/F-gs-font 10 10 SF
65 604 M
( report->csv;) s
5 593 M
(}) s
5 571 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 571 M
(Database::reportHTML) s
/F-gs-font 10 10 SF
179 571 M
(\(\)) s
5 560 M
({) s
5 549 M
(    ) s
/Courier-Bold 10 10 SUF
29 549 M
(return) s
/F-gs-font 10 10 SF
65 549 M
( report->html;) s
5 538 M
(}) s
5 516 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 516 M
(Database::journalTmpReportHeader) s
/F-gs-font 10 10 SF
251 516 M
(\(\)) s
5 505 M
({) s
5 494 M
(    ) s
/Courier-Bold 10 10 SUF
29 494 M
(return) s
/F-gs-font 10 10 SF
65 494 M
( journalTmpReport->header;) s
5 483 M
(}) s
5 461 M
(QString& ) s
/Courier-Bold 10 10 SUF
59 461 M
(Database::journalTmpReportData) s
/F-gs-font 10 10 SF
239 461 M
(\(\)) s
5 450 M
({) s
5 439 M
(    ) s
/Courier-Bold 10 10 SUF
29 439 M
(return) s
/F-gs-font 10 10 SF
65 439 M
( journalTmpReport->data;) s
5 428 M
(}) s
5 406 M
(QStringList& ) s
/Courier-Bold 10 10 SUF
83 406 M
(Database::getAccountsList) s
/F-gs-font 10 10 SF
233 406 M
(\(\)) s
5 395 M
({) s
5 384 M
(    accountsList->clear\(\);) s
5 373 M
(    ) s
5 362 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 362 M
("SELECT * FROM accounts ORDER BY id") s
/F-gs-font 10 10 SF
341 362 M
(, connection\);) s
5 351 M
(    ) s
/Courier-Bold 10 10 SUF
29 351 M
(while) s
/F-gs-font 10 10 SF
59 351 M
(\(query.next\(\)\)) s
5 340 M
(        accountsList->append\(query.value\(1\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
347 340 M
(" - ") s
/F-gs-font 10 10 SF
377 340 M
( + query.value\(2\).toString\(\)\);) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(return) s
/F-gs-font 10 10 SF
65 318 M
( *accountsList;) s
5 307 M
(    ) s
5 296 M
(}) s
5 274 M
(QPtrList<QStringList>* Database::getAccountsData\(\)) s
5 263 M
({) s
5 252 M
(    QPtrList<QStringList>* data = ) s
/Courier-Bold 10 10 SUF
209 252 M
(new) s
/F-gs-font 10 10 SF
227 252 M
( QPtrList<QStringList>;) s
5 241 M
(    ) s
5 230 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 230 M
("SELECT * FROM accounts ORDER BY id") s
/F-gs-font 10 10 SF
341 230 M
(, connection\);) s
5 219 M
(    ) s
/Courier-Bold 10 10 SUF
29 219 M
(while) s
/F-gs-font 10 10 SF
59 219 M
(\(query.next\(\)\)) s
5 208 M
(    {) s
5 197 M
(        QStringList *list = ) s
/Courier-Bold 10 10 SUF
173 197 M
(new) s
/F-gs-font 10 10 SF
191 197 M
( QStringList;) s
5 186 M
(        *list << query.value\(0\).toString\(\) << query.value\(1\).toString\(\)) s
5 175 M
(                << query.value\(2\).toString\(\) << query.value\(3\).toString\(\);) s
5 164 M
(        data->append\(list\);) s
5 153 M
(    }) s
5 142 M
(    ) s
/Courier-Bold 10 10 SUF
29 142 M
(return) s
/F-gs-font 10 10 SF
65 142 M
( data;) s
5 131 M
(}) s
5 109 M
(QPtrList<QStringList>* Database::getJournalTmpData\(\)) s
5 98 M
({) s
5 87 M
(    QPtrList<QStringList>* data = ) s
/Courier-Bold 10 10 SUF
209 87 M
(new) s
/F-gs-font 10 10 SF
227 87 M
( QPtrList<QStringList>;) s
5 76 M
(    ) s
5 65 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 65 M
("SELECT * FROM journalTmp ORDER BY key") s
/F-gs-font 10 10 SF
359 65 M
(, connection\);) s
5 54 M
(    ) s
/Courier-Bold 10 10 SUF
29 54 M
(while) s
/F-gs-font 10 10 SF
59 54 M
(\(query.next\(\)\)) s
5 43 M
(    {) s
5 32 M
(        QStringList *list = ) s
/Courier-Bold 10 10 SUF
173 32 M
(new) s
/F-gs-font 10 10 SF
191 32 M
( QStringList;) s
5 21 M
(        *list << query.value\(0\).toString\(\) << query.value\(1\).toString\(\) << query.value\(2\).toSt) s
5 10 M
(ring\(\)) s
_R
S
%%Page: (48) 48
%%BeginPageSetup
_S
18 36 translate
/pagenum 48 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (48) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(                << query.value\(3\).toString\(\) << query.value\(4\).toString\(\) << query.value\(5\).to) s
5 681 M
(String\(\)) s
5 670 M
(                << query.value\(6\).toString\(\);) s
5 659 M
(        data->append\(list\);) s
5 648 M
(    }) s
5 637 M
(    ) s
/Courier-Bold 10 10 SUF
29 637 M
(return) s
/F-gs-font 10 10 SF
65 637 M
( data;) s
5 626 M
(}) s
/Courier-Bold 10 10 SUF
5 604 M
(void) s
/F-gs-font 10 10 SF
29 604 M
( ) s
/Courier-Bold 10 10 SUF
35 604 M
(Database::updateAccount) s
/F-gs-font 10 10 SF
173 604 M
(\(QString key, QString id, QString desc\)) s
5 593 M
({) s
5 582 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 582 M
("SELECT key FROM accounts WHERE key = ") s
/F-gs-font 10 10 SF
359 582 M
( + key, connection\);) s
5 571 M
(    ) s
5 560 M
(    QString queryString;) s
5 549 M
(    ) s
5 538 M
(    ) s
/Courier-Bold 10 10 SUF
29 538 M
(if) s
/F-gs-font 10 10 SF
41 538 M
(\(query.first\(\)\)) s
5 527 M
(        queryString = ) s
/Courier-Bold 10 10 SUF
137 527 M
("UPDATE accounts SET id = ") s
/F-gs-font 10 10 SF
299 527 M
( + id + ) s
/Courier-Bold 10 10 SUF
347 527 M
(", desc = \\"") s
/F-gs-font 10 10 SF
425 527 M
( + desc + ) s
/Courier-Bold 10 10 SUF
485 527 M
("\\" WHERE key ) s
5 516 M
(= ") s
/F-gs-font 10 10 SF
23 516 M
( + key;) s
5 505 M
(    ) s
/Courier-Bold 10 10 SUF
29 505 M
(else) s
/F-gs-font 10 10 SF
5 494 M
(        queryString = ) s
/Courier-Bold 10 10 SUF
137 494 M
("INSERT INTO accounts VALUES\(\\"") s
/F-gs-font 10 10 SF
329 494 M
( + key + ) s
/Courier-Bold 10 10 SUF
383 494 M
("\\", \\"") s
/F-gs-font 10 10 SF
431 494 M
( + id + ) s
/Courier-Bold 10 10 SUF
479 494 M
("\\", \\"") s
/F-gs-font 10 10 SF
527 494 M
( + desc) s
5 483 M
( + ) s
/Courier-Bold 10 10 SUF
23 483 M
("\\"\)") s
/F-gs-font 10 10 SF
53 483 M
(;) s
5 472 M
(    ) s
5 461 M
(    query.prepare\(queryString\);) s
5 450 M
(    query.exec\(\);) s
5 439 M
(    ) s
5 428 M
(    emit accountsChanged\(\);) s
5 417 M
(}) s
/Courier-Bold 10 10 SUF
5 395 M
(void) s
/F-gs-font 10 10 SF
29 395 M
( ) s
/Courier-Bold 10 10 SUF
35 395 M
(Database::deleteAccount) s
/F-gs-font 10 10 SF
173 395 M
(\(QString key\)) s
5 384 M
({) s
5 373 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 373 M
("DELETE FROM accounts WHERE key = \\"") s
/F-gs-font 10 10 SF
347 373 M
( + key + ) s
/Courier-Bold 10 10 SUF
401 373 M
("\\"") s
/F-gs-font 10 10 SF
425 373 M
(, connection\);) s
5 362 M
(    ) s
5 351 M
(    emit accountsChanged\(\);) s
5 340 M
(}) s
/Courier-Bold 10 10 SUF
5 318 M
(void) s
/F-gs-font 10 10 SF
29 318 M
( ) s
/Courier-Bold 10 10 SUF
35 318 M
(Database::updateJournalTmp) s
/F-gs-font 10 10 SF
191 318 M
(\(QString key, QString date, QString account,) s
5 307 M
(                                QString reference, QString desc, QString debit, QString credit) s
5 296 M
(\)) s
5 285 M
({) s
5 274 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 274 M
("SELECT key FROM journalTmp WHERE key = ") s
/F-gs-font 10 10 SF
371 274 M
( + key, connection\);) s
5 263 M
(    ) s
5 252 M
(    QString queryString;) s
5 241 M
(    ) s
5 230 M
(    ) s
/Courier-Bold 10 10 SUF
29 230 M
(if) s
/F-gs-font 10 10 SF
41 230 M
(\(query.first\(\)\)) s
5 219 M
(        queryString = ) s
/Courier-Bold 10 10 SUF
137 219 M
("UPDATE journalTmp SET date = \\"") s
/F-gs-font 10 10 SF
335 219 M
( + date + ) s
/Courier-Bold 10 10 SUF
395 219 M
("\\", account = \\"") s
/F-gs-font 10 10 SF
503 219 M
( + account ) s
5 208 M
(+) s
5 197 M
(                ) s
/Courier-Bold 10 10 SUF
101 197 M
("\\", reference = \\"") s
/F-gs-font 10 10 SF
221 197 M
( + reference + ) s
/Courier-Bold 10 10 SUF
311 197 M
("\\", desc = \\"") s
/F-gs-font 10 10 SF
401 197 M
( + desc + ) s
/Courier-Bold 10 10 SUF
461 197 M
("\\", debit = \\"") s
/F-gs-font 10 10 SF
557 197 M
( +) s
5 186 M
(                debit + ) s
/Courier-Bold 10 10 SUF
149 186 M
("\\", credit = \\"") s
/F-gs-font 10 10 SF
251 186 M
( + credit + ) s
/Courier-Bold 10 10 SUF
323 186 M
("\\" WHERE key =  ") s
/F-gs-font 10 10 SF
431 186 M
( + key;) s
5 175 M
(    ) s
/Courier-Bold 10 10 SUF
29 175 M
(else) s
/F-gs-font 10 10 SF
5 164 M
(        queryString = ) s
/Courier-Bold 10 10 SUF
137 164 M
("INSERT INTO journalTmp VALUES\(\\"") s
/F-gs-font 10 10 SF
341 164 M
( + key + ) s
/Courier-Bold 10 10 SUF
395 164 M
("\\", \\"") s
/F-gs-font 10 10 SF
443 164 M
( + date + ) s
/Courier-Bold 10 10 SUF
503 164 M
("\\", \\"") s
/F-gs-font 10 10 SF
551 164 M
( +) s
5 153 M
(                account + ) s
/Courier-Bold 10 10 SUF
161 153 M
("\\", \\"") s
/F-gs-font 10 10 SF
209 153 M
( + reference + ) s
/Courier-Bold 10 10 SUF
299 153 M
("\\", \\"") s
/F-gs-font 10 10 SF
347 153 M
( + desc + ) s
/Courier-Bold 10 10 SUF
407 153 M
("\\", \\"") s
/F-gs-font 10 10 SF
455 153 M
( + debit +) s
5 142 M
(                ) s
/Courier-Bold 10 10 SUF
101 142 M
("\\", \\"") s
/F-gs-font 10 10 SF
149 142 M
( + credit + ) s
/Courier-Bold 10 10 SUF
221 142 M
("\\"\)") s
/F-gs-font 10 10 SF
251 142 M
(;) s
5 131 M
(    ) s
5 120 M
(    query.prepare\(queryString\);) s
5 109 M
(    query.exec\(\);) s
5 98 M
(    ) s
5 87 M
(    emit journalTmpChanged\(\);) s
5 76 M
(}) s
/Courier-Bold 10 10 SUF
5 54 M
(void) s
/F-gs-font 10 10 SF
29 54 M
( ) s
/Courier-Bold 10 10 SUF
35 54 M
(Database::deleteJournalTmp) s
/F-gs-font 10 10 SF
191 54 M
(\(QString key\)) s
5 43 M
({) s
5 32 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 32 M
("DELETE FROM journalTmp WHERE key = ") s
/F-gs-font 10 10 SF
347 32 M
( + key, connection\);) s
5 21 M
(}) s
_R
S
%%Page: (49) 49
%%BeginPageSetup
_S
18 36 translate
/pagenum 49 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (49) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(QString ) s
/Courier-Bold 10 10 SUF
53 692 M
(Database::journalTmpDebit) s
/F-gs-font 10 10 SF
203 692 M
(\(\)) s
5 681 M
({) s
5 670 M
(    QString debit\() s
/Courier-Bold 10 10 SUF
113 670 M
("0.00") s
/F-gs-font 10 10 SF
149 670 M
(\);) s
5 659 M
(    ) s
5 648 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 648 M
("SELECT debit FROM journalTmp") s
/F-gs-font 10 10 SF
305 648 M
(, connection\);) s
5 637 M
(    ) s
5 626 M
(    ) s
/Courier-Bold 10 10 SUF
29 626 M
(while) s
/F-gs-font 10 10 SF
59 626 M
(\(query.next\(\)\)) s
5 615 M
(        debit = addCurrency\(debit, query.value\(0\).toString\(\)\);) s
5 604 M
(    ) s
5 593 M
(    ) s
/Courier-Bold 10 10 SUF
29 593 M
(return) s
/F-gs-font 10 10 SF
65 593 M
( debit;) s
5 582 M
(}) s
5 560 M
(QString ) s
/Courier-Bold 10 10 SUF
53 560 M
(Database::journalTmpCredit) s
/F-gs-font 10 10 SF
209 560 M
(\(\)) s
5 549 M
({) s
5 538 M
(    QString credit\() s
/Courier-Bold 10 10 SUF
119 538 M
("0.00") s
/F-gs-font 10 10 SF
155 538 M
(\);) s
5 527 M
(    ) s
5 516 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 516 M
("SELECT credit FROM journalTmp") s
/F-gs-font 10 10 SF
311 516 M
(, connection\);) s
5 505 M
(    ) s
5 494 M
(    ) s
/Courier-Bold 10 10 SUF
29 494 M
(while) s
/F-gs-font 10 10 SF
59 494 M
(\(query.next\(\)\)) s
5 483 M
(        credit = addCurrency\(credit, query.value\(0\).toString\(\)\);) s
5 472 M
(    ) s
5 461 M
(    ) s
/Courier-Bold 10 10 SUF
29 461 M
(return) s
/F-gs-font 10 10 SF
65 461 M
( credit;) s
5 450 M
(}) s
5 428 M
(QString ) s
/Courier-Bold 10 10 SUF
53 428 M
(Database::journalTmpBalance) s
/F-gs-font 10 10 SF
215 428 M
(\(\)) s
5 417 M
({) s
5 406 M
(    QString balance;) s
5 395 M
(    ) s
5 384 M
(    balance = addCurrency\(journalTmpDebit\(\), journalTmpCredit\(\).insert\(0, ) s
/Courier-Bold 10 10 SUF
449 384 M
("-") s
/F-gs-font 10 10 SF
467 384 M
(\)\);) s
5 373 M
(    ) s
5 362 M
(    ) s
/Courier-Bold 10 10 SUF
29 362 M
(return) s
/F-gs-font 10 10 SF
65 362 M
( balance;) s
5 351 M
(}) s
5 329 M
(QString ) s
/Courier-Bold 10 10 SUF
53 329 M
(Database::addCurrency) s
/F-gs-font 10 10 SF
179 329 M
(\(QString base, QString add\) ) s
/Courier-Bold 10 10 SUF
347 329 M
(const) s
/F-gs-font 10 10 SF
5 318 M
({) s
5 307 M
(    ) s
/Courier-Oblique 10 10 SUF
29 307 M
(// code adopted from "moncls.h" by donpa@linuxledgers.com) s
/F-gs-font 10 10 SF
5 296 M
(    ) s
5 285 M
(    QString resultCents;) s
5 274 M
(    QString resultDollars;) s
5 263 M
(    ) s
/Courier-Bold 10 10 SUF
29 263 M
(int) s
/F-gs-font 10 10 SF
47 263 M
( cents;) s
5 252 M
(    ) s
/Courier-Bold 10 10 SUF
29 252 M
(int) s
/F-gs-font 10 10 SF
47 252 M
( dollars;) s
5 241 M
(    ) s
5 230 M
(    QString baseCents;) s
5 219 M
(    QString baseDollars;) s
5 208 M
(    QString addCents;) s
5 197 M
(    QString addDollars;) s
5 186 M
(    ) s
5 175 M
(    baseCents = base.right\(2\);) s
5 164 M
(    base.truncate\(base.length\(\) - 3\);) s
5 153 M
(    baseDollars = base;) s
5 142 M
(    ) s
5 131 M
(    addCents = add.right\(2\);) s
5 120 M
(    add.truncate\(add.length\(\) - 3\);) s
5 109 M
(    addDollars = add;) s
5 98 M
(    ) s
5 87 M
(    ) s
/Courier-Bold 10 10 SUF
29 87 M
(if) s
/F-gs-font 10 10 SF
41 87 M
(\(baseDollars.left\(1\) == ) s
/Courier-Bold 10 10 SUF
185 87 M
("-") s
/F-gs-font 10 10 SF
203 87 M
(\)) s
5 76 M
(    {) s
5 65 M
(        baseCents.setNum\(baseCents.toInt\(\) + 100\);) s
5 54 M
(        baseCents.insert\(0, ) s
/Courier-Bold 10 10 SUF
173 54 M
("-") s
/F-gs-font 10 10 SF
191 54 M
(\);) s
5 43 M
(        baseDollars.setNum\(baseDollars.toInt\(\) + 1\);) s
5 32 M
(    }) s
5 21 M
(    ) s
/Courier-Bold 10 10 SUF
29 21 M
(if) s
/F-gs-font 10 10 SF
41 21 M
(\(addDollars.left\(1\) == ) s
/Courier-Bold 10 10 SUF
179 21 M
("-") s
/F-gs-font 10 10 SF
197 21 M
(\)) s
5 10 M
(    {) s
_R
S
%%Page: (50) 50
%%BeginPageSetup
_S
18 36 translate
/pagenum 50 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (50) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        addCents.setNum\(addCents.toInt\(\) + 100\);) s
5 681 M
(        addCents.insert\(0, ) s
/Courier-Bold 10 10 SUF
167 681 M
("-") s
/F-gs-font 10 10 SF
185 681 M
(\);) s
5 670 M
(        addDollars.setNum\(addDollars.toInt\(\) + 1\);) s
5 659 M
(    }) s
5 648 M
(    ) s
5 637 M
(    dollars = \(baseDollars.toInt\(\) + addDollars.toInt\(\)\);) s
5 626 M
(    cents = \(baseCents.toInt\(\) + addCents.toInt\(\)\);) s
5 615 M
(    ) s
5 604 M
(    ) s
/Courier-Bold 10 10 SUF
29 604 M
(while) s
/F-gs-font 10 10 SF
59 604 M
(\(dollars > 0 && cents < 0\)) s
5 593 M
(    {) s
5 582 M
(        dollars -= 1;) s
5 571 M
(        cents += 100;) s
5 560 M
(    }) s
5 549 M
(    ) s
/Courier-Bold 10 10 SUF
29 549 M
(while) s
/F-gs-font 10 10 SF
59 549 M
(\(cents >= 100\)) s
5 538 M
(    {) s
5 527 M
(        dollars += 1;) s
5 516 M
(        cents -= 100;) s
5 505 M
(    }) s
5 494 M
(    ) s
/Courier-Bold 10 10 SUF
29 494 M
(while) s
/F-gs-font 10 10 SF
59 494 M
(\(cents <= -100\)) s
5 483 M
(    {) s
5 472 M
(        dollars -= 1;) s
5 461 M
(        cents += 100;) s
5 450 M
(    }) s
5 428 M
(    resultDollars.setNum\(dollars\);) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(if) s
/F-gs-font 10 10 SF
41 406 M
(\(cents < 0\)) s
5 395 M
(    {) s
5 384 M
(        cents = 0 - cents;) s
5 373 M
(        ) s
/Courier-Bold 10 10 SUF
53 373 M
(if) s
/F-gs-font 10 10 SF
65 373 M
(\(dollars >= 0\)) s
5 362 M
(            resultDollars.insert\(0, ) s
/Courier-Bold 10 10 SUF
221 362 M
("-") s
/F-gs-font 10 10 SF
239 362 M
(\);) s
5 351 M
(    }) s
5 329 M
(    resultCents.setNum\(cents\);) s
5 307 M
(    ) s
/Courier-Bold 10 10 SUF
29 307 M
(if) s
/F-gs-font 10 10 SF
41 307 M
(\(cents < 10\)) s
5 296 M
(        resultCents.insert\(0, ) s
/Courier-Bold 10 10 SUF
185 296 M
("0") s
/F-gs-font 10 10 SF
203 296 M
(\);) s
5 285 M
(    ) s
5 274 M
(    ) s
/Courier-Bold 10 10 SUF
29 274 M
(return) s
/F-gs-font 10 10 SF
65 274 M
( QString\(resultDollars + ) s
/Courier-Bold 10 10 SUF
215 274 M
(".") s
/F-gs-font 10 10 SF
233 274 M
( + resultCents\);   ) s
5 263 M
(}) s
5 241 M
(QString ) s
/Courier-Bold 10 10 SUF
53 241 M
(Database::negCurrency) s
/F-gs-font 10 10 SF
179 241 M
(\(QString currency\) ) s
/Courier-Bold 10 10 SUF
293 241 M
(const) s
/F-gs-font 10 10 SF
5 230 M
({) s
5 219 M
(    QString result\(currency\);) s
5 197 M
(    ) s
/Courier-Bold 10 10 SUF
29 197 M
(if) s
/F-gs-font 10 10 SF
41 197 M
(\(result.left\(1\) == ) s
/Courier-Bold 10 10 SUF
155 197 M
("-") s
/F-gs-font 10 10 SF
173 197 M
(\)) s
5 186 M
(        result = result.mid\(1\);) s
5 175 M
(    ) s
/Courier-Bold 10 10 SUF
29 175 M
(else) s
/F-gs-font 10 10 SF
5 164 M
(        result = ) s
/Courier-Bold 10 10 SUF
107 164 M
("-") s
/F-gs-font 10 10 SF
125 164 M
( + result;) s
5 142 M
(    ) s
/Courier-Bold 10 10 SUF
29 142 M
(return) s
/F-gs-font 10 10 SF
65 142 M
( result;) s
5 131 M
(}) s
5 109 M
(QString ) s
/Courier-Bold 10 10 SUF
53 109 M
(Database::addCommas) s
/F-gs-font 10 10 SF
167 109 M
(\(QString currency\) ) s
/Courier-Bold 10 10 SUF
281 109 M
(const) s
/F-gs-font 10 10 SF
5 98 M
({) s
5 87 M
(    ) s
/Courier-Bold 10 10 SUF
29 87 M
(bool) s
/F-gs-font 10 10 SF
53 87 M
( neg = false;) s
5 76 M
(    QString result;) s
5 65 M
(    ) s
/Courier-Bold 10 10 SUF
29 65 M
(if) s
/F-gs-font 10 10 SF
41 65 M
(\(currency.left\(1\) == ) s
/Courier-Bold 10 10 SUF
167 65 M
("-") s
/F-gs-font 10 10 SF
185 65 M
(\)) s
5 54 M
(    {) s
5 43 M
(        neg = true;) s
5 32 M
(        result = currency.mid\(1\);) s
5 21 M
(    }) s
5 10 M
(    ) s
/Courier-Bold 10 10 SUF
29 10 M
(else) s
/F-gs-font 10 10 SF
_R
S
%%Page: (51) 51
%%BeginPageSetup
_S
18 36 translate
/pagenum 51 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (51) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(        result = currency;) s
5 670 M
(    ) s
/Courier-Bold 10 10 SUF
29 670 M
(std) s
/F-gs-font 10 10 SF
47 670 M
(::div_t divResult = div\(result.length\(\) - 3, 3\);) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(int) s
/F-gs-font 10 10 SF
47 659 M
( start = divResult.rem;) s
5 648 M
(    ) s
/Courier-Bold 10 10 SUF
29 648 M
(int) s
/F-gs-font 10 10 SF
47 648 M
( times = divResult.quot;) s
5 626 M
(    ) s
/Courier-Bold 10 10 SUF
29 626 M
(for) s
/F-gs-font 10 10 SF
47 626 M
(\() s
/Courier-Bold 10 10 SUF
53 626 M
(int) s
/F-gs-font 10 10 SF
71 626 M
( i = 0; i < times; i++\)) s
5 615 M
(    {) s
5 604 M
(        ) s
/Courier-Bold 10 10 SUF
53 604 M
(if) s
/F-gs-font 10 10 SF
65 604 M
(\(start == 0\)) s
5 593 M
(            ) s
/Courier-Bold 10 10 SUF
77 593 M
(continue) s
/F-gs-font 10 10 SF
125 593 M
(;) s
5 571 M
(        result.insert\(start + i, ) s
/Courier-Bold 10 10 SUF
203 571 M
(",") s
/F-gs-font 10 10 SF
221 571 M
(\);) s
5 549 M
(        start += 3;) s
5 538 M
(    }) s
5 516 M
(    ) s
/Courier-Bold 10 10 SUF
29 516 M
(if) s
/F-gs-font 10 10 SF
41 516 M
(\(neg\)) s
5 505 M
(        ) s
/Courier-Bold 10 10 SUF
53 505 M
(return) s
/F-gs-font 10 10 SF
89 505 M
( negCurrency\(result\);) s
5 494 M
(    ) s
/Courier-Bold 10 10 SUF
29 494 M
(else) s
/F-gs-font 10 10 SF
5 483 M
(        ) s
/Courier-Bold 10 10 SUF
53 483 M
(return) s
/F-gs-font 10 10 SF
89 483 M
( result;) s
5 472 M
(}) s
5 450 M
(QString ) s
/Courier-Bold 10 10 SUF
53 450 M
(Database::formatCurrency) s
/F-gs-font 10 10 SF
197 450 M
(\(QString currency\) ) s
/Courier-Bold 10 10 SUF
311 450 M
(const) s
/F-gs-font 10 10 SF
5 439 M
({) s
5 428 M
(    QString result = addCommas\(currency\);) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(if) s
/F-gs-font 10 10 SF
41 406 M
(\(result.left\(1\) == ) s
/Courier-Bold 10 10 SUF
155 406 M
("-") s
/F-gs-font 10 10 SF
173 406 M
(\)) s
5 395 M
(        result = ) s
/Courier-Bold 10 10 SUF
107 395 M
("\(") s
/F-gs-font 10 10 SF
125 395 M
( + result.mid\(1\) + ) s
/Courier-Bold 10 10 SUF
239 395 M
("\)") s
/F-gs-font 10 10 SF
257 395 M
(;) s
5 373 M
(    ) s
/Courier-Bold 10 10 SUF
29 373 M
(return) s
/F-gs-font 10 10 SF
65 373 M
( result;) s
5 362 M
(}) s
/Courier-Bold 10 10 SUF
5 340 M
(void) s
/F-gs-font 10 10 SF
29 340 M
( ) s
/Courier-Bold 10 10 SUF
35 340 M
(Database::commitJournalTmp) s
/F-gs-font 10 10 SF
191 340 M
(\(\)) s
5 329 M
({) s
5 318 M
(    QStringList data;) s
5 307 M
(    ) s
5 296 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 296 M
("SELECT * FROM journalTmp") s
/F-gs-font 10 10 SF
281 296 M
(, connection\);) s
5 285 M
(    ) s
/Courier-Bold 10 10 SUF
29 285 M
(while) s
/F-gs-font 10 10 SF
59 285 M
(\(query.next\(\)\)) s
5 274 M
(    {) s
5 263 M
(        data << \() s
/Courier-Bold 10 10 SUF
107 263 M
("\\"") s
/F-gs-font 10 10 SF
131 263 M
( + query.value\(1\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
317 263 M
("\\", \\"") s
/F-gs-font 10 10 SF
365 263 M
( + query.value\(2\).toString\(\)) s
5 252 M
(                + ) s
/Courier-Bold 10 10 SUF
113 252 M
("\\", \\"") s
/F-gs-font 10 10 SF
161 252 M
( + query.value\(3\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
347 252 M
("\\", \\"") s
/F-gs-font 10 10 SF
395 252 M
( + query.value\(4\).toString\(\)) s
5 241 M
(                + ) s
/Courier-Bold 10 10 SUF
113 241 M
("\\", \\"") s
/F-gs-font 10 10 SF
161 241 M
( + query.value\(5\).toString\(\) + ) s
/Courier-Bold 10 10 SUF
347 241 M
("\\", \\"") s
/F-gs-font 10 10 SF
395 241 M
( + query.value\(6\).toString\(\) ) s
5 230 M
(+ ) s
/Courier-Bold 10 10 SUF
17 230 M
("\\"") s
/F-gs-font 10 10 SF
41 230 M
(\);) s
5 219 M
(    }) s
5 208 M
(    ) s
5 197 M
(    ) s
/Courier-Bold 10 10 SUF
29 197 M
(for) s
/F-gs-font 10 10 SF
47 197 M
(\(QStringList::Iterator it = data.begin\(\); it != data.end\(\); ++it\)) s
5 186 M
(    {) s
5 175 M
(        query.prepare\() s
/Courier-Bold 10 10 SUF
137 175 M
("INSERT INTO journal VALUES\(") s
/F-gs-font 10 10 SF
311 175 M
( + *it + ) s
/Courier-Bold 10 10 SUF
365 175 M
("\)") s
/F-gs-font 10 10 SF
383 175 M
(\);) s
5 164 M
(        query.exec\(\);) s
5 153 M
(    }) s
5 142 M
(    ) s
5 131 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 131 M
("DROP TABLE journalTmp") s
/F-gs-font 10 10 SF
251 131 M
(\);) s
5 120 M
(    query.exec\(\);) s
5 109 M
(    ) s
5 98 M
(    query.prepare\() s
/Courier-Bold 10 10 SUF
113 98 M
("CREATE TABLE journalTmp \(key, date, account, reference, ") s
/F-gs-font 10 10 SF
5 87 M
(            ) s
/Courier-Bold 10 10 SUF
77 87 M
("desc, debit, credit, PRIMARY KEY \(key\)\)") s
/F-gs-font 10 10 SF
323 87 M
(\);) s
5 76 M
(    query.exec\(\);) s
5 65 M
(    ) s
5 54 M
(    emit journalTmpChanged\(\);) s
5 43 M
(}) s
/Courier-Bold 10 10 SUF
5 21 M
(bool) s
/F-gs-font 10 10 SF
29 21 M
( ) s
/Courier-Bold 10 10 SUF
35 21 M
(Database::journalTmpEmpty) s
/F-gs-font 10 10 SF
185 21 M
(\(\)) s
5 10 M
({) s
_R
S
%%Page: (52) 52
%%BeginPageSetup
_S
18 36 translate
/pagenum 52 def
/fname (database.cpp) def
/fdir () def
/ftail (database.cpp) def
% User defined strings:
/fmodstr (Fri Sep 17 18:47:10 2004) def
/pagenumstr (52) def
/user_header_p false def
/user_footer_p false def
%%EndPageSetup
do_header
5 692 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 692 M
("SELECT * FROM journalTmp") s
/F-gs-font 10 10 SF
281 692 M
(, connection\);) s
5 681 M
(    ) s
/Courier-Bold 10 10 SUF
29 681 M
(if) s
/F-gs-font 10 10 SF
41 681 M
(\(query.next\(\)\)) s
5 670 M
(        ) s
/Courier-Bold 10 10 SUF
53 670 M
(return) s
/F-gs-font 10 10 SF
89 670 M
( false;) s
5 659 M
(    ) s
/Courier-Bold 10 10 SUF
29 659 M
(else) s
/F-gs-font 10 10 SF
5 648 M
(        ) s
/Courier-Bold 10 10 SUF
53 648 M
(return) s
/F-gs-font 10 10 SF
89 648 M
( true;) s
5 637 M
(}) s
5 615 M
(QString ) s
/Courier-Bold 10 10 SUF
53 615 M
(Database::nextAccountKey) s
/F-gs-font 10 10 SF
197 615 M
(\(\)) s
5 604 M
({) s
5 593 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 593 M
("SELECT MAX\(key\) FROM accounts") s
/F-gs-font 10 10 SF
311 593 M
(, connection\);) s
5 582 M
(    ) s
5 571 M
(    ) s
/Courier-Bold 10 10 SUF
29 571 M
(int) s
/F-gs-font 10 10 SF
47 571 M
( key = 0;) s
5 560 M
(    ) s
/Courier-Bold 10 10 SUF
29 560 M
(if) s
/F-gs-font 10 10 SF
41 560 M
(\(query.first\(\)\)) s
5 549 M
(        key = query.value\(0\).toInt\(\);) s
5 538 M
(    ) s
5 527 M
(    ) s
/Courier-Bold 10 10 SUF
29 527 M
(return) s
/F-gs-font 10 10 SF
65 527 M
( QString::number\(++key\);) s
5 516 M
(}) s
5 494 M
(QString ) s
/Courier-Bold 10 10 SUF
53 494 M
(Database::nextJournalTmpKey) s
/F-gs-font 10 10 SF
215 494 M
(\(\)) s
5 483 M
({) s
5 472 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 472 M
("SELECT MAX\(key\) FROM journalTmp") s
/F-gs-font 10 10 SF
323 472 M
(, connection\);) s
5 461 M
(    ) s
5 450 M
(    ) s
/Courier-Bold 10 10 SUF
29 450 M
(int) s
/F-gs-font 10 10 SF
47 450 M
( key = 0;) s
5 439 M
(    ) s
/Courier-Bold 10 10 SUF
29 439 M
(if) s
/F-gs-font 10 10 SF
41 439 M
(\(query.first\(\)\)) s
5 428 M
(        key = query.value\(0\).toInt\(\);) s
5 417 M
(    ) s
5 406 M
(    ) s
/Courier-Bold 10 10 SUF
29 406 M
(return) s
/F-gs-font 10 10 SF
65 406 M
( QString::number\(++key\);) s
5 395 M
(}) s
5 373 M
(QString ) s
/Courier-Bold 10 10 SUF
53 373 M
(Database::getAccountDesc) s
/F-gs-font 10 10 SF
197 373 M
(\(QString account\)) s
5 362 M
({) s
5 351 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 351 M
("SELECT desc FROM accounts WHERE id = ") s
/F-gs-font 10 10 SF
359 351 M
( + account, connection\);) s
5 340 M
(    ) s
/Courier-Bold 10 10 SUF
29 340 M
(if) s
/F-gs-font 10 10 SF
41 340 M
(\(query.next\(\)\)) s
5 329 M
(        ) s
/Courier-Bold 10 10 SUF
53 329 M
(return) s
/F-gs-font 10 10 SF
89 329 M
( query.value\(0\).toString\(\);) s
5 318 M
(    ) s
/Courier-Bold 10 10 SUF
29 318 M
(else) s
/F-gs-font 10 10 SF
5 307 M
(        ) s
/Courier-Bold 10 10 SUF
53 307 M
(return) s
/F-gs-font 10 10 SF
89 307 M
( QString::null;) s
5 296 M
(}) s
/Courier-Bold 10 10 SUF
5 274 M
(bool) s
/F-gs-font 10 10 SF
29 274 M
( ) s
/Courier-Bold 10 10 SUF
35 274 M
(Database::accountExists) s
/F-gs-font 10 10 SF
173 274 M
(\(QString account\)) s
5 263 M
({) s
5 252 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 252 M
("SELECT * FROM accounts WHERE id = ") s
/F-gs-font 10 10 SF
341 252 M
( + account, connection\);) s
5 241 M
(    ) s
/Courier-Bold 10 10 SUF
29 241 M
(if) s
/F-gs-font 10 10 SF
41 241 M
(\(query.first\(\)\)) s
5 230 M
(        ) s
/Courier-Bold 10 10 SUF
53 230 M
(return) s
/F-gs-font 10 10 SF
89 230 M
( true;) s
5 219 M
(    ) s
/Courier-Bold 10 10 SUF
29 219 M
(else) s
/F-gs-font 10 10 SF
5 208 M
(        ) s
/Courier-Bold 10 10 SUF
53 208 M
(return) s
/F-gs-font 10 10 SF
89 208 M
( false;) s
5 197 M
(}) s
/Courier-Bold 10 10 SUF
5 175 M
(bool) s
/F-gs-font 10 10 SF
29 175 M
( ) s
/Courier-Bold 10 10 SUF
35 175 M
(Database::accountHasEntries) s
/F-gs-font 10 10 SF
197 175 M
(\(QString account\)) s
5 164 M
({) s
5 153 M
(    QSqlQuery query\() s
/Courier-Bold 10 10 SUF
125 153 M
("SELECT * FROM journal WHERE account = ") s
/F-gs-font 10 10 SF
365 153 M
( + account, connection\);) s
5 142 M
(    ) s
/Courier-Bold 10 10 SUF
29 142 M
(if) s
/F-gs-font 10 10 SF
41 142 M
(\(query.first\(\)\)) s
5 131 M
(        ) s
/Courier-Bold 10 10 SUF
53 131 M
(return) s
/F-gs-font 10 10 SF
89 131 M
( true;) s
5 120 M
(    ) s
/Courier-Bold 10 10 SUF
29 120 M
(else) s
/F-gs-font 10 10 SF
5 109 M
(        ) s
/Courier-Bold 10 10 SUF
53 109 M
(return) s
/F-gs-font 10 10 SF
89 109 M
( false;) s
5 98 M
(}) s
5 76 M
(Database *Database::db = 0;) s
_R
S
%%Trailer
%%Pages: 52
%%DocumentNeededResources: font Courier-Oblique Courier-Bold Courier 
%%EOF
